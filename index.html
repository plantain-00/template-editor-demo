<!DOCTYPE html>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="A template editor demo.">
<title>template-editor-demo</title>
<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:"Lucida Grande","Lucida Sans Unicode","Hiragino Sans GB","WenQuanYi Micro Hei","Verdana,Aril",sans-serif;-webkit-font-smoothing:antialiased}.schema-based-json-editor--card{padding:1.25rem;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}button{margin:5px;padding:5px;border-radius:5px;cursor:pointer;border:1px solid #000}input[type=number],input[type=text]{width:180px;padding:5px;margin:5px}select{height:29px;padding:5px;margin:5px}/*!
 * "Fork me on GitHub" CSS ribbon v0.2.3 | MIT License
 * https://github.com/simonwhitaker/github-fork-ribbon-css
*/.github-fork-ribbon{width:12.1em;height:12.1em;position:absolute;overflow:hidden;top:0;right:0;z-index:9999;pointer-events:none;font-size:13px;text-decoration:none;text-indent:-999999px}.github-fork-ribbon.fixed{position:fixed}.github-fork-ribbon:active,.github-fork-ribbon:hover{background-color:rgba(0,0,0,0)}.github-fork-ribbon:after,.github-fork-ribbon:before{position:absolute;display:block;width:15.38em;height:1.54em;top:3.23em;right:-3.23em;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.github-fork-ribbon:before{content:"";padding:.38em 0;background-color:#a00;background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,0)),to(rgba(0,0,0,.15)));background-image:-webkit-linear-gradient(top,rgba(0,0,0,0),rgba(0,0,0,.15));background-image:-moz-linear-gradient(top,rgba(0,0,0,0),rgba(0,0,0,.15));background-image:-ms-linear-gradient(top,rgba(0,0,0,0),rgba(0,0,0,.15));background-image:-o-linear-gradient(top,rgba(0,0,0,0),rgba(0,0,0,.15));background-image:linear-gradient(to bottom,rgba(0,0,0,0),rgba(0,0,0,.15));-webkit-box-shadow:0 .15em .23em 0 rgba(0,0,0,.5);-moz-box-shadow:0 .15em .23em 0 rgba(0,0,0,.5);box-shadow:0 .15em .23em 0 rgba(0,0,0,.5);pointer-events:auto}.github-fork-ribbon:after{content:attr(data-ribbon);color:#fff;font:700 1em "Helvetica Neue",Helvetica,Arial,sans-serif;line-height:1.54em;text-decoration:none;text-shadow:0 -.08em rgba(0,0,0,.5);text-align:center;text-indent:0;padding:.15em 0;margin:.15em 0;border-width:.08em 0;border-style:dotted;border-color:#fff;border-color:rgba(255,255,255,.7)}.github-fork-ribbon.left-bottom,.github-fork-ribbon.left-top{right:auto;left:0}.github-fork-ribbon.left-bottom,.github-fork-ribbon.right-bottom{top:auto;bottom:0}.github-fork-ribbon.left-bottom:after,.github-fork-ribbon.left-bottom:before,.github-fork-ribbon.left-top:after,.github-fork-ribbon.left-top:before{right:auto;left:-3.23em}.github-fork-ribbon.left-bottom:after,.github-fork-ribbon.left-bottom:before,.github-fork-ribbon.right-bottom:after,.github-fork-ribbon.right-bottom:before{top:auto;bottom:3.23em}.github-fork-ribbon.left-top:after,.github-fork-ribbon.left-top:before,.github-fork-ribbon.right-bottom:after,.github-fork-ribbon.right-bottom:before{-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);transform:rotate(-45deg)}.select2-container{-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;margin:0;position:relative;vertical-align:middle;width:100%}.select2-container .select2-container-dropdown{position:absolute}.select2-container .select2-selection--single{-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer;display:block;height:28px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.select2-container .select2-selection--single .select2-selection__rendered{display:block;padding-left:8px;padding-right:20px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.select2-container .select2-selection--single .select2-selection__clear{position:relative}.select2-container .select2-selection--multiple{-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer;display:block;min-height:32px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.select2-container .select2-selection--multiple .select2-selection__rendered{display:inline-block;overflow:hidden;padding-left:8px;text-overflow:ellipsis;white-space:nowrap}.select2-container .select2-search--inline{float:left}.select2-container .select2-search--inline .select2-search__field{-webkit-box-sizing:border-box;box-sizing:border-box;border:none;font-size:100%;margin-top:5px;padding:0}.select2-container .select2-search--inline .select2-search__field::-webkit-search-cancel-button{-webkit-appearance:none}.select2-dropdown{background-color:#fff;border:1px solid #aaa;border-radius:4px;-webkit-box-sizing:border-box;box-sizing:border-box;display:block;position:absolute;left:-100000px;width:100%;z-index:1051}.select2-results{display:block}.select2-results__options{list-style:none;margin:0;padding:0}.select2-results__option{padding:6px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.select2-results__option[aria-selected]{cursor:pointer}.select2-container--open .select2-dropdown{left:0}.select2-container--open .select2-dropdown--above{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--open .select2-dropdown--below{border-top:none;border-top-left-radius:0;border-top-right-radius:0}.select2-search--dropdown{display:block;padding:4px}.select2-search--dropdown .select2-search__field{padding:4px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.select2-search--dropdown .select2-search__field::-webkit-search-cancel-button{-webkit-appearance:none}.select2-search--dropdown.select2-search--hide{display:none}.select2-close-mask{border:0;margin:0;padding:0;display:block;position:fixed;left:0;top:0;min-height:100%;min-width:100%;height:auto;width:auto;opacity:0;z-index:99;background-color:#fff}.select2-hidden-accessible{border:0!important;clip:rect(0 0 0 0)!important;height:1px!important;margin:-1px!important;overflow:hidden!important;padding:0!important;position:absolute!important;width:1px!important}.select2-container--default .select2-selection--single{background-color:#fff;border:1px solid #aaa;border-radius:4px}.select2-container--default .select2-selection--single .select2-selection__rendered{color:#444;line-height:28px}.select2-container--default .select2-selection--single .select2-selection__clear{cursor:pointer;float:right;font-weight:700}.select2-container--default .select2-selection--single .select2-selection__placeholder{color:#999}.select2-container--default .select2-selection--single .select2-selection__placeholder__option{display:none}.select2-container--default .select2-selection--single .select2-selection__arrow{height:26px;position:absolute;top:1px;right:1px;width:20px}.select2-container--default .select2-selection--single .select2-selection__arrow b{border-color:#888 transparent;border-style:solid;border-width:5px 4px 0;height:0;left:50%;margin-left:-4px;margin-top:-2px;position:absolute;top:50%;width:0}.select2-container--default.select2-container--disabled .select2-selection--single{background-color:#eee;cursor:default}.select2-container--default.select2-container--disabled .select2-selection--single .select2-selection__clear{display:none}.select2-container--default.select2-container--open .select2-selection--single .select2-selection__arrow b{border-color:transparent transparent #888;border-width:0 4px 5px}.select2-container--default .select2-selection--multiple{background-color:#fff;border:1px solid #aaa;border-radius:4px;cursor:text}.select2-container--default .select2-selection--multiple .select2-selection__rendered{-webkit-box-sizing:border-box;box-sizing:border-box;list-style:none;margin:0;padding:0 5px;width:100%}.select2-container--default .select2-selection--multiple .select2-selection__rendered li{list-style:none}.select2-container--default .select2-selection--multiple .select2-selection__placeholder{color:#999;margin-top:5px;float:left}.select2-container--default .select2-selection--multiple .select2-selection__placeholder__option{display:none}.select2-container--default .select2-selection--multiple .select2-selection__clear{cursor:pointer;float:right;font-weight:700;margin-top:5px;margin-right:10px}.select2-container--default .select2-selection--multiple .select2-selection__choice{background-color:#e4e4e4;border:1px solid #aaa;border-radius:4px;cursor:default;float:left;margin-right:5px;margin-top:5px;padding:0 5px}.select2-container--default .select2-selection--multiple .select2-selection__choice__remove{color:#999;cursor:pointer;display:inline-block;font-weight:700;margin-right:2px}.select2-container--default .select2-selection--multiple .select2-selection__choice__remove:hover{color:#333}.select2-container--default.select2-container--focused .select2-selection--multiple{border:solid #000 1px;outline:0}.select2-container--default:not(.select2-container--open) .select2-focused .select2-selection--multiple,.select2-container--default:not(.select2-container--open) .select2-focused .select2-selection--single{border:solid #000 1px;outline:0}.select2-container--default.select2-container--disabled .select2-selection--multiple{background-color:#eee;cursor:default}.select2-container--default.select2-container--disabled .select2-selection__choice__remove{display:none}.select2-container--default.select2-container--open.select2-container--above .select2-selection--multiple,.select2-container--default.select2-container--open.select2-container--above .select2-selection--single{border-top-left-radius:0;border-top-right-radius:0}.select2-container--default.select2-container--open.select2-container--below .select2-selection--multiple,.select2-container--default.select2-container--open.select2-container--below .select2-selection--single{border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--default .select2-search--dropdown .select2-search__field{border:1px solid #aaa}.select2-container--default .select2-search--inline .select2-search__field{background:0 0;border:none;outline:0;-webkit-box-shadow:none;box-shadow:none;-webkit-appearance:textfield}.select2-container--default .select2-results>.select2-results__options{max-height:200px;overflow-y:auto}.select2-container--default .select2-results__option[role=group]{padding:0}.select2-container--default .select2-results__option[aria-disabled=true]{color:#999}.select2-container--default .select2-results__option[aria-selected=true]{background-color:#ddd}.select2-container--default .select2-results__option .select2-results__option{padding-left:1em}.select2-container--default .select2-results__option .select2-results__option .select2-results__group{padding-left:0}.select2-container--default .select2-results__option .select2-results__option .select2-results__option{margin-left:-1em;padding-left:2em}.select2-container--default .select2-results__option .select2-results__option .select2-results__option .select2-results__option{margin-left:-2em;padding-left:3em}.select2-container--default .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option{margin-left:-3em;padding-left:4em}.select2-container--default .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option{margin-left:-4em;padding-left:5em}.select2-container--default .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option{margin-left:-5em;padding-left:6em}.select2-container--default .select2-results__option--highlighted[aria-selected]{background-color:#5897fb;color:#fff}.select2-container--default .select2-results__group{cursor:default;display:block;padding:6px;color:gray}select2.material{display:inline-block;width:300px}select2.material>.select2-container{padding-bottom:1.29688em;vertical-align:inherit}select2.material>.select2-container .selection{padding:.4375em 0;border-top:.84375em solid transparent;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;width:100%;height:auto}select2.material .select2-container--default .select2-selection--multiple,select2.material .select2-container--default .select2-selection--single{width:100%;border:0;border-radius:0;height:24px;-webkit-box-sizing:border-box;box-sizing:border-box}select2.material .select2-container--default .select2-selection--multiple::before,select2.material .select2-container--default .select2-selection--single::before{content:' ';display:block;position:absolute;bottom:1.65em;background-color:#ddd;height:1px;width:100%}select2.material .select2-container--default .select2-selection--multiple::after,select2.material .select2-container--default .select2-selection--single::after{content:' ';display:block;position:absolute;bottom:1.63em;background-color:#5a419e;height:2px;width:0%;left:50%;-webkit-transition:none;transition:none}select2.material .select2-container--default .select2-selection--multiple .select2-selection__rendered,select2.material .select2-container--default .select2-selection--single .select2-selection__rendered{padding-left:1px;line-height:inherit}select2.material .select2-container--default .select2-selection--multiple .select2-selection__placeholder,select2.material .select2-container--default .select2-selection--single .select2-selection__placeholder{display:block;color:rgba(0,0,0,.38);-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;position:absolute;-webkit-transform-origin:0 21px;transform-origin:0 21px;left:0;top:20px}select2.material .select2-container--default .select2-container--open{left:0;bottom:1.6em}select2.material .select2-container--default .select2-selection__placeholder__option{-webkit-transform:translateY(-1.5em) scale(.75) perspective(100px) translateZ(.001px);transform:translateY(-1.5em) scale(.75) perspective(100px) translateZ(.001px);width:133.33333%}select2.material .select2-container--default .select2-selection__arrow{top:20px}select2.material .select2-container--default .select2-focused .select2-selection--multiple::after,select2.material .select2-container--default .select2-focused .select2-selection--single::after,select2.material .select2-container--default.select2-container--open .select2-selection--multiple::after,select2.material .select2-container--default.select2-container--open .select2-selection--single::after{-webkit-transition:width .3s cubic-bezier(.12,1,.77,1),left .3s cubic-bezier(.12,1,.77,1);transition:width .3s cubic-bezier(.12,1,.77,1),left .3s cubic-bezier(.12,1,.77,1);width:100%;left:0}select2.material .select2-container--default .select2-dropdown{border-radius:0;border:0;-webkit-box-shadow:0 5px 5px rgba(0,0,0,.5);box-shadow:0 5px 5px rgba(0,0,0,.5)}select2.material .select2-container--default .select2-results__option--highlighted[aria-selected],select2.material .select2-container--default .select2-results__option[aria-selected=true]{background-color:rgba(0,0,0,.04);color:#000}select2.material .select2-container--default .select2-results__option[aria-selected=true]{color:#ff5722}select2.material .select2-container--default.select2-container--disabled .select2-selection--multiple,select2.material .select2-container--default.select2-container--disabled .select2-selection--single{background-color:transparent}select2.material .select2-container--default.select2-container--disabled .select2-selection--multiple::before,select2.material .select2-container--default.select2-container--disabled .select2-selection--single::before{background-image:-webkit-gradient(linear,left top,right top,color-stop(0,rgba(0,0,0,.26)),color-stop(33%,rgba(0,0,0,.26)),color-stop(0,transparent));background-image:linear-gradient(to right,rgba(0,0,0,.26) 0,rgba(0,0,0,.26) 33%,transparent 0);background-size:4px 1px;background-repeat:repeat-x;background-color:transparent;background-position:0 bottom}select2.material.ng-invalid.ng-touched .select2-container--default .select2-selection--multiple::after,select2.material.ng-invalid.ng-touched .select2-container--default .select2-selection--multiple::before,select2.material.ng-invalid.ng-touched .select2-container--default .select2-selection--single::after,select2.material.ng-invalid.ng-touched .select2-container--default .select2-selection--single::before{background-color:red}select2.material:not(.select2-container--open) .select2-focused .select2-selection--multiple,select2.material:not(.select2-container--open) .select2-focused .select2-selection--single{border:0}select2.material .select2-subscript-wrapper{position:absolute;top:calc(100% - 1.72917em);font-size:75%}@supports (-moz-appearance:none){select2.material .select2-container--default .select2-selection--multiple,select2.material .select2-container--default .select2-selection--single{height:26px}}@supports (-ms-scroll-limit:0){select2.material .select2-container--default .select2-selection--multiple,select2.material .select2-container--default .select2-selection--single{height:25px}}.tree-default .tree-icon,.tree-default .tree-node,.tree-default-large .tree-icon,.tree-default-large .tree-node,.tree-default-small .tree-icon,.tree-default-small .tree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAABBJREFUCNdjYGBkgIDByQIABdAAEebbh+QAAAAASUVORK5CYII=)}.tree-default .tree-open>.tree-ocl,.tree-default-large .tree-open>.tree-ocl,.tree-default-small .tree-open>.tree-ocl{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAgMAAAAOFJJnAAAADFBMVEUAAAAmJiYdHRtVV1uUYpaUAAAAAXRSTlMAQObYZgAAAChJREFUGNNjAAImBmRAYxEBGCsASjNegDLYYQz5S0pKCiBGaADDQAMAVcIEESWBUowAAAAASUVORK5CYII=)}.tree-default .tree-closed>.tree-ocl,.tree-default-large .tree-closed>.tree-ocl,.tree-default-small .tree-closed>.tree-ocl{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAG1BMVEUAAAAdHRukpKT8+/vs7O2op6mYmZjn5+eAgok7pES4AAAAAXRSTlMAQObYZgAAACxJREFUKM9jgAJGBlxgyKlgYkQXCEAXcEIXMElAEzCuYAQD3CqcCNrCMAwAADRiAxcmiEALAAAAAElFTkSuQmCC)}.tree-default .tree-leaf>.tree-ocl,.tree-default-large .tree-leaf>.tree-ocl,.tree-default-small .tree-leaf>.tree-ocl{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAABRJREFUCNdjYGBkgACqsUJDGKgHADdHALNBlbR9AAAAAElFTkSuQmCC)}.tree-default .tree-folder,.tree-default .tree-themeicon,.tree-default-large .tree-folder,.tree-default-large .tree-themeicon,.tree-default-small .tree-folder,.tree-default-small .tree-themeicon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAOVBMVEUAAAAECgIJAAAEBATq2p0AAAD99tX37cbgyI2hjFX9+O3p157Js3vdzKfOwJK3oWfz3Lv67uHw0rdDZAqVAAAABnRSTlMAFglBaibAScseAAAAg0lEQVQ4y+2NWxbDIAgFTR+ggqDd/2ILpv3IUXaQ+Z3hkm5W2kRE+LX39QeABsEY9Vxg3QYAo82BYEJMtKkRgwBBqus4QPH7aIFNsHmnbAPsM+hG2Xr6dHZPRGvwSIpkMBDlnNfgOLSbIA2DpxKLZIXsbF54YASBF+8y+QchZ5ZurnwBoZgH/OIWzMIAAAAASUVORK5CYII=)}.tree-default-large>.tree-no-dots .tree-open>.tree-ocl,.tree-default-small>.tree-no-dots .tree-open>.tree-ocl,.tree-default>.tree-no-dots .tree-open>.tree-ocl{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAgMAAAAOFJJnAAAACVBMVEUAAAAmJiZVV1v6eooZAAAAAXRSTlMAQObYZgAAAB9JREFUGNNjoDcQgDECoDTjBCiDDcaQgjFCAxgGGgAAoDIC1z9iTfwAAAAASUVORK5CYII=)}.tree-default-large>.tree-no-dots .tree-closed>.tree-ocl,.tree-default-small>.tree-no-dots .tree-closed>.tree-ocl,.tree-default>.tree-no-dots .tree-closed>.tree-ocl{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEUAAACkpKT8+/vs7O2op6mYmZjn5+eAgokPr01lAAAAAXRSTlMAQObYZgAAACNJREFUKM9jGH6AEUPAAV3AEF1AOQBNQCmdkApDgrYwDAMAAG4QAlv/KBLeAAAAAElFTkSuQmCC)}.tree-default .tree-checkbox,.tree-default-large .tree-checkbox,.tree-default-small .tree-checkbox{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAMFBMVEUAAAClpaXx8vGkpKTf3+DU09Xs7O3o5+f29faop6nl5eXh4uL8+/uYmZjW1tnU1daZ67FlAAAAAnRSTlMA/bWfQ5kAAABySURBVCjPYxjUgNdQUFBY0PgCXIDZSQkI1A0QAklpShodJxACjMvK05SUmpAElu8uS0tCFljisqssTQlFwHs5qsA/l93lSUi2lIQ+cdmOLFAaChQpQhUIdXFCFfgaiiyQ0dHRcQbJpbyWM4Fg8gWGwQwAfB8nJd6M3AoAAAAASUVORK5CYII=)}.tree-default .tree-checkbox:hover,.tree-default-large .tree-checkbox:hover,.tree-default-small .tree-checkbox:hover{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAALVBMVEUAAADfn2XenWP35dP67uH9+O3x07j78un13sf459bhq2nz3Lv78uj8+/vezamHPKYmAAAAAnRSTlMA+bLyh4AAAAB2SURBVCjPYxjUgEkJDBQQAu3lQFCMJODi4h4aehVJwGTyFJfSUCQBS2NLoBqEAKNxs+UUlxpkgQ5jyyk+SAId2R3GM5EFLNJ2NFsiC1inZe9otkGyxSwtLbvDHFng3bO0tHYkAdfQ0NC7yC7VWgUEixQYBjMAAO/II2cJ8sNbAAAAAElFTkSuQmCC)}.tree-default .tree-checked>.tree-checkbox,.tree-default-large .tree-checked>.tree-checkbox,.tree-default-large.tree-checkbox-selection .tree-clicked>.tree-checkbox,.tree-default-small .tree-checked>.tree-checkbox,.tree-default-small.tree-checkbox-selection .tree-clicked>.tree-checkbox,.tree-default.tree-checkbox-selection .tree-clicked>.tree-checkbox{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAt1BMVEUAAAAEYBhYuC4xjSkPcRukpKTn5+fx8vHs7O3f3+D8+/s1rwEupQDC1Me4zL2py6KYmZgknAD29fbT09QqiR01lxsyqwCwxLawza2guqSXsZ+y6JGDloeg3oCR1nCI02F7x1puwktcrkRrzTRdxCpQwhUjihJKvQ9AtwUilgTW+LqkvKuo34qi2Id4kX+s8Hh1mHac426Gvm6Lz2yJ1WCC2E1iuUN41EJRozplxDc7jjQ/ohwslBG/LIMUAAAABXRSTlMANPv5Rcd7Gp0AAACvSURBVDjL7dHHEoIwFIVhUQlETIL03qu99/d/LoPjwhniOOz5t+dbJHMHfV2T+a9kBuCFySe0sngmEJsEhfhzd8sCeG8BCkjg+stg3AZetIlsUSSH3TEME661c8NLeoptEqdZdrt6gzZ45GWVJ+dSkiQdsR651ulUSYZh6Ehg/sJ8Tt9pSGQDwSlmNA1D8AOoTlHXmgkhZANFVRejO6Y7UJgAAgAwAk2Q/3+svo69AFzODdF0p54hAAAAAElFTkSuQmCC)}.tree-default .tree-checked>.tree-checkbox:hover,.tree-default-large .tree-checked>.tree-checkbox:hover,.tree-default-large.tree-checkbox-selection .tree-clicked>.tree-checkbox:hover,.tree-default-small .tree-checked>.tree-checkbox:hover,.tree-default-small.tree-checkbox-selection .tree-clicked>.tree-checkbox:hover,.tree-default.tree-checkbox-selection .tree-clicked>.tree-checkbox:hover{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAulBMVEUAAAAFYRhYuC4xjSkPcRsCXhnhq2n35dT67uH8+/v78uk1rwHFwJ0upQD9+O303cbenWM1lxsknADM18DJz7ipy6Kh3IKI1GEyqwDz3Lu/0bW5vJay6JGR1nB7x1qrmVVuwktcrkRmyDRdxCoqiR1QwhUjihJKvQ9AtwUilgTW+Lrw0rewza2wuY6o34qorois8Hic426Gvm6Lz2y3nFmcnFCC2E1iuUN41EJRozpvzjg7jjQ/ohwslBFWDj97AAAABnRSTlMAMfv5RTnLnnwWAAAArklEQVQ4y+3RxxKCMBCAYbAQhEiI9N6bvXff/7UMjgdnCONw57vuf9idZXpdydwPmRJwwuRL0TWOGvA1QdL0uXuiBfbeAaTQPFdfe6NmEPhbH/I8POwMw4jYxpwdXO/nEMIwTpL4dmQaxs+sKLPoUoiiiBXakgEmo1I0TRMrEvWK5Wv6gVVeoJ+5ymdEqgLQEiw2eVWlEKGWQLIsZ/iAgKDvgMjEVkENcf+f1evoDUT+Dm+6pJVnAAAAAElFTkSuQmCC)}.tree-default .tree-anchor>.tree-undetermined,.tree-default-large .tree-anchor>.tree-undetermined,.tree-default-small .tree-anchor>.tree-undetermined{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAeFBMVEUAAABaoVWlpaWop6mkpKTs7O0kmwDq6+s3rwbx8vHO48PP9q+a5md910hbrkPw8O/s7+yYmZi38Yyz74h0vVj29fbS58ZdxCpQvxjn5+ev3Jmf5m6Oy22C2E2wxbWluaW98ZWc1XuV41541EJozDFgxyxAtwUnngB7eEGDAAAAA3RSTlMA/v4qTNf2AAAAjElEQVQ4y+3RuRKDIBSF4RguKGgggixu2Zf3f0NhhvJS2PvVf3FmzumwVw/JOQHokQC4VeoaKWU5oIGYhHNORGhA6NPoNnq0EyVYUC/dbLTWxiw1Hgzrq4vmdSgFl+T9CbIUBP/1PvyaUiCbTOIjacUY+7OoHGQVGgC/V9nNAhaMnGZ8BPwskqWzDjttI4sIZBYNKAIAAAAASUVORK5CYII=)}.tree-default .tree-anchor>.tree-undetermined:hover,.tree-default-large .tree-anchor>.tree-undetermined:hover,.tree-default-small .tree-anchor>.tree-undetermined:hover{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAdVBMVEUAAABaoVXiq2n67uEkmwCZ5mV/2Ek2rgbO48O38Yz9+O378un78uj58+TS58bP9q/enWN0vVharkJgxyz37d736tmz74hQvxg1rwD35dSv3JmOy2141ELW+LqwxbWluaW98ZWq7Huc1Xui6W9erUZozDE5sAaOHva0AAAAAnRSTlMA/iyWEiMAAACCSURBVDjL7dFJEoIwEEBRk5bYJFFBMWFyHu5/RFsLKBbdRbHnrf/urxZzZXokYwLtLGyJt946zQUea9wRRPRsAI+Q7sntXAMbFE3yDCkJDR+ccpP83E0uBa0h7TsepCAeSfyUQlC8Nn+lGKh1RwhgCBQfuKvqXCwbVNBzlZ6etZjpC9oQB1pSrrQlAAAAAElFTkSuQmCC)}.tree-default .tree-file,.tree-default-large .tree-file,.tree-default-small .tree-file{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAM1BMVEUAAAA5OTkFCwN+fn51d3z+/P35+fkEBAQJAAD////8+/vy8/L29fbT09R0dnvu7u7n5+dChD+/AAAACXRSTlMAWhaA/f7+QQlUxaTBAAAAaUlEQVQ4y+3QQQ6AIAxEURFFmVLw/qcVTHXlkOhWX1h+2qTD77nRHxwNXGzS5rsBikbfnSAq8L0AoqoLCawo4khgABLM8fQ2QJyB+mgQYFggyYAERUxiK0L9HfiKJU9Nru4vuY6XdfiYHYSWBY/m/wWIAAAAAElFTkSuQmCC)!important}.tree-default-large>.tree-container-ul .tree-loading>.tree-ocl,.tree-default-small>.tree-container-ul .tree-loading>.tree-ocl,.tree-default>.tree-container-ul .tree-loading>.tree-ocl{background:url(data:image/gif;base64,R0lGODlhEAAQAPMAAP////Dw8IqKiuDg4EZGRnp6egAAAFhYWCQkJKysrL6+vhQUFJycnAQEBDY2NmhoaCH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAAEcRBIEOg7dWow0AiGMVCbNBhI0IjBqA2jYAgrnEkBMYPNcXymzEDXULhwQFwg4TjiNAKCj1GiBK5RAoFaul6tisItqAkIFgRnyzgpIBhmAWyQoLA5o4FDkWAM5E8TAQcFAAxUA3AlAwUjhxIKYyUKClURACH5BAkKAAAALAAAAAAQABAAAARwEEgQaHm1zjnICIgxDEuySYPhgM0QKtsICAaDLIxBbMGBBwvHxWDIaAYHlQyg+HwmgUDCc9JIEo9CAXaiRAOMw+PBrX69A4ZVEuVNDwNe4CkREBLgxEg2P8YHDwMKeE1sPAUMTCaCa2xqiiiNJ0snEQAh+QQJCgAAACwAAAAAEAAQAAAEchBIECgTtc453ggEEgROsklDc4DiYSjbBzBGEiYGAQxwUJQkgkDgMAwEBuPusTgMBihaEkYJKB4aicIgmCiGDOhpRE4UztQxuTpIZCWjTSDxwMgDMgmjoLD213gaMkdPH3lvAQwwTxR5cm47YnEnMWInEQAh+QQJCgAAACwAAAAAEAAQAAAEcBBIEChjtc45SggH8R3KJg2OFwaPUU4fwCxKqBgPNVDCMwSEwoVgCDAMi0on9TspEAaX5KPwbAa4X0DBSCR2psdi0SBdGOBNK+qgBAYKDWdAzwwEmM2nKeH+6h92GjFbgW+Dego7hHx6TTFuJiaQJhEAIfkECQoAAAAsAAAAABAAEAAABGYQSBBoKbXOOU4IhvEZyiYNhhcGC7l9QEGGjLFQA3UsCuhcK5kI0EkNNANFyMCQfBSeDcpxDAwY2JzJseRdCtpNa0mxHjdK6tmK1UiUIe31OKjCyGXc53OGvup5Vm4TgnmGJoSDExEAIfkECQoAAAAsAAAAABAAEAAABHgQSBCoUrXOGVIIQvEVwyYFhScIIFJy1fAM67AIVBkoyQAyl4JjhyBkFAKMJjA4GByvz8CzCRAYH+nAZwIwDgeCYLvVbBgIxOJBYX42Awej3KZLpgYDIerLfhYGTQYLGRl9HQYHADxVXG8IBgpdWW0AAwYMXVVLGxEAIfkECQoAAAAsAAAAABAAEAAABHMQSBDoGLXOGVQIDPMxwyaBWCIyRMlVgxCoA5FYFjYrF/N0hJ+F9zkNHouD6xPAbAKPBHOq2SQej4NsagIkCA5HgdIsTgYHafFzqQ4UBoPQMi08EAaowZHJYBYGAgZjb086gAN4Lk9MDQYXDTddJwd8FBsRACH5BAkKAAAALAAAAAAQABAAAARxEEgQ6Bi1zhlwUEoQJMMmfRj4PSVXDSE4PAqVdeJ1JUV3CDePplNwFFqi5CYgCCWfJoCiQE08NRvF4/CzeZY0Za6DHCAMvZPHYBAICAimgXADCNAIBKMNgG0GbAMLCwEOBi0bCQYhgx0INVElAVwZGxEAIfkECQoAAAAsAAAAABAAEAAABHMQSBBouHTqe8e4SqVRX+CZjChhpvkJg2VxtJKYQmqV4sU8jNgMMwkEabQRYCBo3pKjQWGasCgQig2MsyQYDMHVgLAQVAINg2NgQDASD4IR8agwsgKDwOFIgJdCEmwIAXwBBw2BEwmJAQgOJgRZSmdTZxoRACH5BAkKAAAALAAAAAAQABAAAARzEEgQaLh06sv5qBr1dYMCSlgwXspgWav3DYwJc2iQCLalnpQW57EoPkKAQWKpcBieBCSNwVPRFq5JgLFKEp69y8PBqAQQhseZsBQcAopDoZJwCQyMA0GxSIg0AwYOAXoBBQ5ZGgoIHwQEKg+JGxQCAmYaEQAh+QQJCgAAACwAAAAAEAAQAAAEbxBIEGi4dOrLe9XU4AWiNgxhV2KBYQijGCil4hqlNdDfVRiJjezyQBgfIMBOQTs0FotCcpkQiRIE1CRQ5SgPrtxF8EhUAg5DIUA4MBmPWYFRoQEYwMJj4AiSTAsEAXoBDFlTWQEPBz5aIGcMdBkTEQAh+QQJCgAAACwAAAAAEAAQAAAEcxBIEGi4dGq1xv2YBigGAgaeNgzAYSRfigWIIQyGEV9eNdQGRkKyq1gYDYXmFBA4CASBiLJaFRBYqQhV/SgOrElA0asECoaO8ZIQKMwuQeBRWCUYKKGPxVEI6g8sIUQOD00FAQmIUwOBhxcMYVsUCTAZExEAOw==) center center no-repeat}.tree-dark .tree-icon,.tree-dark .tree-node,.tree-dark-large .tree-icon,.tree-dark-large .tree-node,.tree-dark-small .tree-icon,.tree-dark-small .tree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAABlBMVEUAAACZmZl+9SADAAAAAXRSTlMAQObYZgAAABBJREFUCNdjYGBkgIDByQIABdAAEebbh+QAAAAASUVORK5CYII=)}.tree-dark .tree-open>.tree-ocl,.tree-dark-large .tree-open>.tree-ocl,.tree-dark-small .tree-open>.tree-ocl{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAKlBMVEUAAAAAAAAAAAAAAAABAQEAAAD///+ZmZnq6urz8/P39/fs7OyPj494eHhHIC8fAAAABnRSTlMAMQw9JRhvHRdtAAAASElEQVQoz2OAAnYGXGDQqWAKQhNRTkHl85gloilIQxVgMoMKIBSgCjBZzZy5lh0EYApm7uieiKwioqOjowVZQEVQUNCJYdgBAHy/DL3ZF2vMAAAAAElFTkSuQmCC)}.tree-dark .tree-closed>.tree-ocl,.tree-dark-large .tree-closed>.tree-ocl,.tree-dark-small .tree-closed>.tree-ocl{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAKlBMVEUAAAAAAAAAAAAAAAABAQEAAAD///+ZmZn7+/v09PTs7Ozo6OiPj494eHjfLJDSAAAABnRSTlMADD0xJRh3IQ36AAAATElEQVQoz2OAAnYGXGCQqRAVRxNwU0QTMMsVQBNoU0QTSEsSQBNIU0QXyGEHAZiARUcHqgqLmU2oZljORLPFahGaO7wV0f0iwDDYAQCYOwtF7qY4LwAAAABJRU5ErkJggg==)}.tree-dark .tree-leaf>.tree-ocl,.tree-dark-large .tree-leaf>.tree-ocl,.tree-dark-small .tree-leaf>.tree-ocl{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAABlBMVEUAAACZmZl+9SADAAAAAXRSTlMAQObYZgAAABRJREFUCNdjYGBkgACqsUJDGKgHADdHALNBlbR9AAAAAElFTkSuQmCC)}.tree-dark .tree-folder,.tree-dark .tree-themeicon,.tree-dark-large .tree-folder,.tree-dark-large .tree-themeicon,.tree-dark-small .tree-folder,.tree-dark-small .tree-themeicon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAPFBMVEUAAAAAAAABAQEAAAAAAAADAwMAAAD////q6ur39/fb29vQ0NDY2NjMzMzIyMjf39/u7u77+/vy8vLj4+O/iujGAAAAB3RSTlMAMSUMYU89vymfUAAAAHBJREFUOMvt0rsOgCAQRFF318ewgKD+/79qJEQj2NhY6Klvpprma4Rpw3Ib8LDjx4FQ1266nnYs5UB2s0SXgN4IJnM2lYGZI7I4mzKICJoFxDJAcDZzAZVArR8TbxX1BZ9UFxhY1CW6AFy9w4Gl+Z2tWcQHe8c9yhoAAAAASUVORK5CYII=)}.tree-dark-large>.tree-no-dots .tree-open>.tree-ocl,.tree-dark-small>.tree-no-dots .tree-open>.tree-ocl,.tree-dark>.tree-no-dots .tree-open>.tree-ocl{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAIVBMVEUAAAAAAAAAAAAAAAABAQEAAAD////q6urz8/P39/fs7OyA9wwZAAAABnRSTlMAMQw9JRhvHRdtAAAAPklEQVQoz2MYeoApCE1AOQVNgVkimoK0RDQFUAGEAlQBJsuOjokoCjqWVzUiC4SXl5eXIAuoCAoKOjEMOwAARCILoBTOb8gAAAAASUVORK5CYII=)}.tree-dark-large>.tree-no-dots .tree-closed>.tree-ocl,.tree-dark-small>.tree-no-dots .tree-closed>.tree-ocl,.tree-dark>.tree-no-dots .tree-closed>.tree-ocl{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAIVBMVEUAAAAAAAAAAAAAAAAAAAABAQH////7+/v39/fy8vLr6+sN7QgRAAAABnRSTlMADD0xGCVFoQlVAAAAQklEQVQoz2MYakBEAE0gTBFNwCxJAE2gTBFNIA2qBCGQpogukIIiYF5ejqrCoqMJ1QzLmWi2WC1Cc0eUIqZfBjsAAO4ACr4wbS2OAAAAAElFTkSuQmCC)}.tree-dark .tree-checkbox,.tree-dark-large .tree-checkbox,.tree-dark-small .tree-checkbox{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAKlBMVEUAAAAAAAAEBAQAAAADAwMAAADHx8e1tbX////p6en7+/v29vby8vLu7u75iqyAAAAACHRSTlMAMSsYTwalpEE5znUAAABOSURBVCjPYxhAEKwoCALKATABsw4waDOACWg4glV4KMAEJASgFH0FpARgFBRIC8AoKJARgFFQICsAo6BAE+IXT7hfzGeCwXQDzPAYPAAAXmcRA/R0ArQAAAAASUVORK5CYII=)}.tree-dark .tree-checked>.tree-checkbox,.tree-dark-large .tree-checked>.tree-checkbox,.tree-dark-large.tree-checkbox-selection .tree-clicked>.tree-checkbox,.tree-dark-small .tree-checked>.tree-checkbox,.tree-dark-small.tree-checkbox-selection .tree-clicked>.tree-checkbox,.tree-dark.tree-checkbox-selection .tree-clicked>.tree-checkbox{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAM1BMVEUAAAAAAAAAAAAAAAAAAAADAwMEBAQAAADHx8e1tbUAAAD////p6enz8/P39/f7+/vu7u5nZ34DAAAAC3RSTlMAMTwMGE8rBqWkYZ+r9QEAAACPSURBVDjL7ZJbDoMgEADdF2oXhfuftksogcA2PUCdL5cZQwhsf8bOATqB9zngQ0cOnoOg0n5HRNEwB6Dw+SJURAUvaF5V3KD5rwExVe9vUVaRqyfwAjH1qn7zg5RuI5l3g4R4FcyXaQ1uIMw5I9VpDS6wI0TzdVqDbEt20D5NhCjQkbjcBZ9x5OTf7+Fh5A1DkAXNMEdnOQAAAABJRU5ErkJggg==)}.tree-dark .tree-anchor>.tree-undetermined,.tree-dark-large .tree-anchor>.tree-undetermined,.tree-dark-small .tree-anchor>.tree-undetermined{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAPFBMVEUAAAAAAAACAgIAAAADAwMAAAAAAADHx8e1tbX////o6Oj09PTf39/7+/v29vbu7u7r6+vb29vj4+PY2NjViBtUAAAACXRSTlMAMSgYTwwGpaS/5xyAAAAAg0lEQVQ4y+3SywrDIBCF4Z5jbo5GTfr+79rpIo1xhC67aP6FoHwgOD7+rMkRZ3RTC9zs62bXAvoBZ4NnC+Ax8rhg1F0H0B+xD/AB+B1YU3iX1i7Q01Bkj7uUoNaCBGSJ23OLkoFkQQBFVERdiWBBvrxkNoDlMotCM81F6hb3/T/c1b0Ab2QGeI9mSMkAAAAASUVORK5CYII=)}.tree-dark .tree-file,.tree-dark-large .tree-file,.tree-dark-small .tree-file{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAALVBMVEUAAAAAAAAAAAAAAAABAQEAAAD////o6Ojj4+Pu7u7q6ury8vL7+/v4+Pj29vbvvQBpAAAABnRSTlMAMWF5JQzLGMnSAAAAXUlEQVQoz2MYVCBEEARcEQJuaSCQghAQAwskIgkkKykpmSViqKCuFpnLQC22BxECcjtnzpw5+yFCQHp5R3lH1UaEgGQxUIv5RISA1IqOjo6uhQgB93IQKMH0/iACAPMSJey2Xe5CAAAAAElFTkSuQmCC)}.tree-dark-large>.tree-container-ul .tree-loading>.tree-ocl,.tree-dark-small>.tree-container-ul .tree-loading>.tree-ocl,.tree-dark>.tree-container-ul .tree-loading>.tree-ocl{background:url(data:image/gif;base64,R0lGODlhEAAQAPMAADMzMzk5OWhoaEBAQImJiXBwcKqqqoCAgJiYmFhYWFBQUKCgoGBgYKenp4+Pj3h4eCH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAAEcRBIEOg7dWow0AiGMVCbNBhI0IjBqA2jYAgrnEkBMYPNcXymzEDXULhwQFwg4TjiNAKCj1GiBK5RAoFaul6tisItqAkIFgRnyzgpIBhmAWyQoLA5o4FDkWAM5E8TAQcFAAxUA3AlAwUjhxIKYyUKClURACH5BAkKAAAALAAAAAAQABAAAARwEEgQaHm1zjnICIgxDEuySYPhgM0QKtsICAaDLIxBbMGBBwvHxWDIaAYHlQyg+HwmgUDCc9JIEo9CAXaiRAOMw+PBrX69A4ZVEuVNDwNe4CkREBLgxEg2P8YHDwMKeE1sPAUMTCaCa2xqiiiNJ0snEQAh+QQJCgAAACwAAAAAEAAQAAAEchBIECgTtc453ggEEgROsklDc4DiYSjbBzBGEiYGAQxwUJQkgkDgMAwEBuPusTgMBihaEkYJKB4aicIgmCiGDOhpRE4UztQxuTpIZCWjTSDxwMgDMgmjoLD213gaMkdPH3lvAQwwTxR5cm47YnEnMWInEQAh+QQJCgAAACwAAAAAEAAQAAAEcBBIEChjtc45SggH8R3KJg2OFwaPUU4fwCxKqBgPNVDCMwSEwoVgCDAMi0on9TspEAaX5KPwbAa4X0DBSCR2psdi0SBdGOBNK+qgBAYKDWdAzwwEmM2nKeH+6h92GjFbgW+Dego7hHx6TTFuJiaQJhEAIfkECQoAAAAsAAAAABAAEAAABGYQSBBoKbXOOU4IhvEZyiYNhhcGC7l9QEGGjLFQA3UsCuhcK5kI0EkNNANFyMCQfBSeDcpxDAwY2JzJseRdCtpNa0mxHjdK6tmK1UiUIe31OKjCyGXc53OGvup5Vm4TgnmGJoSDExEAIfkECQoAAAAsAAAAABAAEAAABHgQSBCoUrXOGVIIQvEVwyYFhScIIFJy1fAM67AIVBkoyQAyl4JjhyBkFAKMJjA4GByvz8CzCRAYH+nAZwIwDgeCYLvVbBgIxOJBYX42Awej3KZLpgYDIerLfhYGTQYLGRl9HQYHADxVXG8IBgpdWW0AAwYMXVVLGxEAIfkECQoAAAAsAAAAABAAEAAABHMQSBDoGLXOGVQIDPMxwyaBWCIyRMlVgxCoA5FYFjYrF/N0hJ+F9zkNHouD6xPAbAKPBHOq2SQej4NsagIkCA5HgdIsTgYHafFzqQ4UBoPQMi08EAaowZHJYBYGAgZjb086gAN4Lk9MDQYXDTddJwd8FBsRACH5BAkKAAAALAAAAAAQABAAAARxEEgQ6Bi1zhlwUEoQJMMmfRj4PSVXDSE4PAqVdeJ1JUV3CDePplNwFFqi5CYgCCWfJoCiQE08NRvF4/CzeZY0Za6DHCAMvZPHYBAICAimgXADCNAIBKMNgG0GbAMLCwEOBi0bCQYhgx0INVElAVwZGxEAIfkECQoAAAAsAAAAABAAEAAABHMQSBBouHTqe8e4SqVRX+CZjChhpvkJg2VxtJKYQmqV4sU8jNgMMwkEabQRYCBo3pKjQWGasCgQig2MsyQYDMHVgLAQVAINg2NgQDASD4IR8agwsgKDwOFIgJdCEmwIAXwBBw2BEwmJAQgOJgRZSmdTZxoRACH5BAkKAAAALAAAAAAQABAAAARzEEgQaLh06sv5qBr1dYMCSlgwXspgWav3DYwJc2iQCLalnpQW57EoPkKAQWKpcBieBCSNwVPRFq5JgLFKEp69y8PBqAQQhseZsBQcAopDoZJwCQyMA0GxSIg0AwYOAXoBBQ5ZGgoIHwQEKg+JGxQCAmYaEQAh+QQJCgAAACwAAAAAEAAQAAAEbxBIEGi4dOrLe9XU4AWiNgxhV2KBYQijGCil4hqlNdDfVRiJjezyQBgfIMBOQTs0FotCcpkQiRIE1CRQ5SgPrtxF8EhUAg5DIUA4MBmPWYFRoQEYwMJj4AiSTAsEAXoBDFlTWQEPBz5aIGcMdBkTEQAh+QQJCgAAACwAAAAAEAAQAAAEcxBIEGi4dGq1xv2YBigGAgaeNgzAYSRfigWIIQyGEV9eNdQGRkKyq1gYDYXmFBA4CASBiLJaFRBYqQhV/SgOrElA0asECoaO8ZIQKMwuQeBRWCUYKKGPxVEI6g8sIUQOD00FAQmIUwOBhxcMYVsUCTAZExEAOw==) center center no-repeat}.tree-default .tree-icon,.tree-default .tree-node{background-repeat:no-repeat;background-color:transparent}.tree-default .tree-hovered{background:#e7f4f9;border-radius:2px;-webkit-box-shadow:inset 0 0 1px #ccc;box-shadow:inset 0 0 1px #ccc}.tree-default .tree-clicked{background:#beebff;border-radius:2px;-webkit-box-shadow:inset 0 0 1px #999;box-shadow:inset 0 0 1px #999}.tree-default .tree-no-icons .tree-anchor>.tree-themeicon{display:none}.tree-default .tree-disabled{background:0 0;color:#666}.tree-default .tree-disabled.tree-hovered{background:0 0;-webkit-box-shadow:none;box-shadow:none}.tree-default .tree-disabled.tree-clicked{background:#efefef}.tree-default .tree-search{font-style:italic;color:#8b0000;font-weight:700}.tree-default .tree-no-checkboxes .tree-checkbox{display:none!important}.tree-default.tree-checkbox-no-clicked .tree-clicked{background:0 0;-webkit-box-shadow:none;box-shadow:none}.tree-default.tree-checkbox-no-clicked .tree-clicked.tree-hovered{background:#e7f4f9}.tree-default .tree-node{min-height:24px;line-height:24px;margin-left:24px;min-width:24px}.tree-default .tree-icon{width:24px;height:24px;line-height:24px}.tree-default .tree-icon:empty{width:24px;height:24px;line-height:24px}.tree-default .tree-icon,.tree-default .tree-node{background-position:-4px -4px;background-repeat:repeat-y}.tree-default .tree-last{background:0 0}.tree-default .tree-open>.tree-ocl{background-position:-4px -4px}.tree-default .tree-closed>.tree-ocl{background-position:-4px -4px}.tree-default .tree-leaf>.tree-ocl{background-position:-4px -4px}.tree-default .tree-folder,.tree-default .tree-themeicon{background-position:-4px -4px}.tree-default>.tree-no-dots .tree-leaf>.tree-ocl,.tree-default>.tree-no-dots .tree-node{background:0 0}.tree-default>.tree-no-dots .tree-open>.tree-ocl{background-position:-4px -4px}.tree-default>.tree-no-dots .tree-closed>.tree-ocl{background-position:-4px -4px}.tree-default .tree-disabled{background:0 0}.tree-default .tree-disabled.tree-hovered{background:0 0}.tree-default .tree-disabled.tree-clicked{background:#efefef}.tree-default .tree-checkbox{background-position:-4px -4px}.tree-default .tree-checkbox:hover{background-position:-4px -4px}.tree-default .tree-checked>.tree-checkbox,.tree-default.tree-checkbox-selection .tree-clicked>.tree-checkbox{background-position:-4px -4px}.tree-default .tree-checked>.tree-checkbox:hover,.tree-default.tree-checkbox-selection .tree-clicked>.tree-checkbox:hover{background-position:-4px -4px}.tree-default .tree-anchor{line-height:24px;height:24px}.tree-default .tree-anchor>.tree-undetermined{background-position:-4px -4px}.tree-default .tree-anchor>.tree-undetermined:hover{background-position:-4px -4px}.tree-default .tree-themeicon-custom{background-color:transparent;background-repeat:no-repeat;background-image:none}.tree-default .tree-file{background-position:-4px -4px}.tree-default>.tree-container-ul>.tree-node{margin-left:0;margin-right:0}.tree-default .tree-marker-1{top:0}.tree-default .tree-marker-2{top:12px}.tree-default .tree-marker-3{top:24px}.tree-default .not-allowed{color:red}.tree-default .allowed{color:green}.tree-default-small .tree-node{min-height:18px;line-height:18px;margin-left:18px;min-width:18px}.tree-default-small .tree-icon{width:18px;height:18px;line-height:18px}.tree-default-small .tree-icon:empty{width:18px;height:18px;line-height:18px}.tree-default-small .tree-icon,.tree-default-small .tree-node{background-position:-7px -7px;background-repeat:repeat-y}.tree-default-small .tree-last{background:0 0}.tree-default-small .tree-open>.tree-ocl{background-position:-7px -7px}.tree-default-small .tree-closed>.tree-ocl{background-position:-7px -7px}.tree-default-small .tree-leaf>.tree-ocl{background-position:-7px -7px}.tree-default-small .tree-folder,.tree-default-small .tree-themeicon{background-position:-7px -7px}.tree-default-small>.tree-no-dots .tree-leaf>.tree-ocl,.tree-default-small>.tree-no-dots .tree-node{background:0 0}.tree-default-small>.tree-no-dots .tree-open>.tree-ocl{background-position:-7px -7px}.tree-default-small>.tree-no-dots .tree-closed>.tree-ocl{background-position:-7px -7px}.tree-default-small .tree-disabled{background:0 0}.tree-default-small .tree-disabled.tree-hovered{background:0 0}.tree-default-small .tree-disabled.tree-clicked{background:#efefef}.tree-default-small .tree-checkbox{background-position:-7px -7px}.tree-default-small .tree-checkbox:hover{background-position:-7px -7px}.tree-default-small .tree-checked>.tree-checkbox,.tree-default-small.tree-checkbox-selection .tree-clicked>.tree-checkbox{background-position:-7px -7px}.tree-default-small .tree-checked>.tree-checkbox:hover,.tree-default-small.tree-checkbox-selection .tree-clicked>.tree-checkbox:hover{background-position:-7px -7px}.tree-default-small .tree-anchor{line-height:18px;height:18px}.tree-default-small .tree-anchor>.tree-undetermined{background-position:-7px -7px}.tree-default-small .tree-anchor>.tree-undetermined:hover{background-position:-7px -7px}.tree-default-small .tree-themeicon-custom{background-color:transparent;background-repeat:no-repeat;background-image:none}.tree-default-small .tree-file{background-position:-7px -7px}.tree-default-small>.tree-container-ul>.tree-node{margin-left:0;margin-right:0}.tree-default-small .tree-marker-1{top:0}.tree-default-small .tree-marker-2{top:9px}.tree-default-small .tree-marker-3{top:18px}.tree-default-small .not-allowed{color:red}.tree-default-small .allowed{color:green}.tree-default-large .tree-node{min-height:32px;line-height:32px;margin-left:32px;min-width:32px}.tree-default-large .tree-icon{width:32px;height:32px;line-height:32px}.tree-default-large .tree-icon:empty{width:32px;height:32px;line-height:32px}.tree-default-large .tree-icon,.tree-default-large .tree-node{background-position:0 0;background-repeat:repeat-y}.tree-default-large .tree-last{background:0 0}.tree-default-large .tree-open>.tree-ocl{background-position:0 0}.tree-default-large .tree-closed>.tree-ocl{background-position:0 0}.tree-default-large .tree-leaf>.tree-ocl{background-position:0 0}.tree-default-large .tree-folder,.tree-default-large .tree-themeicon{background-position:0 0}.tree-default-large>.tree-no-dots .tree-leaf>.tree-ocl,.tree-default-large>.tree-no-dots .tree-node{background:0 0}.tree-default-large>.tree-no-dots .tree-open>.tree-ocl{background-position:0 0}.tree-default-large>.tree-no-dots .tree-closed>.tree-ocl{background-position:0 0}.tree-default-large .tree-disabled{background:0 0}.tree-default-large .tree-disabled.tree-hovered{background:0 0}.tree-default-large .tree-disabled.tree-clicked{background:#efefef}.tree-default-large .tree-checkbox{background-position:0 0}.tree-default-large .tree-checkbox:hover{background-position:0 0}.tree-default-large .tree-checked>.tree-checkbox,.tree-default-large.tree-checkbox-selection .tree-clicked>.tree-checkbox{background-position:0 0}.tree-default-large .tree-checked>.tree-checkbox:hover,.tree-default-large.tree-checkbox-selection .tree-clicked>.tree-checkbox:hover{background-position:0 0}.tree-default-large .tree-anchor{line-height:32px;height:32px}.tree-default-large .tree-anchor>.tree-undetermined{background-position:0 0}.tree-default-large .tree-anchor>.tree-undetermined:hover{background-position:0 0}.tree-default-large .tree-themeicon-custom{background-color:transparent;background-repeat:no-repeat;background-image:none}.tree-default-large .tree-file{background-position:0 0}.tree-default-large>.tree-container-ul>.tree-node{margin-left:0;margin-right:0}.tree-default-large .tree-marker-1{top:0}.tree-default-large .tree-marker-2{top:16px}.tree-default-large .tree-marker-3{top:32px}.tree-default-large .not-allowed{color:red}.tree-default-large .allowed{color:green}.tree-default .tree-checkbox-disabled,.tree-default .tree-disabled>.tree-icon,.tree-default-large .tree-checkbox-disabled,.tree-default-large .tree-disabled>.tree-icon,.tree-default-small .tree-checkbox-disabled,.tree-default-small .tree-disabled>.tree-icon{opacity:.8;filter:url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'tree-grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#tree-grayscale");filter:gray;-webkit-filter:grayscale(100%)}.tree-dark .tree-icon,.tree-dark .tree-node{background-repeat:no-repeat;background-color:transparent}.tree-dark .tree-hovered{background:#555;border-radius:2px;-webkit-box-shadow:inset 0 0 1px #555;box-shadow:inset 0 0 1px #555}.tree-dark .tree-clicked{background:#5fa2db;border-radius:2px;-webkit-box-shadow:inset 0 0 1px #666;box-shadow:inset 0 0 1px #666}.tree-dark .tree-no-icons .tree-anchor>.tree-themeicon{display:none}.tree-dark .tree-disabled{background:0 0;color:#666}.tree-dark .tree-disabled.tree-hovered{background:0 0;-webkit-box-shadow:none;box-shadow:none}.tree-dark .tree-disabled.tree-clicked{background:#333}.tree-dark .tree-search{font-style:italic;color:#fff;font-weight:700}.tree-dark .tree-no-checkboxes .tree-checkbox{display:none!important}.tree-dark.tree-checkbox-no-clicked .tree-clicked{background:0 0;-webkit-box-shadow:none;box-shadow:none}.tree-dark.tree-checkbox-no-clicked .tree-clicked.tree-hovered{background:#555}.tree-dark .tree-node{min-height:24px;line-height:24px;margin-left:24px;min-width:24px}.tree-dark .tree-icon{width:24px;height:24px;line-height:24px}.tree-dark .tree-icon:empty{width:24px;height:24px;line-height:24px}.tree-dark .tree-icon,.tree-dark .tree-node{background-position:-4px -4px;background-repeat:repeat-y}.tree-dark .tree-last{background:0 0}.tree-dark .tree-open>.tree-ocl{background-position:-4px -4px}.tree-dark .tree-closed>.tree-ocl{background-position:-4px -4px}.tree-dark .tree-leaf>.tree-ocl{background-position:-4px -4px}.tree-dark .tree-folder,.tree-dark .tree-themeicon{background-position:-4px -4px}.tree-dark>.tree-no-dots .tree-leaf>.tree-ocl,.tree-dark>.tree-no-dots .tree-node{background:0 0}.tree-dark>.tree-no-dots .tree-open>.tree-ocl{background-position:-4px -4px}.tree-dark>.tree-no-dots .tree-closed>.tree-ocl{background-position:-4px -4px}.tree-dark .tree-disabled{background:0 0}.tree-dark .tree-disabled.tree-hovered{background:0 0}.tree-dark .tree-disabled.tree-clicked{background:#efefef}.tree-dark .tree-checkbox{background-position:-4px -4px}.tree-dark .tree-checkbox:hover{background-position:-4px -4px}.tree-dark .tree-checked>.tree-checkbox,.tree-dark.tree-checkbox-selection .tree-clicked>.tree-checkbox{background-position:-4px -4px}.tree-dark .tree-checked>.tree-checkbox:hover,.tree-dark.tree-checkbox-selection .tree-clicked>.tree-checkbox:hover{background-position:-4px -4px}.tree-dark .tree-anchor{line-height:24px;height:24px}.tree-dark .tree-anchor>.tree-undetermined{background-position:-4px -4px}.tree-dark .tree-anchor>.tree-undetermined:hover{background-position:-4px -4px}.tree-dark .tree-themeicon-custom{background-color:transparent;background-repeat:no-repeat;background-image:none}.tree-dark .tree-file{background-position:-4px -4px}.tree-dark>.tree-container-ul>.tree-node{margin-left:0;margin-right:0}.tree-dark .tree-marker-1{top:0}.tree-dark .tree-marker-2{top:12px}.tree-dark .tree-marker-3{top:24px}.tree-dark .not-allowed{color:red}.tree-dark .allowed{color:green}.tree-dark-small .tree-node{min-height:18px;line-height:18px;margin-left:18px;min-width:18px}.tree-dark-small .tree-icon{width:18px;height:18px;line-height:18px}.tree-dark-small .tree-icon:empty{width:18px;height:18px;line-height:18px}.tree-dark-small .tree-icon,.tree-dark-small .tree-node{background-position:-7px -7px;background-repeat:repeat-y}.tree-dark-small .tree-last{background:0 0}.tree-dark-small .tree-open>.tree-ocl{background-position:-7px -7px}.tree-dark-small .tree-closed>.tree-ocl{background-position:-7px -7px}.tree-dark-small .tree-leaf>.tree-ocl{background-position:-7px -7px}.tree-dark-small .tree-folder,.tree-dark-small .tree-themeicon{background-position:-7px -7px}.tree-dark-small>.tree-no-dots .tree-leaf>.tree-ocl,.tree-dark-small>.tree-no-dots .tree-node{background:0 0}.tree-dark-small>.tree-no-dots .tree-open>.tree-ocl{background-position:-7px -7px}.tree-dark-small>.tree-no-dots .tree-closed>.tree-ocl{background-position:-7px -7px}.tree-dark-small .tree-disabled{background:0 0}.tree-dark-small .tree-disabled.tree-hovered{background:0 0}.tree-dark-small .tree-disabled.tree-clicked{background:#efefef}.tree-dark-small .tree-checkbox{background-position:-7px -7px}.tree-dark-small .tree-checkbox:hover{background-position:-7px -7px}.tree-dark-small .tree-checked>.tree-checkbox,.tree-dark-small.tree-checkbox-selection .tree-clicked>.tree-checkbox{background-position:-7px -7px}.tree-dark-small .tree-checked>.tree-checkbox:hover,.tree-dark-small.tree-checkbox-selection .tree-clicked>.tree-checkbox:hover{background-position:-7px -7px}.tree-dark-small .tree-anchor{line-height:18px;height:18px}.tree-dark-small .tree-anchor>.tree-undetermined{background-position:-7px -7px}.tree-dark-small .tree-anchor>.tree-undetermined:hover{background-position:-7px -7px}.tree-dark-small .tree-themeicon-custom{background-color:transparent;background-repeat:no-repeat;background-image:none}.tree-dark-small .tree-file{background-position:-7px -7px}.tree-dark-small>.tree-container-ul>.tree-node{margin-left:0;margin-right:0}.tree-dark-small .tree-marker-1{top:0}.tree-dark-small .tree-marker-2{top:9px}.tree-dark-small .tree-marker-3{top:18px}.tree-dark-small .not-allowed{color:red}.tree-dark-small .allowed{color:green}.tree-dark-large .tree-node{min-height:32px;line-height:32px;margin-left:32px;min-width:32px}.tree-dark-large .tree-icon{width:32px;height:32px;line-height:32px}.tree-dark-large .tree-icon:empty{width:32px;height:32px;line-height:32px}.tree-dark-large .tree-icon,.tree-dark-large .tree-node{background-position:0 0;background-repeat:repeat-y}.tree-dark-large .tree-last{background:0 0}.tree-dark-large .tree-open>.tree-ocl{background-position:0 0}.tree-dark-large .tree-closed>.tree-ocl{background-position:0 0}.tree-dark-large .tree-leaf>.tree-ocl{background-position:0 0}.tree-dark-large .tree-folder,.tree-dark-large .tree-themeicon{background-position:0 0}.tree-dark-large>.tree-no-dots .tree-leaf>.tree-ocl,.tree-dark-large>.tree-no-dots .tree-node{background:0 0}.tree-dark-large>.tree-no-dots .tree-open>.tree-ocl{background-position:0 0}.tree-dark-large>.tree-no-dots .tree-closed>.tree-ocl{background-position:0 0}.tree-dark-large .tree-disabled{background:0 0}.tree-dark-large .tree-disabled.tree-hovered{background:0 0}.tree-dark-large .tree-disabled.tree-clicked{background:#efefef}.tree-dark-large .tree-checkbox{background-position:0 0}.tree-dark-large .tree-checkbox:hover{background-position:0 0}.tree-dark-large .tree-checked>.tree-checkbox,.tree-dark-large.tree-checkbox-selection .tree-clicked>.tree-checkbox{background-position:0 0}.tree-dark-large .tree-checked>.tree-checkbox:hover,.tree-dark-large.tree-checkbox-selection .tree-clicked>.tree-checkbox:hover{background-position:0 0}.tree-dark-large .tree-anchor{line-height:32px;height:32px}.tree-dark-large .tree-anchor>.tree-undetermined{background-position:0 0}.tree-dark-large .tree-anchor>.tree-undetermined:hover{background-position:0 0}.tree-dark-large .tree-themeicon-custom{background-color:transparent;background-repeat:no-repeat;background-image:none}.tree-dark-large .tree-file{background-position:0 0}.tree-dark-large>.tree-container-ul>.tree-node{margin-left:0;margin-right:0}.tree-dark-large .tree-marker-1{top:0}.tree-dark-large .tree-marker-2{top:16px}.tree-dark-large .tree-marker-3{top:32px}.tree-dark-large .not-allowed{color:red}.tree-dark-large .allowed{color:green}.tree-dark .tree-checkbox-disabled,.tree-dark .tree-disabled>.tree-icon,.tree-dark-large .tree-checkbox-disabled,.tree-dark-large .tree-disabled>.tree-icon,.tree-dark-small .tree-checkbox-disabled,.tree-dark-small .tree-disabled>.tree-icon{opacity:.8;filter:url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'tree-grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#tree-grayscale");filter:gray;-webkit-filter:grayscale(100%)}.tree-children,.tree-container-ul,.tree-node{display:block;margin:0;padding:0;list-style-type:none;list-style-image:none}.tree-node{white-space:nowrap}.tree-anchor{display:inline-block;color:#000;white-space:nowrap;padding:0 4px 0 1px;margin:0;vertical-align:top;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tree-anchor:focus{outline:0}.tree-anchor,.tree-anchor:active,.tree-anchor:hover,.tree-anchor:link,.tree-anchor:visited{text-decoration:none;color:inherit}.tree-icon{display:inline-block;text-decoration:none;margin:0;padding:0;vertical-align:top;text-align:center}.tree-icon:empty{display:inline-block;text-decoration:none;margin:0;padding:0;vertical-align:top;text-align:center}.tree-ocl{cursor:pointer}.tree-leaf>.tree-ocl{cursor:default}.tree .tree-open>.tree-children{display:block}.tree .tree-closed>.tree-children,.tree .tree-leaf>.tree-children{display:none}.tree-anchor>.tree-themeicon{margin-right:2px}.tree-anchor>.tree-themeicon-hidden,.tree-no-icons .tree-themeicon{display:none}.tree-hidden,.tree-node.tree-hidden{display:none}.tree-relative{position:relative}.tree-marker-1,.tree-marker-2,.tree-marker-3{left:0;position:absolute;margin:-5px 0 0 0;padding:0;border-right:0;border-top:5px solid transparent;border-bottom:5px solid transparent;border-left:5px solid;width:0;height:0;font-size:0;line-height:0}.tree-dark{background:#333}.tree-dark .tree-anchor{color:#999;text-shadow:1px 1px 0 rgba(0,0,0,.5)}.tree-dark .tree-checked,.tree-dark .tree-clicked{color:#fff}.tree-dark .tree-hovered{color:#fff}.tree-dark .tree-marker-1,.tree-dark .tree-marker-2,.tree-dark .tree-marker-3{border-left-color:#999;background:0 0}.tree-dark .tree-anchor>.tree-icon{opacity:.75}.tree-dark .tree-checked>.tree-icon,.tree-dark .tree-clicked>.tree-icon,.tree-dark .tree-hovered>.tree-icon{opacity:1}.tree-dark.tree-rtl .tree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAACZmZl+9SADAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==)}.tree-dark.tree-rtl .tree-last{background:0 0}.tree-dark-small.tree-rtl .tree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAACAQMAAABv1h6PAAAABlBMVEUAAACZmZl+9SADAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMHBgAAiABBI4gz9AAAAABJRU5ErkJggg==)}.tree-dark-small.tree-rtl .tree-last{background:0 0}.tree-dark-large.tree-rtl .tree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAACAQMAAAAD0EyKAAAABlBMVEUAAACZmZl+9SADAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjgIIGBgABCgCBvVLXcAAAAABJRU5ErkJggg==)}.tree-dark-large.tree-rtl .tree-last{background:0 0}
</style>

<a class="github-fork-ribbon right-top" data-ribbon="Fork me on GitHub" href="https://github.com/plantain-00/template-editor-demo" title="Fork me on GitHub" target="_blank" rel="noopener">Fork me on GitHub</a>
<div id="prerender-container">
<div id="container"></div>
</div>
<script src="vendor.bundle-f48eab212d45dd4a1390a3a3d408ee80.js" crossOrigin="anonymous" integrity="sha256-mFI3Fz3t7quvN3/EMlh4JXIUoylMFZ6Y1tJYhR5IS+8="></script>
<script>
(()=>{"use strict";var e,t={3377:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AppPanel=void 0;var i=n(655),a=n(9812),r=i.__importDefault(n(1581)),s=i.__importStar(n(5483)),o=n(6584),l=n(9718),p=n(5449),c=n(7523),d=n(8593),u=(new r.default).compile(p.styleguideSchemaJson);t.AppPanel=a.defineComponent({render:p.appPanelTemplateHtml,props:{appState:{type:Object,required:!0}},data:function(){return{styleGuideKey:"kfc.json",templateModelKey:"kfc-model.json",precompiledStyleGuide:void 0,key:"",ws:null,lastStyleGuide:null}},created:function(){var e=this;setInterval((function(){if(e.ws&&e.ws.readyState===e.ws.OPEN&&e.lastStyleGuide){var t=s.compare(e.lastStyleGuide,e.appState.canvasState.styleGuide.data);t.length>0&&(e.ws.send(JSON.stringify({method:"patch",operations:t})),e.lastStyleGuide=s.deepClone(e.appState.canvasState.styleGuide.data))}}),3e3)},methods:{loadStyleGuide:function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){switch(n.label){case 0:return this.styleGuideKey?[4,fetch("https://storage.yorkyao.com/"+this.styleGuideKey)]:[3,3];case 1:return[4,n.sent().json()];case 2:e=n.sent(),u(e)?(this.key!==this.styleGuideKey&&(this.ws&&(this.ws.onmessage=null,this.ws.close()),this.key=this.styleGuideKey,this.ws=new WebSocket("wss://storage.yorkyao.com/ws/template-editor-demo?key="+this.key),o.setWsHeartbeat(this.ws,'{"method":"ping"}'),this.ws.onmessage=function(e){if("string"==typeof e.data&&e.data){var n=JSON.parse(e.data);"patch"==n.method&&(s.applyPatch(t.appState.canvasState.styleGuide.data,n.operations),t.lastStyleGuide=s.deepClone(t.appState.canvasState.styleGuide.data))}}),this.lastStyleGuide=s.deepClone(e),this.appState.canvasState.styleGuide.data=e,this.appState.canvasState.applyCanvasSizeChange()):console.error(u.errors),n.label=3;case 3:return[2]}}))}))},saveStyleGuide:function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.styleGuideKey?[4,fetch("https://storage.yorkyao.com/"+this.styleGuideKey,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i.__assign(i.__assign({},this.appState.canvasState.styleGuide.data),{templates:this.appState.canvasState.styleGuide.data.templates.map((function(e){return l.removeDefault(e,p.templateSchemaJson)}))}))})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},loadTemplateModel:function(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){switch(t.label){case 0:return this.templateModelKey?[4,fetch("https://storage.yorkyao.com/"+this.templateModelKey)]:[3,3];case 1:return[4,t.sent().json()];case 2:e=t.sent(),this.appState.templateModel=e,t.label=3;case 3:return[2]}}))}))},saveTemplateModel:function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.templateModelKey?[4,fetch("https://storage.yorkyao.com/"+this.templateModelKey,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.appState.templateModel)})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},editTemplateModel:function(){this.appState.templateModelEditorVisible=!this.appState.templateModelEditorVisible},generate:function(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){switch(t.label){case 0:return this.appState.graphicCanvasState?(this.appState.graphicCanvasState=null,[2]):"template"!==this.appState.canvasState.styleGuide.selection.kind?[3,2]:[4,this.generateByTemplate(this.appState.canvasState.styleGuide.selection.template)];case 1:e=t.sent(),this.appState.loadGraphicCanvas(e),t.label=2;case 2:return[2]}}))}))},generateByTemplate:function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,a,r,s,o,u,h,y,v,m,g,f=this;return i.__generator(this,(function(x){switch(x.label){case 0:return t=this.appState.canvasState.styleGuide.data,n=Date.now(),a=[],t.variables&&t.variables.length>0?[4,Promise.all(t.variables.map((function(n){return c.generate(e,t,i.__assign(i.__assign({},f.appState.templateModel),{variable:d.getVariableObject(n)}),{errorHandler:function(e){return a.push(e)},precompiledStyleGuide:f.precompiledStyleGuide,stack:[e.name||e.id]})})))]:[3,2];case 1:for(r=x.sent(),s=0,o=0;o<r.length;o++)r[o].x=s,s+=r[o].width+10;return[3,4];case 2:return[4,c.generate(e,t,this.appState.templateModel,{errorHandler:function(e){return a.push(e)},precompiledStyleGuide:this.precompiledStyleGuide,stack:[e.name||e.id]})];case 3:r=[x.sent()],x.label=4;case 4:console.info(Date.now()-n);try{for(u=i.__values(a),h=u.next();!h.done;h=u.next())y=h.value,v=y.error instanceof Error?y.error.message:String(y.error),console.info(y.stack?y.stack.join(" "):"",y.expression,v,y.model)}catch(e){m={error:e}}finally{try{h&&!h.done&&(g=u.return)&&g.call(u)}finally{if(m)throw m.error}}return[2,r.map((function(e){return l.removeDefault(e,p.templateSchemaJson)}))]}}))}))},precompile:function(){this.precompiledStyleGuide=new c.PrecompiledStyleGuide(this.appState.canvasState.styleGuide.data)},runTests:function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,a,r,o,l,p,c,d;return i.__generator(this,(function(u){switch(u.label){case 0:if(!(t=this.appState.canvasState.styleGuide.data.tests))return[3,8];n=function(t){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return(n=a.appState.canvasState.styleGuide.data.templates.find((function(e){return e.id===t.templateId})))?[4,a.generateByTemplate(n)]:[3,2];case 1:r=i.sent(),!t.result||e?t.result=r:(o=s.compare(t.result,r)).length>0&&console.info(o),i.label=2;case 2:return[2]}}))},a=this,u.label=1;case 1:u.trys.push([1,6,7,8]),r=i.__values(t),o=r.next(),u.label=2;case 2:return o.done?[3,5]:(l=o.value,[5,n(l)]);case 3:u.sent(),u.label=4;case 4:return o=r.next(),[3,2];case 5:return[3,8];case 6:return p=u.sent(),c={error:p},[3,8];case 7:try{o&&!o.done&&(d=r.return)&&d.call(r)}finally{if(c)throw c.error}return[7];case 8:return[2]}}))}))}}})},6161:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createAppState=void 0;var i=n(9812),a=n(1301),r=n(8899),s=n(4734),o=s.layerPanelWidth+s.operationPanelWidth;t.createAppState=function(){return i.reactive({templateModel:{categories:[]},templateModelEditorVisible:!1,canvasState:r.createCanvasState(a.styleGuide,window.innerWidth-o,window.innerHeight-50),graphicCanvasState:null,debug:!!localStorage.getItem("debug"),resize:function(){this.canvasState.viewport.width=window.innerWidth-o,this.canvasState.viewport.height=window.innerHeight-50,this.canvasState.applyCanvasSizeChange(),this.graphicCanvasState&&(this.graphicCanvasState.viewport.width=window.innerWidth-o,this.graphicCanvasState.viewport.height=window.innerHeight-50,this.graphicCanvasState.applyCanvasSizeChange())},loadGraphicCanvas:function(e){this.graphicCanvasState=r.createCanvasState({name:"",templates:e},window.innerWidth-o,window.innerHeight-50),this.graphicCanvasState.styleGuide.selection={kind:"template",template:e[0]}}})}},1301:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.styleGuide=void 0,t.styleGuide={name:"test",templates:[{id:"1",name:"组件",x:0,y:0,width:500,height:300,contents:[{kind:"text",text:"test",fontFamily:"serif",fontSize:50,color:"",colorExpression:"variable.textColor",colorExpressionId:"6",width:100,height:100,x:10,y:10},{kind:"image",url:"https://arkie-amazon-test.oss-cn-hangzhou.aliyuncs.com/resources/8faa0634-84a6-43d8-8ae2-8a948192fab7.png",width:100,height:100,x:210,y:10,xExpression:"props.width - 300"}],parameters:["width","color"],widthExpression:"props.width",widthExpressionId:"4"},{id:"2",name:"模板",x:600,y:0,width:1100,height:400,contents:[{kind:"color",x:0,y:0,width:1100,height:400,color:"",colorExpression:"variable.backgroundColor",colorExpressionId:"6"},{kind:"reference",id:"1",x:10,y:10,props:"{ width: 400 }"},{kind:"reference",id:"1",x:550,y:10}]}],variables:[[{kind:"color",name:"backgroundColor",displayName:"background color",value:"#cccccc"},{kind:"color",name:"textColor",displayName:"text color",value:"#ff0000"}]],collections:[{kind:"color",color:"#000000"},{kind:"color",color:"#ffffff"}],constrains:["variable.backgroundColor !== variable.textColor"]}},3958:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.loadTemplateImages=t.renderTemplateOnCanvas=t.renderTemplate=void 0;var i=n(655),a=n(1613),r=n(5812),s=n(9110),o=n(2569),l=n(8593),p=n(8160);function c(e,t,n,a){var r,s,o,p=[];e?(e.fillStyle="white",e.fillRect(0,0,t.width,t.height)):p.push("ctx.fillStyle = 'white'","ctx.fillRect(0, 0, "+t.width+", "+t.height+")");var c=[];u(t,n,a,c,{x:0,y:0,z:0},[],l.getVariableObject(null===(o=n.variables)||void 0===o?void 0:o[0])),c.sort((function(e,t){return e.z!==t.z?e.z-t.z:e.index-t.index}));try{for(var d=i.__values(c),h=d.next();!h.done;h=d.next()){var y=h.value.action;p.push.apply(p,i.__spreadArray([],i.__read(y(e))))}}catch(e){r={error:e}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}return p}function d(e,t,n){var a,r,o=function(e){if(e.hidden)return"continue";if("image"===e.kind){if(e.base64&&n[e.base64])return"continue";if(n[e.url])return"continue";e.base64?n[e.url]=s.loadImage(e.base64):n[e.url]=s.loadImage(e.url)}else if("reference"===e.kind){var i=t.templates.find((function(t){return t.id===e.id}));i&&d(i,t,n)}else"snapshot"===e.kind&&d(e.snapshot,t,n)};try{for(var l=i.__values(e.contents),p=l.next();!p.done;p=l.next())o(p.value)}catch(e){a={error:e}}finally{try{p&&!p.done&&(r=l.return)&&r.call(l)}finally{if(a)throw a.error}}}function u(e,t,n,r,c,d,h,y){var v,m,g=function(e){var p,v,m=l.formatPixel(c.x+a.evaluatePositionExpression("x",e.content,{variable:h,props:y})),g=l.formatPixel(c.y+a.evaluatePositionExpression("y",e.content,{variable:h,props:y})),f=Math.round(c.z+a.evaluatePositionExpression("z",e.content,{variable:h,props:y})),x=l.formatRadian(a.evaluateRotateExpression(e.content,{variable:h,props:y})*Math.PI/180);if("symbol"!==e.kind){var S=a.evaluateSizeExpression("width",e.content,{variable:h,props:y}),b=a.evaluateSizeExpression("height",e.content,{variable:h,props:y}),k=l.formatPixel(m+S/2),w=l.formatPixel(g+b/2),_=function(e){var t,n;try{for(var a=(t=void 0,i.__values(d)),r=a.next();!r.done;r=a.next()){var s=r.value;e.translate(s.x,s.y),e.rotate(s.rotate),e.translate(-s.x,-s.y)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}x&&(e.translate(k,w),e.rotate(x),e.translate(-k,-w))},E=[];try{for(var G=(p=void 0,i.__values(d)),C=G.next();!C.done;C=G.next()){var I=C.value;E.push("ctx.translate("+I.x+", "+I.y+")","ctx.rotate("+I.rotate+")","ctx.translate("+-I.x+", "+-I.y+")")}}catch(e){p={error:e}}finally{try{C&&!C.done&&(v=G.return)&&v.call(G)}finally{if(p)throw p.error}}x&&E.push("ctx.translate("+k+", "+w+")","ctx.rotate("+x+")","ctx.translate("+-k+", "+-w+")");var N=function(e){(x||d.length>0)&&e.setTransform(1,0,0,1,0,0)},z=x||d.length>0?["ctx.setTransform(1, 0, 0, 1, 0, 0)"]:[];if("text"===e.kind){var V=e.content;r.push({z:f,index:r.length,action:function(e){var t=a.evaluateFontSizeExpression(V,{variable:h,props:y}),n=a.evaluateColorExpression(V,{variable:h,props:y}),r=V.characters||o.getCharacters(a.evaluateTextExpression(V,{variable:h,props:y}));return e?(e.fillStyle=n,e.textBaseline="top",e.font=t+"px "+V.fontFamily,_(e),e.fillText(r.map((function(e){return e.text})).join(""),m,g),N(e),[]):i.__spreadArray(i.__spreadArray(i.__spreadArray(["ctx.fillStyle = "+n,"ctx.textBaseline = 'top'","ctx.font = "+t+"px "+V.fontFamily],i.__read(E)),["ctx.fillText("+r.map((function(e){return e.text})).join("")+", "+m+", "+g+")"]),i.__read(z))}})}else if("image"===e.kind){var P,T=e.content,M=a.evaluateUrlExpression(T,{variable:h,props:y}),O=n[M];void 0!==T.opacity&&(P=s.imageToCtx(O),s.applyImageOpacity(P,T.opacity)),r.push({z:f,index:r.length,action:function(e){return e?(_(e),T.blendMode?(P||(P=s.imageToCtx(O)),s.applyImageBlendMode(P,e,{x:m,y:g,width:S,height:b})):e.drawImage(P?P.canvas:O,m,g,S,b),N(e),[]):i.__spreadArray(i.__spreadArray(i.__spreadArray([],i.__read(E)),[T.blendMode?"ctx.drawImage("+M+", "+m+", "+g+", "+S+", "+b+", "+T.blendMode+")":"ctx.drawImage("+M+", "+m+", "+g+", "+S+", "+b+")"]),i.__read(z))}})}else if("color"===e.kind){var R=e.content,j=a.evaluateColorExpression(R,{variable:h,props:y});r.push({z:f,index:r.length,action:function(e){return e?(e.fillStyle=j,_(e),e.fillRect(m,g,S,b),N(e),[]):i.__spreadArray(i.__spreadArray(i.__spreadArray([],i.__read(E)),["ctx.fillStyle = "+R.color,"ctx.fillRect("+m+", "+g+", "+S+", "+b+")"]),i.__read(z))}})}}else if("symbol"===e.kind){var B=a.evaluate(e.props,{variable:h,props:y}),A=d;if(x){var q=a.evaluateSizeExpression("width",e.symbol,{variable:h,props:B}),L=a.evaluateSizeExpression("height",e.symbol,{variable:h,props:B});A=i.__spreadArray(i.__spreadArray([],i.__read(d)),[{rotate:x,x:l.formatPixel(m+q/2),y:l.formatPixel(g+L/2)}])}u(e.symbol,t,n,r,{x:m,y:g,z:f},A,h,B)}};try{for(var f=i.__values(p.iterateSymbolRenderItem(e,t)),x=f.next();!x.done;x=f.next())g(x.value)}catch(e){v={error:e}}finally{try{x&&!x.done&&(m=f.return)&&m.call(f)}finally{if(v)throw v.error}}}t.renderTemplate=function(e,t,n){var i=document.createElement("canvas");i.width=e.width,i.height=e.height;var a=i.getContext("2d");return a&&(r.layoutFlex(e,t),c(a,e,t,n)),i.toDataURL("image/jpeg")},t.renderTemplateOnCanvas=c,t.loadTemplateImages=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,a,r,s,o;return i.__generator(this,(function(i){switch(i.label){case 0:return d(e,t,n={}),a=Object.keys(n).map((function(e){return{url:e,resource:n[e]}})),[4,Promise.all(a.map((function(e){return e.resource})))];case 1:for(r=i.sent(),s={},o=0;o<a.length;o++)s[a[o].url]=r[o];return[2,s]}}))}))}},1613:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getExpressionOptions=t.evaluateColorExpression=t.evaluateFontSizeExpression=t.evaluateTextExpression=t.evaluateUrlExpression=t.evaluateRotateExpression=t.evaluatePositionExpression=t.evaluateSizeExpression=t.parseExpressionToAst=t.evaluate=void 0;var i=n(655),a=n(8442),r=n(8593);function s(e,t,n){if(e)try{if(n&&n.precompiledStyleGuide){var i=n.precompiledStyleGuide.ast[e];if(i instanceof Error)throw i;return a.evaluateExpression(i,t)}return a.evaluateExpression(a.parseExpression(a.tokenizeExpression(e)),t)}catch(i){return void(n&&n.errorHandler&&n.errorHandler({error:i,expression:e,model:t,stack:n.stack}))}}function o(e,t){return e&&e.stack?i.__assign(i.__assign({},e),{stack:i.__spreadArray(i.__spreadArray([],i.__read(e.stack)),[t])}):e}t.evaluate=s,t.parseExpressionToAst=function(e){try{return a.parseExpression(a.tokenizeExpression(e))}catch(e){return e instanceof Error?e:new Error(String(e))}},t.evaluateSizeExpression=function(e,t,n,i){var a=e+"Expression",l=t[a];if(l){var p=s(l,n,o(i,a));if("number"==typeof p&&!isNaN(p))return r.formatPixel(p)}return t[e]},t.evaluatePositionExpression=function(e,t,n,i){var a=e+"Expression",l=t[a];if(l){var p=s(l,n,o(i,a));if("number"==typeof p&&!isNaN(p))return"z"===e?Math.round(p):r.formatPixel(p)}return t[e]||0},t.evaluateRotateExpression=function(e,t,n){var i=e.rotateExpression;if(i){var a=s(i,t,o(n,"rotateExpression"));if("number"==typeof a&&!isNaN(a))return r.formatPixel(a)}return e.rotate||0},t.evaluateUrlExpression=function(e,t,n){if(e.urlExpression){var i=s(e.urlExpression,t,o(n,"urlExpression"));if("string"==typeof i)return i}return e.url},t.evaluateTextExpression=function(e,t,n){if(e.textExpression){var i=s(e.textExpression,t,o(n,"textExpression"));if("string"==typeof i)return i}return e.text},t.evaluateFontSizeExpression=function(e,t,n){if(e.fontSizeExpression){var i=s(e.fontSizeExpression,t,o(n,"fontSizeExpression"));if("number"==typeof i&&!isNaN(i))return r.formatPixel(i)}return e.fontSize},t.evaluateColorExpression=function(e,t,n){if(e.colorExpression){var i=s(e.colorExpression,t,o(n,"colorExpression"));if("string"==typeof i)return i}return e.color},t.getExpressionOptions=o},9110:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.loadImage=t.applyImageBlendMode=t.imageToCtx=t.applyImageOpacity=void 0,t.applyImageOpacity=function(e,t){for(var n=e.getImageData(0,0,e.canvas.width,e.canvas.height),i=0;i<e.canvas.width/2;i++)for(var a=0;a<e.canvas.height;a++){var r=4*(a*e.canvas.width+i)+3,s=Math.round(n.data[r]*t);s=Math.max(s,0),s=Math.min(s,255),n.data[r]=s}e.putImageData(n,0,0)},t.imageToCtx=function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");if(!n)throw new Error("canvas.getContext");return n.drawImage(e,0,0),n},t.applyImageBlendMode=function(e,t,n){n.x=Math.round(n.x),n.y=Math.round(n.y),n.width=Math.round(n.width),n.height=Math.round(n.height);for(var i=e.getImageData(0,0,e.canvas.width,e.canvas.height),a=t.getImageData(n.x,n.y,n.width,n.height),r=0;r<n.width;r++)for(var s=Math.round(r/n.width*e.canvas.width),o=0;o<n.height;o++){var l=Math.round(o/n.height*e.canvas.height),p=4*(o*n.width+r),c=4*(l*e.canvas.width+s);if(0!==i.data[c+3])for(var d=0;d<3;d++){var u=p+d,h=c+d,y=Math.round(a.data[u]*i.data[h]/255);y=Math.max(y,0),y=Math.min(y,255),a.data[u]=y}}t.putImageData(a,n.x,n.y)},t.loadImage=function(e){return new Promise((function(t){var n=document.createElement("img");n.crossOrigin="anonymous",n.onload=function(){t(n)},e.startsWith("data:image/")?n.src=e:n.src=e+"?random="+Math.random()}))}},5812:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getContentSize=t.getFlexPosition=t.layoutFlex=void 0;var i=n(655);function a(e,t,n,i,a,r){var o;o="start"===e?0:"end"===e?t[n]-i:"center"===e?(t[n]-i)/2:t.contents.length>1?a*Math.max(0,(t[n]-i)/(t.contents.length-1)):0;for(var l=0;l<a;l++)o+=s(t.contents[l],r)[n];return o}function r(e,t,n,i){if("start"===e)return 0;var a="row"===n?"height":"width";return"end"===e?t[a]-i[a]:(t[a]-i[a])/2}function s(e,t){return"reference"===e.kind?t.templates.find((function(t){return t.id===e.id}))||{width:0,height:0}:"snapshot"===e.kind?e.snapshot:e}t.layoutFlex=function e(t,n){var o,l;if("flex"===t.display)for(var p=t.flexDirection||"row",c=t.justifyContent||"start",d=t.alignItems||"start",u="row"===p?"x":"y",h="row"===p?"width":"height",y="row"===p?"y":"x",v=t.contents.reduce((function(e,t){return e+s(t,n)[h]}),0),m=0;m<t.contents.length;m++)(S=t.contents[m])[u]=a(c,t,h,v,m,n),S[y]=r(d,t,p,s(S,n));var g=function(t){if("reference"===t.kind){var i=n.templates.find((function(e){return e.id===t.id}));i&&e(i,n)}else"snapshot"===t.kind&&e(t.snapshot,n)};try{for(var f=i.__values(t.contents),x=f.next();!x.done;x=f.next()){var S;g(S=x.value)}}catch(e){o={error:e}}finally{try{x&&!x.done&&(l=f.return)&&l.call(f)}finally{if(o)throw o.error}}},t.getFlexPosition=function(e,t,n,i){var o=n.flexDirection||"row";if(t===("row"===o?"x":"y")){var l="row"===o?"width":"height";return a(n.justifyContent||"start",n,l,n.contents.reduce((function(e,t){return e+s(t,i)[l]}),0),n.contents.findIndex((function(t){return t===e})),i)}return r(n.alignItems||"start",n,o,s(e,i))},t.getContentSize=s},2569:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getCharacters=void 0,t.getCharacters=function(e){return Array.from(e).map((function(e){return{text:e}}))}},464:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.recommand=void 0;var i=n(655),a=n(1613),r=n(8593);t.recommand=function(e,t,n){var s,o,l,p,c,d,u=[];try{for(var h=i.__values(e),y=h.next();!y.done;y=h.next()){var v=y.value;0===u.length&&u.push([]);var m=[];try{for(var g=(l=void 0,i.__values(u)),f=g.next();!f.done;f=g.next()){var x=f.value;try{for(var S=(c=void 0,i.__values(t)),b=S.next();!b.done;b=S.next()){var k=b.value;k.kind===v.kind&&m.push(i.__spreadArray(i.__spreadArray([],i.__read(x)),[i.__assign(i.__assign({},v),{value:k.color})]))}}catch(e){c={error:e}}finally{try{b&&!b.done&&(d=S.return)&&d.call(S)}finally{if(c)throw c.error}}}}catch(e){l={error:e}}finally{try{f&&!f.done&&(p=g.return)&&p.call(g)}finally{if(l)throw l.error}}u=m}}catch(e){s={error:e}}finally{try{y&&!y.done&&(o=h.return)&&o.call(h)}finally{if(s)throw s.error}}return u.filter((function(e){var t,s;if(n)try{for(var o=i.__values(n),l=o.next();!l.done;l=o.next()){var p=l.value;if(!a.evaluate(p,{variable:r.getVariableObject(e)}))return!1}}catch(e){t={error:e}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(t)throw t.error}}return!0}))}},8160:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.iterateSymbolRenderItem=void 0;var i=n(655);t.iterateSymbolRenderItem=function(e,t){var n,a,r,s,o,l,p;return i.__generator(this,(function(c){switch(c.label){case 0:n=function(e){var n;return i.__generator(this,(function(i){switch(i.label){case 0:return e.hidden?[2,"continue"]:"text"!==e.kind?[3,2]:[4,{kind:"text",content:e}];case 1:return i.sent(),[3,11];case 2:return"image"!==e.kind?[3,4]:[4,{kind:"image",content:e}];case 3:return i.sent(),[3,11];case 4:return"color"!==e.kind?[3,6]:[4,{kind:"color",content:e}];case 5:return i.sent(),[3,11];case 6:return"reference"!==e.kind?[3,9]:(n=t.templates.find((function(t){return t.id===e.id})))?[4,{kind:"symbol",content:e,symbol:n,props:e.props}]:[3,8];case 7:i.sent(),i.label=8;case 8:return[3,11];case 9:return"snapshot"!==e.kind?[3,11]:[4,{kind:"symbol",content:e,symbol:e.snapshot}];case 10:i.sent(),i.label=11;case 11:return[2]}}))},c.label=1;case 1:c.trys.push([1,6,7,8]),a=i.__values(e.contents),r=a.next(),c.label=2;case 2:return r.done?[3,5]:(s=r.value,[5,n(s)]);case 3:c.sent(),c.label=4;case 4:return r=a.next(),[3,2];case 5:return[3,8];case 6:return o=c.sent(),l={error:o},[3,8];case 7:try{r&&!r.done&&(p=a.return)&&p.call(a)}finally{if(l)throw l.error}return[7];case 8:return[2]}}))}},7523:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.composeRepeat=t.analyseRepeat=t.PrecompiledStyleGuide=t.generate=void 0;var i=n(655),a=n(5812),r=n(1613),s=n(9110),o=n(2569);function l(e,t,n,s){return i.__awaiter(this,void 0,void 0,(function(){var o,l,p,d,u;return i.__generator(this,(function(h){switch(h.label){case 0:o=[],l=[],p=0,h.label=1;case 1:return p<e.contents.length?[4,c(e.contents[p],t,n,l,r.getExpressionOptions(s,p))]:[3,4];case 2:void 0===(d=h.sent()).ifValue?l=[]:l.push(d.ifValue),o.push.apply(o,i.__spreadArray([],i.__read(d.contents))),h.label=3;case 3:return p++,[3,1];case 4:return(u=i.__assign(i.__assign({},e),{x:0,y:0,contents:o})).width=r.evaluateSizeExpression("width",u,n,s),delete u.widthExpression,delete u.widthExpressionId,u.height=r.evaluateSizeExpression("height",u,n,s),delete u.heightExpression,delete u.heightExpressionId,a.layoutFlex(u,t),[2,u]}}))}))}t.generate=l;var p=function(){function e(e){var t,n,a,r;this.ast={},this.repeat={};try{for(var s=i.__values(e.templates),o=s.next();!o.done;o=s.next()){var l=o.value;this.collectExpression(l.widthExpression),this.collectExpression(l.heightExpression);try{for(var p=(a=void 0,i.__values(l.contents)),c=p.next();!c.done;c=p.next()){var d=c.value;if("snapshot"!==d.kind){if(d.repeat){var u=this.collectRepeat(d.repeat);this.collectExpression(u.expression)}this.collectExpression(d.if),this.collectExpression(d.xExpression),this.collectExpression(d.yExpression),this.collectExpression(d.zExpression),"reference"!==d.kind?(this.collectExpression(d.widthExpression),this.collectExpression(d.heightExpression),this.collectExpression(d.rotateExpression),"text"===d.kind?(this.collectExpression(d.textExpression),this.collectExpression(d.fontSizeExpression),this.collectExpression(d.colorExpression)):"image"===d.kind?this.collectExpression(d.urlExpression):"color"===d.kind&&this.collectExpression(d.colorExpression)):this.collectExpression(d.props)}}}catch(e){a={error:e}}finally{try{c&&!c.done&&(r=p.return)&&r.call(p)}finally{if(a)throw a.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}return e.prototype.collectExpression=function(e){e&&!this.ast[e]&&(this.ast[e]=r.parseExpressionToAst(e))},e.prototype.collectRepeat=function(e){return this.repeat[e]||(this.repeat[e]=d(e)),this.repeat[e]},e}();function c(e,t,n,a,p){return i.__awaiter(this,void 0,void 0,(function(){var u,h,y,v,m,g,f,x,S,b,k,w,_,E,G,C,I;return i.__generator(this,(function(N){switch(N.label){case 0:if("snapshot"===e.kind)return[2,{contents:[e]}];if(!e.repeat)return[3,5];if(u=d(e.repeat,p),h=u.expression,y=u.itemName,v=u.indexName,_=r.evaluate(h,n,r.getExpressionOptions(p,"repeat")),!Array.isArray(_))return[3,5];m=[],g=[],f=0,N.label=1;case 1:return f<_.length?(x=i.__assign({},n),y&&(x[y]=_[f],v&&(x[v]=f)),[4,c(i.__assign(i.__assign({},e),{repeat:void 0}),t,x,g,p)]):[3,4];case 2:void 0===(S=N.sent()).ifValue?g=[]:g.push(S.ifValue),m.push.apply(m,i.__spreadArray([],i.__read(S.contents))),N.label=3;case 3:return f++,[3,1];case 4:return[2,{contents:m}];case 5:return e.else&&a.some((function(e){return!0===e}))?[2,{contents:[],ifValue:!1}]:e.if&&"boolean"==typeof(_=r.evaluate(e.if,n,r.getExpressionOptions(p,"if")))&&(b=_,!1===_)?[2,{contents:[],ifValue:b}]:((e=i.__assign({},e)).x=r.evaluatePositionExpression("x",e,n,p),delete e.xExpression,delete e.xExpressionId,e.y=r.evaluatePositionExpression("y",e,n,p),delete e.yExpression,delete e.yExpressionId,"reference"!==e.kind?[3,8]:(k=e.id,(w=t.templates.find((function(e){return e.id===k})))?(e.props&&(_=r.evaluate(e.props,n,r.getExpressionOptions(p,"props")),delete e.props,delete e.propsIds,n=i.__assign(i.__assign({},n),{props:_})),C={},I={kind:"snapshot",x:e.x,y:e.y,rotate:e.rotate},[4,l(w,t,n,r.getExpressionOptions(p,w.name||w.id))]):[3,7]));case 6:return[2,(C.contents=[(I.snapshot=N.sent(),I)],C.ifValue=b,C)];case 7:return[2,{contents:[],ifValue:b}];case 8:return e.width=r.evaluateSizeExpression("width",e,n,p),delete e.widthExpression,delete e.widthExpressionId,e.height=r.evaluateSizeExpression("height",e,n,p),delete e.heightExpression,delete e.heightExpressionId,e.rotate=r.evaluateRotateExpression(e,n,p),delete e.rotateExpression,delete e.rotateExpressionId,"text"===e.kind&&(e.text=r.evaluateTextExpression(e,n,p),delete e.textExpression,delete e.textExpressionId,e.characters=o.getCharacters(e.text),e.fontSize=r.evaluateFontSizeExpression(e,n,p),delete e.fontSizeExpression,delete e.fontSizeExpressionId,e.color=r.evaluateColorExpression(e,n,p),delete e.colorExpression,delete e.colorExpressionId),"image"!==e.kind?[3,10]:(e.url=r.evaluateUrlExpression(e,n,p),delete e.urlExpression,delete e.urlExpressionId,void 0===e.opacity?[3,10]:[4,s.loadImage(e.url)]);case 9:E=N.sent(),G=s.imageToCtx(E),s.applyImageOpacity(G,e.opacity),e.base64=G.canvas.toDataURL(),N.label=10;case 10:return"color"===e.kind&&(e.color=r.evaluateColorExpression(e,n,p),delete e.colorExpression,delete e.colorExpressionId),[2,{contents:[e],ifValue:b}]}}))}))}function d(e,t){if(t&&t.precompiledStyleGuide)return t.precompiledStyleGuide.repeat[e];var n=e.indexOf(" in ");if(-1===n)return{expression:e};var i=e.substring(0,n).trim(),a=e.substring(n+4).trim();if(i.startsWith("(")&&i.endsWith(")")){var r=i.substring(1,i.length-1).split(",");return 0===r.length?{expression:a}:1===r.length?{expression:a,itemName:r[0].trim()}:{expression:a,itemName:r[0].trim(),indexName:r[1].trim()}}return{expression:a,itemName:i}}t.PrecompiledStyleGuide=p,t.analyseRepeat=d,t.composeRepeat=function(e){if(e.expression)return e.itemName?e.indexName?"("+e.itemName+", "+e.indexName+") in "+e.expression:e.itemName+" in "+e.expression:e.expression}},9657:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createViewport=void 0,t.createViewport=function(e,t){return{translateX:0,translateY:0,scale:1,width:e,height:t,applyRegionChange:function(e){var t=this.width/e.width,n=this.height/e.height;this.scale=.9*Math.min(t,n);var i=e.width*(t-this.scale)/2,a=e.height*(n-this.scale)/2;this.translateX=(i-e.x*this.scale-e.width/2)/this.scale+e.width/2,this.translateY=(a-e.y*this.scale-e.height/2)/this.scale+e.height/2},mapX:function(e,t){return(e-((this.translateX-t/2)*this.scale+t/2))/this.scale},mapY:function(e,t){return(e-((this.translateY-t/2)*this.scale+t/2))/this.scale},mapBackX:function(e,t){return e*this.scale+((this.translateX-t/2)*this.scale+t/2)},mapBackY:function(e,t){return e*this.scale+((this.translateY-t/2)*this.scale+t/2)},get transform(){return"scale("+this.scale+") translate("+this.translateX+"px, "+this.translateY+"px)"},move:function(e){e.ctrlKey||(this.translateX-=e.deltaX/this.scale,this.translateY-=e.deltaY/this.scale)},zoom:function(e,t,n){if(e.ctrlKey){e.preventDefault(),e.stopImmediatePropagation();var i=1;e.deltaY>0?i=.98*this.scale:e.deltaY<0&&(i=this.scale/.98);var a=(e.offsetX-this.mapX(e.offsetX,t)*i-t/2)/i+t/2,r=(e.offsetY-this.mapY(e.offsetY,n)*i-n/2)/i+n/2;this.scale=i,this.translateX=a,this.translateY=r}}}}},2624:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateRenderer=void 0;var i=n(655),a=n(9812),r=n(1613),s=n(9110),o=n(2569),l=n(8593),p=n(8160);t.TemplateRenderer=a.defineComponent({props:{template:{type:Object,required:!0},styleGuide:{type:Object,required:!0}},computed:{variable:function(){var e;return l.getVariableObject(null===(e=this.styleGuide.variables)||void 0===e?void 0:e[0])}},render:function(){return a.h("div",{style:{width:this.template.width+"px",height:this.template.height+"px",position:"absolute",userSelect:"none",backgroundColor:"white",zIndex:-2147483584}},[a.h(c,{reference:this.template,styleGuide:this.styleGuide,content:{x:0,y:0,kind:"reference",id:""},z:0,variable:this.variable})])}});var c=a.defineComponent({props:{reference:{type:Object,required:!0},styleGuide:{type:Object,required:!0},referenceProps:[Object,Number,String],content:{type:Object,required:!0},template:Object,props:[Object,Number,String],z:{type:Number,required:!0},variable:{type:Object,required:!0}},computed:{width:function(){return this.referenceProps?r.evaluateSizeExpression("width",this.reference,{variable:this.variable,props:this.referenceProps}):this.reference.width},height:function(){return this.referenceProps?r.evaluateSizeExpression("height",this.reference,{variable:this.variable,props:this.referenceProps}):this.reference.height},x:function(){return l.getPosition(this.props,"x",this.content,this.template,this.styleGuide)},y:function(){return l.getPosition(this.props,"y",this.content,this.template,this.styleGuide)},zValue:function(){return this.z+l.getPosition(this.props,"z",this.content,this.template,this.styleGuide)},rotate:function(){return r.evaluateRotateExpression(this.content,{variable:this.variable,props:this.props})}},render:function(){var e,t,n=[];try{for(var s=i.__values(p.iterateSymbolRenderItem(this.reference,this.styleGuide)),o=s.next();!o.done;o=s.next()){var l=o.value;if("text"===l.kind)n.push(a.h(d,{content:l.content,props:this.referenceProps,template:this.reference,styleGuide:this.styleGuide,z:this.zValue,variable:this.variable}));else if("image"===l.kind)n.push(a.h(u,{content:l.content,props:this.referenceProps,template:this.reference,styleGuide:this.styleGuide,z:this.zValue,variable:this.variable}));else if("color"===l.kind)n.push(a.h(h,{content:l.content,props:this.referenceProps,template:this.reference,styleGuide:this.styleGuide,z:this.zValue,variable:this.variable}));else if("symbol"===l.kind){var y=l.content,v=r.evaluate(l.props,{variable:this.variable,props:this.referenceProps});n.push(a.h(c,{reference:l.symbol,styleGuide:this.styleGuide,referenceProps:v,content:y,template:this.reference,props:this.referenceProps,z:this.zValue,variable:this.variable}))}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return a.h("div",{style:{width:this.width+"px",height:this.height+"px",left:this.x+"px",top:this.y+"px",position:"absolute",userSelect:"none",transform:this.rotate?"rotate("+this.rotate+"deg)":void 0}},n)}}),d=a.defineComponent({props:{content:{type:Object,required:!0},props:[Object,Number,String],template:{type:Object,required:!0},styleGuide:{type:Object,required:!0},z:{type:Number,required:!0},variable:{type:Object,required:!0}},computed:{text:function(){return r.evaluateTextExpression(this.content,{variable:this.variable,props:this.props})},characters:function(){return o.getCharacters(this.text)},fontSize:function(){return r.evaluateFontSizeExpression(this.content,{variable:this.variable,props:this.props})},color:function(){return r.evaluateColorExpression(this.content,{variable:this.variable,props:this.props})},x:function(){return l.getPosition(this.props,"x",this.content,this.template,this.styleGuide)},y:function(){return l.getPosition(this.props,"y",this.content,this.template,this.styleGuide)},zValue:function(){return this.z+l.getPosition(this.props,"z",this.content,this.template,this.styleGuide)},rotate:function(){return r.evaluateRotateExpression(this.content,{variable:this.variable,props:this.props})},width:function(){return r.evaluateSizeExpression("width",this.content,{variable:this.variable,props:this.props})},height:function(){return r.evaluateSizeExpression("height",this.content,{variable:this.variable,props:this.props})}},render:function(){return a.h("div",{style:{color:this.color,fontSize:this.fontSize+"px",fontFamily:this.content.fontFamily,position:"absolute",left:this.x+"px",top:this.y+"px",width:this.width+"px",height:this.height+"px",zIndex:this.zValue,transform:this.rotate?"rotate("+this.rotate+"deg)":void 0}},this.characters.map((function(e){return e.text})).join(""))}}),u=a.defineComponent({props:{content:{type:Object,required:!0},props:[Object,Number,String],template:{type:Object,required:!0},styleGuide:{type:Object,required:!0},z:{type:Number,required:!0},variable:{type:Object,required:!0}},computed:{url:function(){return r.evaluateUrlExpression(this.content,{variable:this.variable,props:this.props})},width:function(){return r.evaluateSizeExpression("width",this.content,{variable:this.variable,props:this.props})},height:function(){return r.evaluateSizeExpression("height",this.content,{variable:this.variable,props:this.props})},x:function(){return l.getPosition(this.props,"x",this.content,this.template,this.styleGuide)},y:function(){return l.getPosition(this.props,"y",this.content,this.template,this.styleGuide)},zValue:function(){return this.z+l.getPosition(this.props,"z",this.content,this.template,this.styleGuide)},rotate:function(){return r.evaluateRotateExpression(this.content,{variable:this.variable,props:this.props})},imageLoader:function(){var e=a.reactive({result:null});return s.loadImage(this.url).then((function(t){e.result=t})),e},base64:function(){if(this.content.base64)return this.content.base64;if(void 0!==this.content.opacity&&this.imageLoader.result){var e=s.imageToCtx(this.imageLoader.result);return s.applyImageOpacity(e,this.content.opacity),e.canvas.toDataURL()}return this.url}},render:function(){return a.h("img",{style:{width:this.width+"px",height:this.height+"px",position:"absolute",left:this.x+"px",top:this.y+"px",zIndex:this.zValue,transform:this.rotate?"rotate("+this.rotate+"deg)":void 0,mixBlendMode:this.content.blendMode},src:this.base64})}}),h=a.defineComponent({props:{content:{type:Object,required:!0},props:[Object,Number,String],template:{type:Object,required:!0},styleGuide:{type:Object,required:!0},z:{type:Number,required:!0},variable:{type:Object,required:!0}},computed:{width:function(){return r.evaluateSizeExpression("width",this.content,{variable:this.variable,props:this.props})},height:function(){return r.evaluateSizeExpression("height",this.content,{variable:this.variable,props:this.props})},x:function(){return l.getPosition(this.props,"x",this.content,this.template,this.styleGuide)},y:function(){return l.getPosition(this.props,"y",this.content,this.template,this.styleGuide)},zValue:function(){return this.z+l.getPosition(this.props,"z",this.content,this.template,this.styleGuide)},rotate:function(){return r.evaluateRotateExpression(this.content,{variable:this.variable,props:this.props})},color:function(){return r.evaluateColorExpression(this.content,{variable:this.variable,props:this.props})}},render:function(){return a.h("div",{style:{width:this.width+"px",height:this.height+"px",position:"absolute",left:this.x+"px",top:this.y+"px",backgroundColor:this.color,zIndex:this.zValue,transform:this.rotate?"rotate("+this.rotate+"deg)":void 0}})}})},2527:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ImageViewer=void 0;var i=n(655),a=n(9812),r=n(9657),s=n(5449),o=n(4466),l=n(6083),p=n(9110);t.ImageViewer=a.defineComponent({render:s.imageViewerImageViewerTemplateHtml,props:{width:{type:Number,required:!0},height:{type:Number,required:!0},url:{type:String,required:!0}},mounted:function(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){switch(t.label){case 0:return[4,p.loadImage(this.url)];case 1:return e=t.sent(),this.imageWidth=e.width,this.imageHeight=e.height,this.viewport.applyRegionChange({x:0,y:0,width:this.imageWidth,height:this.imageHeight}),[2]}}))}))},data:function(e){return{viewport:r.createViewport(e.width,e.height),imageWidth:0,imageHeight:0}},components:{"render-layer":o.RenderLayer,"mask-layer":l.MaskLayer},computed:{canvasStyle:function(){return{width:this.viewport.width+"px",height:this.viewport.height+"px",position:"absolute"}}}})},6083:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MaskLayer=void 0;var i=n(9812),a=n(5449);t.MaskLayer=i.defineComponent({render:a.imageViewerMaskLayerTemplateHtml,props:{viewport:{type:Object,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0}},computed:{maskStyle:function(){return{position:"absolute",width:this.viewport.width+"px",height:this.viewport.height+"px",opacity:0}}},methods:{wheel:function(e){this.viewport.zoom(e,this.width,this.height),this.viewport.move(e)}}})},4466:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderLayer=void 0;var i=n(9812),a=n(5449);t.RenderLayer=i.defineComponent({render:a.imageViewerRenderLayerTemplateHtml,props:{viewport:{type:Object,required:!0},url:{type:String,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0}},computed:{canvasStyle:function(){return{position:"absolute",width:this.viewport.width+"px",height:this.viewport.height+"px",overflow:"hidden",backgroundColor:"#ddd"}},imageStyle:function(){return{transform:this.viewport.transform,width:this.width+"px",height:this.height+"px"}}}})},3607:(e,t,n)=>{var i=n(9812),a=n(8481),r=n(7306),s=n(5449),o=n(3377),l=n(8777),p=n(6161),c=n(4734),d=i.defineComponent({render:s.indexTemplateHtml,components:{"app-panel":o.AppPanel,"template-model-editor":l.TemplateModelEditor,"template-editor":c.TemplateEditor},data:function(){return{appState:p.createAppState()}},mounted:function(){var e=this;window.addEventListener("resize",(function(){e.appState.resize()}))}}),u=i.createApp(d);u.component("array-editor",a.ArrayEditor),u.component("object-editor",a.ObjectEditor),u.component("json-editor",a.JSONEditor),u.component("node",r.Node),u.mount("#container")},1238:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.presetExpressions=void 0,t.presetExpressions=[{id:"1",name:"price count",expression:"commodity.prices.length == 3",variables:[{tokenIndex:6},"prices"]},{id:"2",name:"commodity property",expression:"commodity.name",variables:["commodity",{tokenIndex:2,enum:["name","id","description","image"]}]},{id:"3",name:"price index",expression:"commodity?.prices?.[0]",variables:["the",{tokenIndex:5},"th price"]},{id:"4",name:"component parameter",expression:"props.name",variables:["component parameter",{tokenIndex:2,internal:"component parameters"}]},{id:"5",name:"categories range",expression:"categories.slice(0, 1)",variables:["categories",{tokenIndex:4},"until",{tokenIndex:6}]},{id:"6",name:"variable",expression:"variable.name",variables:["variable",{tokenIndex:2,internal:"variable"}]}]},3147:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createAlignment=t.AlignmentLayer=void 0;var i=n(9812),a=n(5449);t.AlignmentLayer=i.defineComponent({render:a.templateEditorAlignmentLayerTemplateHtml,props:{viewport:{type:Object,required:!0},styleGuide:{type:Object,required:!0},alignment:{type:Object,required:!0}},computed:{xStyle:function(){return void 0===this.alignment.x?{}:{position:"absolute",borderLeft:"1px dashed black",left:this.viewport.mapBackX(this.alignment.x,this.styleGuide.width)+"px",top:"0px",width:"1px",height:"100%"}},yStyle:function(){return void 0===this.alignment.y?{}:{position:"absolute",borderTop:"1px dashed black",top:this.viewport.mapBackY(this.alignment.y,this.styleGuide.height)+"px",left:"0px",width:"100%",height:"1px%"}}}}),t.createAlignment=function(){return{x:void 0,y:void 0}}},7272:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getTemplateAlignment=void 0,t.getTemplateAlignment=function(e,t,i,a,r){var s=n/i,o={},l=r.find((function(t){return t.template!==a&&Math.abs(t.x-e)<s}));if(l)o.x={template:l.x,alignment:l.x};else{var p=e+a.width/2;if(l=r.find((function(e){return e.template!==a&&Math.abs(e.x+e.width/2-p)<s})))o.x={template:l.x+(l.width-a.width)/2,alignment:l.x+l.width/2};else{var c=e+a.width;(l=r.find((function(e){return e.template!==a&&Math.abs(e.x+e.width-c)<s})))&&(o.x={template:l.x+l.width-a.width,alignment:l.x+l.width})}}var d=r.find((function(e){return e.template!==a&&Math.abs(e.y-t)<s}));if(d)o.y={template:d.y,alignment:d.y};else{var u=t+a.height/2;if(d=r.find((function(e){return e.template!==a&&Math.abs(e.y+e.height/2-u)<s})))o.y={template:d.y+(d.height-a.height)/2,alignment:d.y+d.height/2};else{var h=t+a.height;(d=r.find((function(e){return e.template!==a&&Math.abs(e.y+e.height-h)<s})))&&(o.y={template:d.y+d.height-a.height,alignment:d.y+d.height})}}return o};var n=10},8899:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.equal=t.createCanvasState=void 0;var i=n(9812),a=n(8593),r=n(1238),s=n(9657),o=n(9995),l=n(3147),p=n(7971),c=n(6987);t.createCanvasState=function(e,t,n){var d=i.reactive({applyCanvasSizeChange:function(){this.viewport.applyRegionChange(this.styleGuide)},viewport:s.createViewport(t,n),mask:c.createMask(),addKind:void 0,contextMenu:o.createContextMenu(),styleGuide:p.createStyleGuide(e),get isDraggingForSelection(){return this.mask.moved&&this.mask.mousePressing&&!this.styleGuide.hasRelationWithSelection},get mappedX(){return this.mapX(this.mask.x)},get mappedY(){return this.mapY(this.mask.y)},mapX:function(e){return this.viewport.mapX(e,this.styleGuide.width)},mapY:function(e){return this.viewport.mapY(e,this.styleGuide.height)},get allNameRegions(){return"template"===this.styleGuide.selection.kind?Array.from(a.iterateAllNameRegions(this.styleGuide.selection.template,this.styleGuide.data,this.viewport.scale)):[]},get targetNameRegions(){return p.sortByZ(Array.from(a.iterateAllNameRegions(void 0,this.styleGuide.data,this.viewport.scale)))},alignment:l.createAlignment(),presetExpressions:r.presetExpressions,commonEditorVisible:!1,commonEditorEditingFieldName:"variables",showImageViewer:!1});return d.applyCanvasSizeChange(),d},t.equal=function(e,t){var n=e-t;return n<Number.EPSILON&&n>-Number.EPSILON}},8618:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CommonEditor=void 0;var i=n(9812),a=n(5449),r=n(4734);t.CommonEditor=i.defineComponent({render:a.templateEditorCommonEditorTemplateHtml,props:{canvasState:{type:Object,required:!0}},data:function(e){return{editorStyle:{position:"absolute",right:r.operationPanelWidth+"px",left:"0px",top:"50px",backgroundColor:"white",zIndex:1,height:e.canvasState.viewport.height+"px",overflow:"auto"}}},computed:{value:function(){return JSON.stringify(this.canvasState.styleGuide.data[this.canvasState.commonEditorEditingFieldName]||[],null,2)}},methods:{changeValue:function(e){try{this.canvasState.styleGuide.data[this.canvasState.commonEditorEditingFieldName]=JSON.parse(e.target.value)}catch(e){}}}})},9995:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createContextMenu=t.ContextMenu=void 0;var i=n(655),a=n(9812),r=n(5449),s=n(8593),o=n(5014);t.ContextMenu=a.defineComponent({render:r.templateEditorContextMenuTemplateHtml,props:{canvasState:{type:Object,required:!0}},computed:{contextMenuStyle:function(){return{position:"absolute",left:this.canvasState.contextMenu.x+"px",top:this.canvasState.contextMenu.y+"px",width:"100px",height:"200px",backgroundColor:"#eee"}},maskStyle:function(){return{position:"absolute",width:this.canvasState.viewport.width+"px",height:this.canvasState.viewport.height+"px",opacity:0}},targets:function(){var e=this.canvasState.mapX(this.canvasState.contextMenu.x),t=this.canvasState.mapY(this.canvasState.contextMenu.y);return Array.from(o.iterateContentOrTemplateByPosition(this.canvasState,{x:e,y:t}))}},methods:{getTargetDisplayName:function(e){return"template"===e.kind?o.getTemplateDisplayName(e.region.template):o.getContentDisplayName(e.region.content,this.canvasState.styleGuide.data)},close:function(e){this.canvasState.contextMenu.close(e)},remove:function(){var e,t,n,a,r=this.canvasState.mapX(this.canvasState.contextMenu.x),o=this.canvasState.mapY(this.canvasState.contextMenu.y);if(this.canvasState.styleGuide.action(),"template"===this.canvasState.styleGuide.selection.kind)try{for(var l=i.__values(this.canvasState.styleGuide.allTemplateRegions),p=l.next();!p.done;p=l.next()){var c=p.value;if(s.isInRegion({x:r,y:o},c)){if(!c.parent){for(var d=this.canvasState.styleGuide.data.templates.length-1;d>=0;d--){var u=this.canvasState.styleGuide.data.templates[d];if(u!==c.template)for(var h=u.contents.length-1;h>=0;h--){var y=u.contents[h];"reference"===y.kind&&y.id===c.template.id&&u.contents.splice(h,1)}else this.canvasState.styleGuide.data.templates.splice(d,1)}return}c.parent.template.contents.splice(c.parent.index,1)}}}catch(t){e={error:t}}finally{try{p&&!p.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}else if("content"===this.canvasState.styleGuide.selection.kind)try{for(var v=i.__values(this.canvasState.styleGuide.allContentRegions),m=v.next();!m.done;m=v.next()){var g=m.value;return void g.contents.splice(g.index,1)}}catch(e){n={error:e}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(n)throw n.error}}},select:function(e){"content"===e.kind?this.canvasState.styleGuide.selection={kind:"content",content:e.region.content,template:e.region.template}:"template"===e.kind&&(this.canvasState.styleGuide.selection={kind:"template",template:e.region.template}),this.canvasState.styleGuide.hasRelationWithSelection=!1}}}),t.createContextMenu=function(){return{enabled:!1,x:0,y:0,close:function(e){this.enabled=!1,e.stopPropagation()},open:function(e){this.enabled=!0,this.x=e.offsetX,this.y=e.offsetY,e.preventDefault()}}}},8247:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getCursor=void 0;var n=["ew-resize","nwse-resize","ns-resize","nesw-resize"];t.getCursor=function(e,t){if("move"===e||"grab"===e||"grabbing"===e)return e;var i=0;if("content"===t.styleGuide.selection.kind&&"reference"!==t.styleGuide.selection.content.kind&&"snapshot"!==t.styleGuide.selection.content.kind&&t.styleGuide.selection.content.rotate){var a=t.styleGuide.selection.content.rotate%180;a>22.5?a<67.5?i+=1:a<112.5?i+=2:a<157.5&&(i+=3):a<-22.5&&(a>-67.5?i+=3:a>-112.5?i+=2:a>-157.5&&(i+=1))}return"top"===e||"bottom"===e?n[(i+2)%4]:"right"===e||"left"===e?n[i%4]:"right-top"===e||"left-bottom"===e?n[(i+3)%4]:n[(i+1)%4]}},9219:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DraggingForSelectionLayer=void 0;var i=n(9812),a=n(5449);t.DraggingForSelectionLayer=i.defineComponent({render:a.templateEditorDraggingForSelectionLayerTemplateHtml,props:{canvasState:{type:Object,required:!0},mask:{type:Object,required:!0}},computed:{draggingAreaStyle:function(){return{position:"absolute",border:"1px dashed black",left:Math.min(this.mask.mousedownX,this.mask.mouseupX)+"px",top:Math.min(this.mask.mousedownY,this.mask.mouseupY)+"px",width:Math.abs(this.mask.mousedownX-this.mask.mouseupX)+"px",height:Math.abs(this.mask.mousedownY-this.mask.mouseupY)+"px"}}}})},2398:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.expressionEditorSchema=void 0;var i=n(655),a={type:"string",title:"字符串",propertyName:"value",requiredWhen:["type","===","StringLiteral"],propertyOrder:1},r={type:"number",title:"数字",propertyName:"value",requiredWhen:["type","===","NumericLiteral"],propertyOrder:1},s={name:{type:"string",title:"名称",requiredWhen:["type","===","Identifier"],propertyOrder:1}},o=["NumericLiteral","StringLiteral","BooleanLiteral","NullLiteral","ArrayExpression","ObjectExpression","Identifier","ThisExpression","BinaryExpression","LogicalExpression","UnaryExpression","MemberExpression","ConditionalExpression","CallExpression","ArrowFunctionExpression"],l=["数字","字符串","布尔值","null","数组","对象","标记符","this","二元表达式","逻辑表达式","一元表达式","取成员","条件表达式","函数调用","箭头函数"],p=i.__assign(i.__assign({stringValue:a,numericValue:r,booleanValue:{type:"boolean",title:"值",propertyName:"value",requiredWhen:["type","===","BooleanLiteral"],propertyOrder:1}},s),{binaryOperator:{type:"string",title:"运算符",propertyName:"operator",enum:["**","*","/","%","+","-","<<",">>",">>>",">","<",">=","<=","==","!=","===","!==","&","^","|","|>"],enumTitles:["幂乘","乘","除","除余","加","减","按位左移","按位右移","按位无符号右移","大于","小于","大于等于","小于等于","等于","不等于","全等于","不全等于","位与","位异或","位或","管道"],requiredWhen:["type","===","BinaryExpression"],propertyOrder:2},unaryOperator:{type:"string",title:"运算符",propertyName:"operator",enum:["+","-","!","~","%","await"],enumTitles:["正","负","非","位非","百分比","异步等待"],requiredWhen:["type","===","UnaryExpression"],propertyOrder:2},logicalOperator:{type:"string",title:"运算符",propertyName:"operator",enum:["||","&&","??"],enumTitles:["或","且","空值或"],requiredWhen:["type","===","LogicalExpression"],propertyOrder:2},left:{type:void 0,$ref:"#/definitions/expression",title:"左操作符",requiredWhen:["type","in",["BinaryExpression","LogicalExpression"]],propertyOrder:1},right:{type:void 0,$ref:"#/definitions/expression",title:"右操作符",requiredWhen:["type","in",["BinaryExpression","LogicalExpression"]],propertyOrder:3},argument:{type:void 0,$ref:"#/definitions/expression",title:"参数",requiredWhen:["type","===","UnaryExpression"],propertyOrder:3},object:{type:void 0,$ref:"#/definitions/expression",title:"对象",requiredWhen:["type","===","MemberExpression"],propertyOrder:1},property:{type:void 0,$ref:"#/definitions/expression",title:"属性",requiredWhen:["type","===","MemberExpression"],propertyOrder:2},optional:{type:"boolean",title:"可选",optionalWhen:["type","in",["MemberExpression","CallExpression"]],propertyOrder:3},test:{type:void 0,$ref:"#/definitions/expression",title:"条件",requiredWhen:["type","===","ConditionalExpression"],propertyOrder:1},consequent:{type:void 0,$ref:"#/definitions/expression",title:"真值",requiredWhen:["type","===","ConditionalExpression"],propertyOrder:2},alternate:{type:void 0,$ref:"#/definitions/expression",title:"假值",requiredWhen:["type","===","ConditionalExpression"],propertyOrder:3},callee:{type:void 0,$ref:"#/definitions/expression",title:"函数名",requiredWhen:["type","===","CallExpression"],propertyOrder:1},arguments:{type:"array",title:"参数",items:{type:void 0,$ref:"#/definitions/expressionWithSpreadElement"},requiredWhen:["type","===","CallExpression"],propertyOrder:2},elements:{type:"array",title:"项",items:{type:void 0,$ref:"#/definitions/expressionWithSpreadElement"},requiredWhen:["type","===","ArrayExpression"],propertyOrder:2},properties:{type:"array",title:"属性",items:{type:void 0,$ref:"#/definitions/propertyWithSpreadElement",title:"属性项"},requiredWhen:["type","===","ObjectExpression"],propertyOrder:2},params:{type:"array",title:"参数",items:{type:void 0,$ref:"#/definitions/pattern"},requiredWhen:["type","===","ArrowFunctionExpression"],propertyOrder:1},body:{type:void 0,$ref:"#/definitions/expression",title:"函数体",requiredWhen:["type","===","ArrowFunctionExpression"],propertyOrder:1}});t.expressionEditorSchema={type:void 0,$ref:"#/definitions/expression",definitions:{expression:{type:"object",title:"表达式",properties:i.__assign({type:{type:"string",title:"类别",enum:o,enumTitles:l,propertyOrder:0}},p),required:["type"]},propertyWithSpreadElement:{type:"object",properties:{type:{type:"string",title:"类别",enum:["Property","SpreadElement"],enumTitles:["属性","展开"],propertyOrder:0},key:{type:void 0,$ref:"#/definitions/propertyKey",title:"字段名称",requiredWhen:["type","===","Property"],propertyOrder:1},value:{type:void 0,$ref:"#/definitions/expression",title:"值",requiredWhen:["type","===","Property"],propertyOrder:2},shorthand:{type:"boolean",title:"简写",requiredWhen:["type","===","Property"],propertyOrder:3},argument:{type:void 0,$ref:"#/definitions/expression",title:"参数",requiredWhen:["type","===","SpreadElement"],propertyOrder:1}},required:["type"]},propertyKey:{type:"object",properties:i.__assign({type:{type:"string",title:"类别",enum:["NumericLiteral","StringLiteral","Identifier"],enumTitles:["数字","字符串","标识符"],propertyOrder:0},stringValue:a,numericValue:r},s),required:["type"]},expressionWithSpreadElement:{type:"object",properties:i.__assign(i.__assign({type:{type:"string",enum:i.__spreadArray(i.__spreadArray([],i.__read(o)),["SpreadElement"]),enumTitles:i.__spreadArray(i.__spreadArray([],i.__read(l)),["展开"]),propertyOrder:0}},p),{spreadElementArgument:{type:void 0,$ref:"#/definitions/expression",propertyName:"argument",requiredWhen:["type","===","SpreadElement"],propertyOrder:1}}),required:["type"]},pattern:{type:"object",properties:i.__assign(i.__assign({type:{type:"string",title:"类别",enum:["Identifier","AssignmentPattern","RestElement"],enumTitles:["标识符参数","带默认值参数","剩余参数"],propertyOrder:0}},s),{left:{type:"object",title:"标识符",properties:i.__assign({type:{type:"string",title:"类别",enum:["Identifier"],enumTitles:["标识符"],propertyOrder:0}},s),requiredWhen:["type","===","AssignmentPattern"],propertyOrder:1,required:["type"]},right:{type:void 0,$ref:"#/definitions/expression",title:"默认值",requiredWhen:["type","===","AssignmentPattern"],propertyOrder:2},argument:{type:"object",title:"参数",properties:i.__assign({type:{type:"string",enum:["Identifier"],enumTitles:["标识符"],propertyOrder:0}},s),requiredWhen:["type","===","RestElement"],propertyOrder:1,required:["type"]}}),required:["type"]}}}},9142:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionEditor=void 0;var i=n(9812),a=n(8442),r=n(5449),s=n(2398);t.ExpressionEditor=i.defineComponent({render:r.templateEditorExpressionEditorTemplateHtml,props:{canvasState:{type:Object,required:!0},expression:{type:String,required:!0}},computed:{ast:function(){if(this.expression)return a.parseExpression(a.tokenizeExpression(this.expression))}},data:function(e){return{schema:s.expressionEditorSchema,editorStyle:{position:"fixed",right:"300px",left:"0px",top:"50px",backgroundColor:"white",zIndex:1,height:e.canvasState.viewport.height+"px",overflow:"auto"}}},methods:{updateValue:function(e){if(e.isValid){var t=a.printExpression(e.value);t!==this.expression&&this.$emit("change",t)}}}})},7056:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionInput=void 0;var i=n(655),a=n(9812),r=n(8442),s=n(9142);function o(e,t,n,i){return e.substring(0,n[0])+(t||i)+e.substring(n[1])}t.ExpressionInput=a.defineComponent({props:{literal:[String,Number],literalType:String,expression:String,canvasState:{type:Object,required:!0},expressionId:String},components:{"expression-editor":s.ExpressionEditor},data:function(){return{editingAst:!1}},computed:{id:function(){return this.expressionId||""},presetExpression:function(){var e=this;if(this.id)return this.canvasState.presetExpressions.find((function(t){return t.id===e.id}))},currentTokens:function(){return this.expression?r.tokenizeExpression(this.expression):[]}},render:function(){var e,t=this,n=this.renderInput();e=this.id?this.id:void 0===this.expression&&this.literalType?"literal":"f(x)";var s=this.renderTypeOptions();return a.h("span",[a.h("select",{value:e,onChange:function(e){var n=e.target.value;if("literal"===n)t.emitChange({});else if("f(x)"===n)t.emitChange({expression:t.expression||""});else{var a=t.canvasState.presetExpressions.find((function(e){return e.id===n}));a&&(t.expression&&function(e,t){var n,a,s=r.tokenizeExpression(e.expression);if(s.length!==t.length)return!1;var o=[];try{for(var l=i.__values(e.variables),p=l.next();!p.done;p=l.next()){var c=p.value;"string"!=typeof c&&o.push(c.tokenIndex)}}catch(e){n={error:e}}finally{try{p&&!p.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}for(var d=0;d<s.length;d++){var u=s[d],h=t[d];if(u.type!==h.type)return!1;if(!o.includes(d)){if("Identifier"===u.type&&"Identifier"===h.type&&u.name!==h.name)return!1;if("BooleanLiteral"===u.type&&"BooleanLiteral"===h.type&&u.value!==h.value)return!1;if("KeywordToken"===u.type&&"KeywordToken"===h.type&&u.name!==h.name)return!1;if("NumericLiteral"===u.type&&"NumericLiteral"===h.type&&u.value!==h.value)return!1;if("PunctuatorToken"===u.type&&"PunctuatorToken"===h.type&&u.value!==h.value)return!1;if("StringLiteral"===u.type&&"StringLiteral"===h.type&&u.value!==h.value)return!1}}return!0}(a,t.currentTokens)?t.emitChange({expression:t.expression,expressionId:n}):t.emitChange({expression:a.expression,expressionId:n}))}}},s),a.h("div",{style:{marginLeft:"20px"}},n)])},methods:{emitChange:function(e){this.$emit("change",e)},renderTypeOptions:function(){var e=[];return this.literalType&&e.push(a.h("option",{key:"literal",value:"literal"},"literal")),e.push.apply(e,i.__spreadArray([a.h("option",{key:"f(x)",value:"f(x)"},"f(x)")],i.__read(this.canvasState.presetExpressions.map((function(e){return a.h("option",{key:e.id,value:e.id},e.name)}))))),e},renderInput:function(){var e,t=this,n=this.presetExpression;return n&&n.variables.every((function(e){return"string"==typeof e||e.tokenIndex<t.currentTokens.length}))?e=n.variables.map((function(e){var i;if("string"==typeof e)return a.h("span",e);var r=t.currentTokens[e.tokenIndex];if("NumericLiteral"===r.type)return a.h("input",{type:"number",value:r.value,style:{width:"50px"},onChange:function(e){var i=o(n.expression,e.target.value,r.range,"0");t.emitChange({expression:i,expressionId:t.expressionId})}});if("StringLiteral"===r.type)return a.h("input",{type:"text",value:r.value,onChange:function(e){var i,a,s,o=(i=n.expression,a=e.target.value,s=r.range,i.substring(0,s[0]+1)+a+i.substring(s[1]-1));t.emitChange({expression:o,expressionId:t.expressionId})}});if("Identifier"===r.type){if(e.enum||e.internal){var s=void 0;if("component parameters"!==e.internal||"content"!==t.canvasState.styleGuide.selection.kind&&"template"!==t.canvasState.styleGuide.selection.kind)if("variable"===e.internal){var l=null===(i=t.canvasState.styleGuide.data.variables)||void 0===i?void 0:i[0];s=l?l.map((function(e){return{value:e.name,name:e.displayName||e.name}})):[]}else s=e.enum?e.enum:[];else s=t.canvasState.styleGuide.selection.template.parameters||[];return a.h("select",{value:r.name,onChange:function(e){var i=o(n.expression,e.target.value,r.range,"a");t.emitChange({expression:i,expressionId:t.expressionId})}},s.map((function(e){var t="string"==typeof e?e:e.name,n="string"==typeof e?e:e.value;return a.h("option",{key:n,value:n},t)})))}return a.h("input",{type:"text",value:r.name,onChange:function(e){var i=o(n.expression,e.target.value,r.range,"a");t.emitChange({expression:i,expressionId:t.expressionId})}})}return""})):void 0===this.expression&&this.literalType?e=[a.h("input",{type:this.literalType,value:this.literal,onChange:function(e){t.emitChange({literal:e.target.value})}})]:(e=[a.h("input",{type:"text",value:this.expression,onChange:function(e){t.emitChange({expression:e.target.value})}}),a.h("button",{onClick:function(){t.editingAst=!t.editingAst}},"ast")],this.editingAst&&e.push(a.h("expression-editor",{props:{canvasState:this.canvasState,expression:this.expression},onChange:function(e){t.emitChange({expression:e})}}))),e}}})},6925:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HoverLayer=void 0;var i=n(9812),a=n(5449),r=n(5014);t.HoverLayer=i.defineComponent({render:a.templateEditorHoverLayerTemplateHtml,props:{canvasState:{type:Object,required:!0}},computed:{canvasStyle:function(){return{position:"absolute",width:this.canvasState.viewport.width+"px",height:this.canvasState.viewport.height+"px",overflow:"hidden"}},styleGuideStyle:function(){return{transform:this.canvasState.viewport.transform,width:this.canvasState.styleGuide.width+"px",height:this.canvasState.styleGuide.height+"px"}},hoverStyle:function(){if(!this.canvasState.mask.mousePressing){var e=r.selectContentOrTemplateByPosition(this.canvasState,{x:this.canvasState.mappedX,y:this.canvasState.mappedY});if(e){var t="content"===e.kind?e.region:e.region.template;return{left:t.x+"px",top:t.y+"px",width:t.width+"px",height:t.height+"px",transform:t.rotate?"rotate("+t.rotate+"deg)":void 0,position:"absolute",backgroundColor:"green",opacity:.1}}}}}})},6081:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LayerPanel=void 0;var i=n(655),a=n(9812),r=n(7306),s=n(5014);t.LayerPanel=a.defineComponent({props:{canvasState:{type:Object,required:!0}},data:function(){return{childrenDragIndex:void 0}},computed:{panelStyle:function(){return{height:this.canvasState.viewport.height+"px",overflow:"auto",whiteSpace:"nowrap",userSelect:"none"}}},render:function(){var e=this;return a.h(r.Tree,{style:this.panelStyle,data:[],draggable:!0},(function(){return e.canvasState.styleGuide.data.templates.map((function(t,n){return a.h(o,{key:t.id+"_"+n,canvasState:e.canvasState,template:t,last:n===e.canvasState.styleGuide.data.templates.length-1,path:[n],dragIndex:e.childrenDragIndex,onDrag:function(t){e.childrenDragIndex=t},onDrop:function(t){if(!(void 0===e.childrenDragIndex||e.childrenDragIndex===t.index||e.childrenDragIndex===t.index+1&&3===t.dropPosition||e.childrenDragIndex===t.index-1&&1===t.dropPosition)){var n=e.canvasState.styleGuide.data.templates.splice(e.childrenDragIndex,1)[0],i=t.index;3===t.dropPosition&&i++,e.childrenDragIndex<t.index&&i--,e.canvasState.styleGuide.data.templates.splice(i,0,n)}}})}))}))}});var o=a.defineComponent({props:{canvasState:{type:Object,required:!0},content:Object,template:{type:Object,required:!0},last:{type:Boolean,required:!0},path:{type:Array,required:!0},dragIndex:Number},data:function(){return{opened:!0,dropPosition:0,childrenDragIndex:void 0}},computed:{selected:function(){return"content"===this.canvasState.styleGuide.selection.kind&&this.canvasState.styleGuide.selection.content===this.content||"template"===this.canvasState.styleGuide.selection.kind&&this.canvasState.styleGuide.selection.template===this.template&&!this.content},dropAllowed:function(){return!(null===this.dragIndex||this.dragIndex===this.index||this.dragIndex===this.index+1&&3===this.dropPosition||this.dragIndex===this.index-1&&1===this.dropPosition)},index:function(){return this.path[this.path.length-1]},contentName:function(){return this.content?s.getContentDisplayName(this.content,this.canvasState.styleGuide.data):s.getTemplateDisplayName(this.template)},contents:function(){return this.content?"snapshot"===this.content.kind?this.content.snapshot.contents:[]:this.template.contents}},render:function(){var e=this,t=this.contents.map((function(t,n){return a.h(o,{canvasState:e.canvasState,content:t,template:e.template,last:n===e.contents.length-1,path:i.__spreadArray(i.__spreadArray([],i.__read(e.path)),[n]),dragIndex:e.childrenDragIndex,onDrag:function(t){e.childrenDragIndex=t},onDrop:function(t){if(!(void 0===e.childrenDragIndex||e.childrenDragIndex===t.index||e.childrenDragIndex===t.index+1&&3===t.dropPosition||e.childrenDragIndex===t.index-1&&1===t.dropPosition)){var n=e.contents.splice(e.childrenDragIndex,1)[0],i=t.index;3===t.dropPosition&&i++,e.childrenDragIndex<t.index&&i--,e.contents.splice(i,0,n)}}})}));return a.h(r.Node,{data:{text:this.contentName,children:[],icon:!1,state:{opened:this.opened,selected:this.selected,disabled:!1,loading:!1,highlighted:!1,openable:!1,dropPosition:this.dropPosition,dropAllowed:this.dropAllowed}},last:this.last,path:this.path,draggable:!0,preid:"",onToggle:function(){e.opened=!e.opened},onChange:function(){e.content?e.canvasState.styleGuide.selection={kind:"content",content:e.content,template:e.template}:e.canvasState.styleGuide.selection={kind:"template",template:e.template}},onDragstart:function(t){e.$emit("drag",e.index),t.stopPropagation()},onDragend:function(t){e.$emit("drag",void 0),t.stopPropagation()},onDragover:function(t){var n=t.target,i=l(n);e.dropPosition=p(t.pageY,i,n.offsetHeight),t.stopPropagation(),t.preventDefault()},onDragenter:function(t){var n=t.target,i=l(n);e.dropPosition=p(t.pageY,i,n.offsetHeight),t.stopPropagation()},onDragleave:function(t){e.dropPosition=0,t.stopPropagation()},onDrop:function(t){e.$emit("drop",{index:e.index,dropPosition:e.dropPosition}),e.dropPosition=0,t.stopPropagation()}},(function(){return t}))}});function l(e){for(var t=0,n=e;n;)t+=n.offsetTop,n=n.offsetParent;return t}function p(e,t,n){return e-t<n/2?1:3}},6987:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createMask=t.MaskLayer=void 0;var i=n(9812),a=n(8899),r=n(5014),s=n(5449),o=n(8593),l=n(8045),p=n(8247),c=n(7272);t.MaskLayer=i.defineComponent({render:s.templateEditorMaskLayerTemplateHtml,props:{canvasState:{type:Object,required:!0}},data:function(){return{draggingSelectionOffsetX:0,draggingSelectionOffsetY:0,draggingSelectionRotate:0,draggingSelectionContent:void 0,clipboard:{kind:"none"},mouseIsDown:!1,draggingSelectionKind:void 0,draggingSelectionWidth:0,draggingSelectionHeight:0,draggingSelectionX:0,draggingSelectionY:0}},computed:{maskStyle:function(){var e;if(this.canvasState.addKind)e="grabbing";else if(this.canvasState.styleGuide.hasRelationWithSelection)e=this.draggingSelectionKind?p.getCursor(this.draggingSelectionKind,this.canvasState):"move";else{var t=r.getPositionAndSelectionAreaRelation(this.canvasState,{x:this.canvasState.mappedX,y:this.canvasState.mappedY});e=t?p.getCursor(t.kind,this.canvasState):this.canvasState.isDraggingForSelection?"crosshair":"auto"}return{position:"absolute",width:this.canvasState.viewport.width+"px",height:this.canvasState.viewport.height+"px",opacity:0,cursor:e}},mouseupMappedX:function(){return this.canvasState.mapX(this.canvasState.mask.mouseupX)},mouseupMappedY:function(){return this.canvasState.mapY(this.canvasState.mask.mouseupY)},mousedownMappedX:function(){return this.canvasState.mapX(this.canvasState.mask.mousedownX)},mousedownMappedY:function(){return this.canvasState.mapY(this.canvasState.mask.mousedownY)}},methods:{wheel:function(e){this.canvasState.viewport.zoom(e,this.canvasState.styleGuide.width,this.canvasState.styleGuide.height),this.canvasState.viewport.move(e)},mousedown:function(e){if(this.mouseIsDown=!0,this.canvasState.addKind){this.canvasState.styleGuide.action();var t=this.canvasState.mapX(e.offsetX),n=this.canvasState.mapY(e.offsetY);if("template"===this.canvasState.addKind){var i={id:Math.random().toString(),x:o.formatPixel(t-250),y:o.formatPixel(n-150),width:500,height:300,contents:[]};this.canvasState.styleGuide.data.templates.push(i),this.canvasState.styleGuide.selection={kind:"template",template:i}}else{var a=r.selectTemplateRegionByPosition(this.canvasState,{x:t,y:n});if(a){var s=o.formatPixel(t-a.template.x-50),l=o.formatPixel(n-a.template.y-50);if("text"===this.canvasState.addKind){var p={kind:"text",text:"",color:"#000000",fontFamily:"Aria",fontSize:12,x:s,y:l,width:100,height:100};a.template.contents.push(p),this.canvasState.styleGuide.selection={kind:"content",content:p,template:a.template}}else"image"===this.canvasState.addKind?(p={kind:"image",url:"",x:s,y:l,width:100,height:100},a.template.contents.push(p),this.canvasState.styleGuide.selection={kind:"content",content:p,template:a.template}):"color"===this.canvasState.addKind&&(p={kind:"color",color:"#000",x:s,y:l,width:100,height:100},a.template.contents.push(p),this.canvasState.styleGuide.selection={kind:"content",content:p,template:a.template})}}this.canvasState.addKind=void 0}else{this.canvasState.mask.mousedownX=e.offsetX,this.canvasState.mask.mousedownY=e.offsetY,this.canvasState.mask.mouseupX=e.offsetX,this.canvasState.mask.mouseupY=e.offsetY,this.canvasState.mask.mousePressing=!0;var c=r.getPositionAndSelectionAreaRelation(this.canvasState,{x:this.mousedownMappedX,y:this.mousedownMappedY});if(this.canvasState.styleGuide.hasRelationWithSelection=!!c,c)if(this.draggingSelectionOffsetX=c.offsetX,this.draggingSelectionOffsetY=c.offsetY,this.draggingSelectionRotate=c.rotate,this.draggingSelectionContent=c.content,"grab"===c.kind?this.draggingSelectionKind="grabbing":this.draggingSelectionKind=c.kind,"template"===this.canvasState.styleGuide.selection.kind)this.draggingSelectionWidth=this.canvasState.styleGuide.selection.template.width,this.draggingSelectionHeight=this.canvasState.styleGuide.selection.template.height;else if("content"===this.canvasState.styleGuide.selection.kind){var d=this.canvasState.styleGuide.selection.content;"reference"!==d.kind&&(this.draggingSelectionX=d.x,this.draggingSelectionY=d.y,"snapshot"===d.kind?(this.draggingSelectionWidth=d.snapshot.width,this.draggingSelectionHeight=d.snapshot.height):(this.draggingSelectionWidth=d.width,this.draggingSelectionHeight=d.height))}}},mousemove:function(e){if(this.canvasState.mask.x=e.offsetX,this.canvasState.mask.y=e.offsetY,this.canvasState.mask.mousePressing&&(this.canvasState.mask.mouseupX=e.offsetX,this.canvasState.mask.mouseupY=e.offsetY),this.canvasState.styleGuide.hasRelationWithSelection)if("template"===this.canvasState.styleGuide.selection.kind){var t=this.mouseupMappedX-this.mousedownMappedX+this.draggingSelectionOffsetX,n=this.mouseupMappedY-this.mousedownMappedY+this.draggingSelectionOffsetY;if(this.draggingSelectionContent)this.draggingSelectionContent.x=o.formatPixel(t),this.draggingSelectionContent.y=o.formatPixel(n);else if(this.draggingSelectionKind){var i=this.canvasState.styleGuide.selection.template;if("move"===this.draggingSelectionKind){if(e.shiftKey)return i.x=o.formatPixel(t),i.y=o.formatPixel(n),this.canvasState.alignment.x=void 0,void(this.canvasState.alignment.y=void 0);var a=c.getTemplateAlignment(t,n,this.canvasState.viewport.scale,i,this.canvasState.styleGuide.targetTemplateRegions);return void 0!==a.x?(i.x=o.formatPixel(a.x.template),this.canvasState.alignment.x=a.x.alignment):(i.x=o.formatPixel(t),this.canvasState.alignment.x=void 0),void(void 0!==a.y?(i.y=o.formatPixel(a.y.template),this.canvasState.alignment.y=a.y.alignment):(i.y=o.formatPixel(n),this.canvasState.alignment.y=void 0))}l.resizeTemplate(i,t,n,this.draggingSelectionWidth,this.draggingSelectionHeight,this.draggingSelectionKind)}}else if("content"===this.canvasState.styleGuide.selection.kind){if("flex"===this.canvasState.styleGuide.selection.template.display||!this.draggingSelectionKind)return;var r=this.canvasState.styleGuide.selection.content,s=this.mouseupMappedX-this.mousedownMappedX,p=this.mouseupMappedY-this.mousedownMappedY,d=o.rotatePositionByCenter({x:s,y:p},{x:0,y:0},this.draggingSelectionRotate);if(t=d.x+this.draggingSelectionOffsetX,n=d.y+this.draggingSelectionOffsetY,"move"===this.draggingSelectionKind)return r.x=o.formatPixel(t),void(r.y=o.formatPixel(n));if("grabbing"===this.draggingSelectionKind&&"reference"!==r.kind){var u=l.rotateContent(this.mouseupMappedX-this.draggingSelectionOffsetX,this.mouseupMappedY-this.draggingSelectionOffsetY);return void(void 0!==u&&(r.rotate=u-this.draggingSelectionRotate))}l.resizeContent(r,t,n,this.draggingSelectionX,this.draggingSelectionY,this.draggingSelectionWidth,this.draggingSelectionHeight,this.draggingSelectionKind)}},mouseup:function(e){if(this.canvasState.alignment.x=void 0,this.canvasState.alignment.y=void 0,this.mouseIsDown){if(this.mouseIsDown=!1,this.canvasState.mask.mouseupX=e.offsetX,this.canvasState.mask.mouseupY=e.offsetY,this.canvasState.styleGuide.hasRelationWithSelection){var t=(this.canvasState.viewport.translateX-this.canvasState.styleGuide.width/2)*this.canvasState.viewport.scale+this.canvasState.styleGuide.width/2,n=(this.canvasState.viewport.translateY-this.canvasState.styleGuide.height/2)*this.canvasState.viewport.scale+this.canvasState.styleGuide.height/2;if(this.canvasState.styleGuide.hasRelationWithSelection=!1,this.canvasState.viewport.translateX=(t-this.canvasState.styleGuide.width/2)/this.canvasState.viewport.scale+this.canvasState.styleGuide.width/2,this.canvasState.viewport.translateY=(n-this.canvasState.styleGuide.height/2)/this.canvasState.viewport.scale+this.canvasState.styleGuide.height/2,this.canvasState.mask.mousePressing=!1,this.canvasState.mask.moved)return}var i=this.mouseupMappedX,a=this.mouseupMappedY;if(this.canvasState.isDraggingForSelection){var s=r.selectTemplateByArea(this.canvasState,{x:i,y:a},{x:this.mousedownMappedX,y:this.mousedownMappedY});this.canvasState.styleGuide.selection=s?{kind:"template",template:s}:{kind:"none"}}else{var o=r.selectContentOrTemplateByPosition(this.canvasState,{x:i,y:a});o?"content"===o.kind?this.canvasState.styleGuide.selection={kind:"content",content:o.region.content,template:o.region.template}:"template"===o.kind&&(this.canvasState.styleGuide.selection={kind:"template",template:o.region.template}):this.canvasState.styleGuide.selection={kind:"none"}}this.canvasState.mask.mousePressing=!1}},contextmenu:function(e){this.canvasState.mask.mousePressing=!1,this.canvasState.contextMenu.open(e)},keydown:function(e){if(e.ctrlKey||e.metaKey)if("c"===e.key)"none"!==this.canvasState.styleGuide.selection.kind&&(this.clipboard=this.canvasState.styleGuide.selection);else if("v"===e.key){if("template"===this.clipboard.kind)if(this.canvasState.styleGuide.action(),"template"===this.canvasState.styleGuide.selection.kind){if(this.clipboard.template!==this.canvasState.styleGuide.selection.template){var t={kind:"reference",id:this.clipboard.template.id,x:0,y:0};this.canvasState.styleGuide.selection.template.contents.push(t),this.canvasState.styleGuide.selection={kind:"content",content:t,template:this.canvasState.styleGuide.selection.template}}}else if("none"===this.canvasState.styleGuide.selection.kind){var n=JSON.parse(JSON.stringify(this.clipboard.template));n.id=Math.random().toString(),n.x=0,n.y=0,this.canvasState.styleGuide.data.templates.push(n),this.canvasState.styleGuide.selection={kind:"template",template:n}}}else"z"===e.key&&this.canvasState.styleGuide.undo()}}}),t.createMask=function(){return{mousedownX:0,mousedownY:0,mouseupX:0,mouseupY:0,mousePressing:!1,x:0,y:0,get moved(){return!a.equal(this.mouseupX,this.mousedownX)||!a.equal(this.mouseupY,this.mousedownY)}}}},7014:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OperationPanel=void 0;var i=n(655),a=n(9812),r=n(8442),s=n(5449),o=n(3958),l=n(7056),p=n(7523),c=n(8593),d=n(464);function u(e,t){return{type:"Property",key:{type:"Identifier",name:e,range:[0,0]},value:t,shorthand:!1,range:[0,0]}}function h(e){return function(t){return"Property"===t.type&&("StringLiteral"===t.key.type&&t.key.value===e||"Identifier"===t.key.type&&t.key.name===e)}}t.OperationPanel=a.defineComponent({render:s.templateEditorOperationPanelTemplateHtml,props:{canvasState:{type:Object,required:!0}},data:function(){return{imageUrl:"",recommandResults:[],selectedVariables:[]}},components:{"expression-input":l.ExpressionInput},computed:{panelStyle:function(){return{height:this.canvasState.viewport.height+"px",overflow:"auto"}},repeat:function(){return"content"===this.canvasState.styleGuide.selection.kind&&"snapshot"!==this.canvasState.styleGuide.selection.content.kind&&this.canvasState.styleGuide.selection.content.repeat?p.analyseRepeat(this.canvasState.styleGuide.selection.content.repeat):{expression:""}},parameters:function(){if("content"===this.canvasState.styleGuide.selection.kind&&"reference"===this.canvasState.styleGuide.selection.content.kind){var e=this.canvasState.styleGuide.selection.content.id,t=this.canvasState.styleGuide.data.templates.find((function(t){return t.id===e}));if(t)return t.parameters}},propsAst:function(){if("content"===this.canvasState.styleGuide.selection.kind&&"reference"===this.canvasState.styleGuide.selection.content.kind){var e=this.canvasState.styleGuide.selection.content.props;if(e)try{var t=r.parseExpression(r.tokenizeExpression(e));if("ObjectExpression"===t.type)return t}catch(e){}}}},methods:{showImageViewer:function(){this.canvasState.showImageViewer=!this.canvasState.showImageViewer},changeName:function(e){"template"===this.canvasState.styleGuide.selection.kind&&(this.canvasState.styleGuide.selection.template.name=e.target.value||void 0)},changePosition:function(e,t){if("template"===this.canvasState.styleGuide.selection.kind){var n=+e.target.value;n="z"===t?Math.round(n):c.formatPixel(n),this.canvasState.styleGuide.selection.template[t]=n}},changePositionExpression:function(e,t){if("content"===this.canvasState.styleGuide.selection.kind){if(void 0!==e.literal&&("flex"!==this.canvasState.styleGuide.selection.template.display||"z"===t)){var n=+e.literal;n="z"===t?Math.round(n):c.formatPixel(n),this.canvasState.styleGuide.selection.content[t]=n}this.canvasState.styleGuide.selection.content[t+"Expression"]=e.expression,this.canvasState.styleGuide.selection.content[t+"ExpressionId"]=e.expressionId}},changeSizeExpression:function(e,t){"content"!==this.canvasState.styleGuide.selection.kind||"image"!==this.canvasState.styleGuide.selection.content.kind&&"text"!==this.canvasState.styleGuide.selection.content.kind&&"color"!==this.canvasState.styleGuide.selection.content.kind?"template"===this.canvasState.styleGuide.selection.kind&&(void 0!==e.literal&&(this.canvasState.styleGuide.selection.template[t]=c.formatPixel(+e.literal)),this.canvasState.styleGuide.selection.template[t+"Expression"]=e.expression,this.canvasState.styleGuide.selection.template[t+"ExpressionId"]=e.expressionId):(void 0!==e.literal&&(this.canvasState.styleGuide.selection.content[t]=c.formatPixel(+e.literal)),this.canvasState.styleGuide.selection.content[t+"Expression"]=e.expression,this.canvasState.styleGuide.selection.content[t+"ExpressionId"]=e.expressionId)},changeRotateExpression:function(e){"content"===this.canvasState.styleGuide.selection.kind&&"reference"!==this.canvasState.styleGuide.selection.content.kind&&"snapshot"!==this.canvasState.styleGuide.selection.content.kind&&(void 0!==e.literal&&(this.canvasState.styleGuide.selection.content.rotate=c.formatPixel(+e.literal)),this.canvasState.styleGuide.selection.content.rotateExpression=e.expression,this.canvasState.styleGuide.selection.content.rotateExpressionId=e.expressionId)},changeHidden:function(e){"content"===this.canvasState.styleGuide.selection.kind&&(this.canvasState.styleGuide.selection.content.hidden=e.target.checked)},changeOpacity:function(e){"content"===this.canvasState.styleGuide.selection.kind&&"image"===this.canvasState.styleGuide.selection.content.kind&&(this.canvasState.styleGuide.selection.content.opacity=+e.target.value)},changeBlendMode:function(e){"content"===this.canvasState.styleGuide.selection.kind&&"image"===this.canvasState.styleGuide.selection.content.kind&&(this.canvasState.styleGuide.selection.content.blendMode=e.target.value)},changeIf:function(e){"content"===this.canvasState.styleGuide.selection.kind&&"snapshot"!==this.canvasState.styleGuide.selection.content.kind&&(this.canvasState.styleGuide.selection.content.if=e.expression,this.canvasState.styleGuide.selection.content.ifId=e.expressionId)},changeElse:function(e){"content"===this.canvasState.styleGuide.selection.kind&&"snapshot"!==this.canvasState.styleGuide.selection.content.kind&&(this.canvasState.styleGuide.selection.content.else="true"===e.target.value||void 0)},changeRepeatExpression:function(e){if("content"===this.canvasState.styleGuide.selection.kind&&"snapshot"!==this.canvasState.styleGuide.selection.content.kind){var t=p.composeRepeat(i.__assign(i.__assign({},this.repeat),{expression:e.expression}));this.canvasState.styleGuide.selection.content.repeat=t,this.canvasState.styleGuide.selection.content.repeatId=e.expressionId}},changeRepeatItemName:function(e){if("content"===this.canvasState.styleGuide.selection.kind&&"snapshot"!==this.canvasState.styleGuide.selection.content.kind){var t=p.composeRepeat(i.__assign(i.__assign({},this.repeat),{itemName:e.target.value}));this.canvasState.styleGuide.selection.content.repeat=t}},changeRepeatIndexName:function(e){if("content"===this.canvasState.styleGuide.selection.kind&&"snapshot"!==this.canvasState.styleGuide.selection.content.kind){var t=p.composeRepeat(i.__assign(i.__assign({},this.repeat),{indexName:e.target.value}));this.canvasState.styleGuide.selection.content.repeat=t}},changeTextExpression:function(e){"content"===this.canvasState.styleGuide.selection.kind&&"text"===this.canvasState.styleGuide.selection.content.kind&&(void 0!==e.literal&&(this.canvasState.styleGuide.selection.content.text=e.literal),this.canvasState.styleGuide.selection.content.textExpression=e.expression,this.canvasState.styleGuide.selection.content.textExpressionId=e.expressionId)},changeFontFamily:function(e){"content"===this.canvasState.styleGuide.selection.kind&&"text"===this.canvasState.styleGuide.selection.content.kind&&(this.canvasState.styleGuide.selection.content.fontFamily=e.target.value)},changeFontSizeExpression:function(e){"content"===this.canvasState.styleGuide.selection.kind&&"text"===this.canvasState.styleGuide.selection.content.kind&&(void 0!==e.literal&&(this.canvasState.styleGuide.selection.content.fontSize=c.formatPixel(+e.literal)),this.canvasState.styleGuide.selection.content.fontSizeExpression=e.expression,this.canvasState.styleGuide.selection.content.fontSizeExpressionId=e.expressionId)},changeColorExpression:function(e){"content"!==this.canvasState.styleGuide.selection.kind||"text"!==this.canvasState.styleGuide.selection.content.kind&&"color"!==this.canvasState.styleGuide.selection.content.kind||(void 0!==e.literal&&(this.canvasState.styleGuide.selection.content.color=e.literal),this.canvasState.styleGuide.selection.content.colorExpression=e.expression,this.canvasState.styleGuide.selection.content.colorExpressionId=e.expressionId)},changeImageUrlExpression:function(e){"content"===this.canvasState.styleGuide.selection.kind&&"image"===this.canvasState.styleGuide.selection.content.kind&&(void 0!==e.literal&&(this.canvasState.styleGuide.selection.content.url=e.literal),this.canvasState.styleGuide.selection.content.urlExpression=e.expression,this.canvasState.styleGuide.selection.content.urlExpressionId=e.expressionId)},debug:function(){console.info(this.canvasState),"none"!==this.canvasState.styleGuide.selection.kind&&console.info(this.canvasState.styleGuide.selection)},addTemplate:function(){this.canvasState.addKind="template"},addImage:function(){this.canvasState.addKind="image"},addText:function(){this.canvasState.addKind="text"},addColor:function(){this.canvasState.addKind="color"},changeFlexDisplay:function(e){"template"===this.canvasState.styleGuide.selection.kind&&(""===e&&(e=void 0),this.canvasState.styleGuide.selection.template.display=e)},changeFlexDirection:function(e){"template"===this.canvasState.styleGuide.selection.kind&&(this.canvasState.styleGuide.selection.template.flexDirection=e)},changeFlexJustifyContent:function(e){"template"===this.canvasState.styleGuide.selection.kind&&(this.canvasState.styleGuide.selection.template.justifyContent=e)},changeFlexAlignItems:function(e){"template"===this.canvasState.styleGuide.selection.kind&&(this.canvasState.styleGuide.selection.template.alignItems=e)},extractAsComponent:function(){if("content"===this.canvasState.styleGuide.selection.kind&&("text"===this.canvasState.styleGuide.selection.content.kind||"image"===this.canvasState.styleGuide.selection.content.kind||"color"===this.canvasState.styleGuide.selection.content.kind)){var e=Math.random().toString(),t=this.canvasState.styleGuide.selection.content,n={id:e,contents:[i.__assign(i.__assign({},t),{x:0,y:0})],x:0,y:0,width:t.width,height:t.height};this.canvasState.styleGuide.data.templates.push(n);var a=this.canvasState.styleGuide.selection.template.contents.findIndex((function(e){return e===t}));a>=0&&(this.canvasState.styleGuide.selection.template.contents[a]={kind:"reference",id:e,x:t.x,y:t.y}),this.canvasState.styleGuide.selection={kind:"template",template:n}}},renderToImage:function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t;return i.__generator(this,(function(n){switch(n.label){case 0:return"template"!==this.canvasState.styleGuide.selection.kind?[3,2]:[4,o.loadTemplateImages(this.canvasState.styleGuide.selection.template,this.canvasState.styleGuide.data)];case 1:e=n.sent(),t=o.renderTemplate(this.canvasState.styleGuide.selection.template,this.canvasState.styleGuide.data,e),this.imageUrl=t,n.label=2;case 2:return[2]}}))}))},changeParameter:function(e,t){"template"===this.canvasState.styleGuide.selection.kind&&this.canvasState.styleGuide.selection.template.parameters&&(e.target.value?this.canvasState.styleGuide.selection.template.parameters[t]=e.target.value:(this.canvasState.styleGuide.selection.template.parameters.splice(t,1),0===this.canvasState.styleGuide.selection.template.parameters.length&&(this.canvasState.styleGuide.selection.template.parameters=void 0)))},addParameter:function(){"template"===this.canvasState.styleGuide.selection.kind&&(this.canvasState.styleGuide.selection.template.parameters?this.canvasState.styleGuide.selection.template.parameters.push(""):this.canvasState.styleGuide.selection.template.parameters=[""])},getParameterValue:function(e){if(this.propsAst){var t=h(e),n=this.propsAst.properties.find(t);if(n&&"Property"===n.type)return r.printExpression(n.value)}return""},getParameterExpressionId:function(e){if("content"===this.canvasState.styleGuide.selection.kind&&"reference"===this.canvasState.styleGuide.selection.content.kind&&this.canvasState.styleGuide.selection.content.propsIds)return this.canvasState.styleGuide.selection.content.propsIds[e]},changeParameterValue:function(e,t){var n;if("content"===this.canvasState.styleGuide.selection.kind&&"reference"===this.canvasState.styleGuide.selection.content.kind){var a=e.expression,s=void 0;if(a)try{s=r.parseExpression(r.tokenizeExpression(a))}catch(e){}if(this.propsAst){var o=h(t),l=this.propsAst.properties.findIndex(o);if(l>=0){var p=this.propsAst.properties[l];s&&"Property"===p.type?p.value=s:this.propsAst.properties.splice(l,1);var c=r.printExpression(this.propsAst);this.canvasState.styleGuide.selection.content.props="{}"===c?void 0:c}else s&&(this.propsAst.properties.push(u(t,s)),c=r.printExpression(this.propsAst),this.canvasState.styleGuide.selection.content.props="{}"===c?void 0:c)}else s?(c=r.printExpression({type:"ObjectExpression",properties:[u(t,s)],range:[0,0]}),this.canvasState.styleGuide.selection.content.props="{}"===c?void 0:c):this.canvasState.styleGuide.selection.content.props=void 0;var d=i.__assign(i.__assign({},this.canvasState.styleGuide.selection.content.propsIds),((n={})[t]=e.expressionId,n)),y={};for(var v in d){var m=d[v];void 0!==m&&(y[v]=m)}this.canvasState.styleGuide.selection.content.propsIds=Object.keys(y).length>0?y:void 0}},toggleCommonEditor:function(e){this.canvasState.commonEditorEditingFieldName=e,this.canvasState.commonEditorVisible=!this.canvasState.commonEditorVisible},recommand:function(){var e;return i.__awaiter(this,void 0,void 0,(function(){var t,n,a,r,s,l,p,c,u,h;return i.__generator(this,(function(y){switch(y.label){case 0:if(this.selectedVariables=[],!this.canvasState.styleGuide.data.variables||!this.canvasState.styleGuide.data.collections||"template"!==this.canvasState.styleGuide.selection.kind)return[3,8];t=d.recommand(null===(e=this.canvasState.styleGuide.data.variables)||void 0===e?void 0:e[0],this.canvasState.styleGuide.data.collections,this.canvasState.styleGuide.data.constrains),this.recommandResults=[],y.label=1;case 1:y.trys.push([1,6,7,8]),n=i.__values(t),a=n.next(),y.label=2;case 2:return a.done?[3,5]:(r=a.value,s=i.__assign(i.__assign({},this.canvasState.styleGuide.data),{variables:[r]}),[4,o.loadTemplateImages(this.canvasState.styleGuide.selection.template,s)]);case 3:l=y.sent(),p=o.renderTemplate(this.canvasState.styleGuide.selection.template,s,l),this.recommandResults.push({variables:r,preview:p}),y.label=4;case 4:return a=n.next(),[3,2];case 5:return[3,8];case 6:return c=y.sent(),u={error:c},[3,8];case 7:try{a&&!a.done&&(h=n.return)&&h.call(n)}finally{if(u)throw u.error}return[7];case 8:return[2]}}))}))},selectVariables:function(e){var t=this.selectedVariables.findIndex((function(t){return t===e}));t>=0?this.selectedVariables.splice(t,1):this.selectedVariables.push(e)},applyRecommandResult:function(){this.selectedVariables.length>0&&(this.canvasState.styleGuide.data.variables=i.__spreadArray([],i.__read(this.selectedVariables)))},getPreviewStyle:function(e){return{objectFit:"contain",width:"100%",cursor:"pointer",border:"1px solid "+(this.selectedVariables.includes(e)?"green":"#cccccc")}}}})},292:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderLayer=void 0;var i=n(9812),a=n(5449),r=n(2624),s=n(8593);t.RenderLayer=i.defineComponent({render:a.templateEditorRenderLayerTemplateHtml,props:{canvasState:{type:Object,required:!0}},components:{"template-renderer":r.TemplateRenderer},computed:{canvasStyle:function(){return{position:"absolute",width:this.canvasState.viewport.width+"px",height:this.canvasState.viewport.height+"px",overflow:"hidden",backgroundColor:"#ddd"}},styleGuideStyle:function(){return{transform:this.canvasState.viewport.transform,width:this.canvasState.styleGuide.width+"px",height:this.canvasState.styleGuide.height+"px"}}},methods:{getTemplateStyle:function(e){return{left:e.x+"px",top:e.y+"px",position:"absolute",zIndex:Math.round(e.z||0)}},getNameStyle:function(e){return{position:"absolute",top:"-"+s.nameSize+"px",lineHeight:s.nameSize+"px",fontSize:"12px",width:(e.name?e.name.length*s.nameSize:0)+"px",zIndex:Math.round(e.z||0),transform:"scale("+1/this.canvasState.viewport.scale+")",transformOrigin:"left bottom"}}}})},8045:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rotateContent=t.resizeContent=t.resizeTemplate=void 0;var i=n(5014),a=n(8593),r=n(8899);t.resizeTemplate=function(e,t,n,r,s,o){var l=t-e.x,p=n-e.y;o.includes("left")&&(i.decreaseTemplateSize(e,"width",l),e.x=a.formatPixel(t)),o.includes("right")&&(e.width=a.formatPixel(r+l)),o.includes("top")&&(i.decreaseTemplateSize(e,"height",p),e.y=a.formatPixel(n)),o.includes("bottom")&&(e.height=a.formatPixel(s+p))},t.resizeContent=function(e,t,n,r,s,o,l,p){var c="reference"!==e.kind&&e.rotate?a.rotatePositionByCenter({x:t,y:n},{x:r,y:s},e.rotate):{x:t,y:n},d=c.x-r,u=c.y-s,h=r,y=s,v=o,m=l;if(p.includes("left"))if(v-=d,"reference"!==e.kind&&e.rotate){var g=e.rotate*Math.PI/180,f=(v-o)/2;h-=(Math.cos(g)+1)*f,y-=Math.sin(g)*f}else h=t;if(p.includes("right")&&(v+=d,"reference"!==e.kind&&e.rotate)&&(g=e.rotate*Math.PI/180,f=(v-o)/2,h+=(Math.cos(g)-1)*f,y+=Math.sin(g)*f),p.includes("top"))if(m-=u,"reference"!==e.kind&&e.rotate){g=e.rotate*Math.PI/180;var x=(m-l)/2;h+=Math.sin(g)*x,y-=(Math.cos(g)+1)*x}else y=n;p.includes("bottom")&&(m+=u,"reference"!==e.kind&&e.rotate)&&(g=e.rotate*Math.PI/180,x=(m-l)/2,h-=Math.sin(g)*x,y+=(Math.cos(g)-1)*x),e.x=a.formatPixel(h),e.y=a.formatPixel(y),i.setContentSize(e,"width",v),i.setContentSize(e,"height",m)},t.rotateContent=function(e,t){return e>0?a.formatPixel(Math.atan(t/e)/Math.PI*180+90):r.equal(e,0)?t>0?180:t<0?0:void 0:a.formatPixel(Math.atan(t/e)/Math.PI*180-90)}},5731:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionLayer=void 0;var i=n(655),a=n(9812),r=n(5449),s=n(5014);t.SelectionLayer=a.defineComponent({render:r.templateEditorSelectionLayerTemplateHtml,props:{canvasState:{type:Object,required:!0}},computed:{selectionRegions:function(){return"template"===this.canvasState.styleGuide.selection.kind?this.canvasState.styleGuide.allTemplateRegions:"content"===this.canvasState.styleGuide.selection.kind?this.canvasState.styleGuide.allContentRegions:[]},canResizeRegions:function(){return"template"===this.canvasState.styleGuide.selection.kind?this.canvasState.styleGuide.allTemplateRegions.filter((function(e){return!e.parent})):"content"===this.canvasState.styleGuide.selection.kind?this.canvasState.styleGuide.allContentRegions.filter((function(e){return"reference"!==e.content.kind})):[]},canRotateRegion:function(){if("content"===this.canvasState.styleGuide.selection.kind)return this.canvasState.styleGuide.allContentRegions.find((function(e){return"reference"!==e.content.kind}))},canvasStyle:function(){return{position:"absolute",width:this.canvasState.viewport.width+"px",height:this.canvasState.viewport.height+"px",overflow:"hidden"}},styleGuideStyle:function(){return{transform:this.canvasState.viewport.transform,width:this.canvasState.styleGuide.width+"px",height:this.canvasState.styleGuide.height+"px"}},rotateAreaStyle:function(){if(this.canRotateRegion)return this.getResizeStyle(this.canRotateRegion)},rotateRegion:function(){if(this.rotateAreaStyle){var e=s.rotateStickLength/this.canvasState.viewport.scale,t=1/this.canvasState.viewport.scale;return{left:"calc(50% - "+t/2+"px)",top:-e+"px",width:Math.max(t,1)+"px",height:e+"px",position:"absolute",backgroundColor:"green"}}},rotateCircleRegion:function(){if(this.rotateAreaStyle){var e=s.rotateStickLength/this.canvasState.viewport.scale,t=1/this.canvasState.viewport.scale,n=s.rotateCircleSize/this.canvasState.viewport.scale;return{left:"calc(50% - "+(t/2+n/2)+"px)",top:-e-n+"px",width:n+"px",height:n+"px",position:"absolute",border:Math.max(t,1)+"px solid green",backgroundColor:"white",borderRadius:n/2+"px"}}},resizeRegions:function(){var e=s.resizeSize/this.canvasState.viewport.scale,t=1/this.canvasState.viewport.scale,n=e/2,a=e/2-t,r={width:e+"px",height:e+"px",border:t+"px solid green",position:"absolute",backgroundColor:"white"};return[i.__assign({left:-n+"px",top:-n+"px"},r),i.__assign({left:-n+"px",bottom:-a+"px"},r),i.__assign({right:-a+"px",top:-n+"px"},r),i.__assign({right:-a+"px",bottom:-a+"px"},r),i.__assign({left:-n+"px",top:"calc(50% - "+n+"px)"},r),i.__assign({left:"calc(50% - "+n+"px)",top:-n+"px"},r),i.__assign({left:"calc(50% - "+n+"px)",bottom:-a+"px"},r),i.__assign({top:"calc(50% - "+n+"px)",right:-a+"px"},r)]}},methods:{getSelectionAreaStyle:function(e){return i.__assign(i.__assign({},this.getResizeStyle(e)),{border:1/this.canvasState.viewport.scale+"px solid green"})},getResizeStyle:function(e){return{left:e.x+"px",top:e.y+"px",width:e.width+"px",height:e.height+"px",transform:e.rotate?"rotate("+e.rotate+"deg)":void 0,position:"absolute"}}}})},7971:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sortByZ=t.createStyleGuide=void 0;var i=n(655),a=n(8593);function r(e){return e.map((function(e,t){return{target:e,index:t}})).sort((function(e,t){return e.target.z!==t.target.z?t.target.z-e.target.z:t.index-e.index})).map((function(e){return e.target}))}t.createStyleGuide=function(e){return{data:e,get x(){return Math.min.apply(Math,i.__spreadArray([],i.__read(this.data.templates.map((function(e){return e.x})))))},get y(){return Math.min.apply(Math,i.__spreadArray([],i.__read(this.data.templates.map((function(e){return e.y})))))},hasRelationWithSelection:!1,_width:0,get width(){if(this.hasRelationWithSelection)return this._width;var e=Math.max.apply(Math,i.__spreadArray([],i.__read(this.data.templates.map((function(e){return e.x+e.width}))))),t=Math.max(e-this.x,10);return this._width=t,t},_height:0,get height(){if(this.hasRelationWithSelection)return this._height;var e=Math.max.apply(Math,i.__spreadArray([],i.__read(this.data.templates.map((function(e){return e.y+e.height}))))),t=Math.max(e-this.y,10);return this._height=t,t},history:[],action:function(){this.history.push(JSON.parse(JSON.stringify(this.data))),this.history.length>10&&this.history.splice(0,this.history.length-10)},undo:function(){var e=this.history.pop();e&&(this.data=e)},selection:{kind:"none"},get allTemplateRegions(){return"template"===this.selection.kind?Array.from(a.iterateAllTemplateRegions(this.selection.template,this.data)):[]},get allContentRegions(){return"content"===this.selection.kind?Array.from(a.iterateAllContentRegions(this.selection.content,this.data,this.selection.template)):[]},get targetTemplateRegions(){return r(Array.from(a.iterateAllTemplateRegions(void 0,this.data)))},get targetContentRegions(){return r(Array.from(a.iterateAllContentRegions(void 0,this.data)))}}},t.sortByZ=r},4734:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.operationPanelWidth=t.layerPanelWidth=t.TemplateEditor=void 0;var i=n(9812),a=n(5449),r=n(292),s=n(9219),o=n(3147),l=n(5731),p=n(6925),c=n(6987),d=n(9995),u=n(7014),h=n(6081),y=n(8618),v=n(2527);t.TemplateEditor=i.defineComponent({render:a.templateEditorTemplateEditorTemplateHtml,props:{canvasState:{type:Object,required:!0}},components:{"render-layer":r.RenderLayer,"dragging-for-selection-layer":s.DraggingForSelectionLayer,"alignment-layer":o.AlignmentLayer,"selection-layer":l.SelectionLayer,"hover-layer":p.HoverLayer,"mask-layer":c.MaskLayer,"context-menu":d.ContextMenu,"operation-panel":u.OperationPanel,"layer-panel":h.LayerPanel,"common-editor":y.CommonEditor,"image-viewer":v.ImageViewer},computed:{canvasStyle:function(){return{width:this.canvasState.viewport.width+"px",height:this.canvasState.viewport.height+"px",left:t.layerPanelWidth+"px",position:"absolute"}},layerPanelStyle:function(){return{width:t.layerPanelWidth+"px",left:0,position:"absolute"}},operationPanelStyle:function(){return{width:t.operationPanelWidth+"px",right:0,position:"absolute"}}}}),t.layerPanelWidth=200,t.operationPanelWidth=300},5014:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getContentDisplayName=t.getTemplateDisplayName=t.rotateCircleSize=t.rotateStickLength=t.resizeSize=t.decreaseTemplateSize=t.setContentSize=t.selectTemplateByArea=t.getPositionAndSelectionAreaRelation=t.selectTemplateRegionByPosition=t.iterateContentOrTemplateByPosition=t.selectContentOrTemplateByPosition=void 0;var i=n(655),a=n(8593);function r(e,t){var n,r,o,l,p,c,d,u,h,y,v,m,g,f,x,S,b;return i.__generator(this,(function(k){switch(k.label){case 0:k.trys.push([0,5,6,7]),n=i.__values(e.targetNameRegions),r=n.next(),k.label=1;case 1:return r.done?[3,4]:(o=r.value,a.isInRegion(t,o)?[4,{kind:"template",region:o}]:[3,3]);case 2:k.sent(),k.label=3;case 3:return r=n.next(),[3,1];case 4:return[3,7];case 5:return l=k.sent(),m={error:l},[3,7];case 6:try{r&&!r.done&&(g=n.return)&&g.call(n)}finally{if(m)throw m.error}return[7];case 7:k.trys.push([7,12,13,14]),p=i.__values(e.styleGuide.targetContentRegions),c=p.next(),k.label=8;case 8:return c.done?[3,11]:(y=c.value,a.isInRegion(t,y)?[4,{kind:"content",region:y}]:[3,10]);case 9:k.sent(),k.label=10;case 10:return c=p.next(),[3,8];case 11:return[3,14];case 12:return d=k.sent(),f={error:d},[3,14];case 13:try{c&&!c.done&&(x=p.return)&&x.call(p)}finally{if(f)throw f.error}return[7];case 14:k.trys.push([14,19,20,21]),u=i.__values(s(e,t)),h=u.next(),k.label=15;case 15:return h.done?[3,18]:[4,{kind:"template",region:y=h.value}];case 16:k.sent(),k.label=17;case 17:return h=u.next(),[3,15];case 18:return[3,21];case 19:return v=k.sent(),S={error:v},[3,21];case 20:try{h&&!h.done&&(b=u.return)&&b.call(u)}finally{if(S)throw S.error}return[7];case 21:return[2]}}))}function s(e,t){var n,r,s,o,l,p;return i.__generator(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,7]),n=i.__values(e.styleGuide.targetTemplateRegions),r=n.next(),c.label=1;case 1:return r.done?[3,4]:(s=r.value,a.isInRegion(t,s)?[4,s]:[3,3]);case 2:c.sent(),c.label=3;case 3:return r=n.next(),[3,1];case 4:return[3,7];case 5:return o=c.sent(),l={error:o},[3,7];case 6:try{r&&!r.done&&(p=n.return)&&p.call(n)}finally{if(l)throw l.error}return[7];case 7:return[2]}}))}function o(e,n,i){e=a.rotatePosition(e,n);var r=t.rotateCircleSize/i,s=t.rotateStickLength/i;return a.isInRegion(e,{x:n.x+n.width/2-r/2,y:n.y-s-r,width:r,height:r})}function l(e,n){if(n.rotate&&(e=a.rotatePosition(e,n)),Math.abs(e.x-n.x)<=t.resizeSize){if(e.y<n.y-t.resizeSize)return;return e.y<n.y+t.resizeSize?"left-top":e.y<n.y+n.height-t.resizeSize?"left":e.y<n.y+n.height+t.resizeSize?"left-bottom":void 0}if(Math.abs(e.x-n.x-n.width)<=t.resizeSize){if(e.y<n.y-t.resizeSize)return;return e.y<n.y+t.resizeSize?"right-top":e.y<n.y+n.height-t.resizeSize?"right":e.y<n.y+n.height+t.resizeSize?"right-bottom":void 0}return Math.abs(e.y-n.y)<=t.resizeSize?e.x>n.x+t.resizeSize&&e.x<n.x+n.width-t.resizeSize?"top":void 0:Math.abs(e.y-n.y-n.height)<=t.resizeSize&&e.x>n.x+t.resizeSize&&e.x<n.x+n.width-t.resizeSize?"bottom":void 0}t.selectContentOrTemplateByPosition=function(e,t){var n=r(e,t).next();return n.done?void 0:n.value},t.iterateContentOrTemplateByPosition=r,t.selectTemplateRegionByPosition=function(e,t){var n=s(e,t).next();return n.done?void 0:n.value},t.getPositionAndSelectionAreaRelation=function(e,t){var n,r,s,p,c,d;if("template"===e.styleGuide.selection.kind){try{for(var u=i.__values(e.allNameRegions),h=u.next();!h.done;h=u.next()){var y=h.value;if(a.isInRegion(t,y))return{kind:"move",offsetX:y.x,offsetY:y.y+a.nameSize/e.viewport.scale,rotate:0}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}try{for(var v=i.__values(e.styleGuide.allTemplateRegions),m=v.next();!m.done;m=v.next()){var g=m.value;if(!g.parent&&(w=l(t,g)))return{kind:w,offsetX:g.x,offsetY:g.y,rotate:0};if(a.isInRegion(t,g))return g.parent?{kind:"move",offsetX:g.parent.content.x,offsetY:g.parent.content.y,rotate:0,content:g.parent.content}:{kind:"move",offsetX:g.x,offsetY:g.y,rotate:0}}}catch(e){s={error:e}}finally{try{m&&!m.done&&(p=v.return)&&p.call(v)}finally{if(s)throw s.error}}}else if("content"===e.styleGuide.selection.kind){var f=e.styleGuide.selection.content;try{for(var x=i.__values(e.styleGuide.allContentRegions),S=x.next();!S.done;S=x.next()){var b=S.value,k=b.rotates.reduce((function(e,t){return e+t.rotate}),0);if("reference"!==b.content.kind){var w;if(o(t,b,e.viewport.scale))return{kind:"grab",offsetX:b.x+b.width/2,offsetY:b.y+b.height/2,rotate:k};if(w=l(t,b))return{kind:w,offsetX:f.x,offsetY:f.y,rotate:k}}if(a.isInRegion(t,b))return{kind:"move",offsetX:f.x,offsetY:f.y,rotate:k}}}catch(e){c={error:e}}finally{try{S&&!S.done&&(d=x.return)&&d.call(x)}finally{if(c)throw c.error}}}},t.selectTemplateByArea=function(e,t,n){var r,s,o,l={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),width:Math.abs(t.x-n.x),height:Math.abs(t.y-n.y)};try{for(var p=i.__values(e.styleGuide.targetTemplateRegions),c=p.next();!c.done;c=p.next()){var d=c.value,u=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y+d.height}];(!o||d.z>=o.z)&&a.isInRegion(u,l)&&(o=d)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(s=p.return)&&s.call(p)}finally{if(r)throw r.error}}return o?o.template:null},t.setContentSize=function(e,t,n){"snapshot"===e.kind?e.snapshot[t]=a.formatPixel(n):"reference"!==e.kind&&(e[t]=a.formatPixel(n))},t.decreaseTemplateSize=function(e,t,n){e[t]=a.formatPixel(e[t]-n)},t.resizeSize=5,t.rotateStickLength=40,t.rotateCircleSize=10,t.getTemplateDisplayName=function(e){return e.name||"template"},t.getContentDisplayName=function(e,t){if("text"===e.kind&&e.text)return e.text;if("color"===e.kind&&e.color)return e.color;if("reference"===e.kind){var n=t.templates.find((function(t){return t.id===e.id}));if(n&&n.name)return n.name}return"snapshot"===e.kind&&e.snapshot.name?e.snapshot.name:e.kind}},8777:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateModelEditor=void 0;var i=n(9812),a=n(8481),r=n(5449);t.TemplateModelEditor=i.defineComponent({render:r.templateModelEditorTemplateHtml,props:{appState:{type:Object,required:!0}},components:{"array-editor":a.ArrayEditor,"object-editor":a.ObjectEditor,"json-editor":a.JSONEditor},data:function(e){return{schema:{type:"object",properties:{categories:{type:"array",items:{type:"object",properties:{name:{type:"string"},id:{type:"string"},commodities:{type:"array",items:{type:"object",properties:{name:{type:"string"},id:{type:"string"},description:{type:"string"},image:{type:"string"},prices:{type:"array",items:{type:"string"}}},required:["id","name","prices","description","image"],collapsed:!0}}},required:["id","name","commodities"],collapsed:!0}}},required:["categories"]},editorStyle:{position:"absolute",right:"0px",left:"0px",top:"50px",backgroundColor:"white",zIndex:1,height:e.appState.canvasState.viewport.height+"px",overflow:"auto"}}},computed:{templateModel:function(){return JSON.stringify(this.appState.templateModel,null,2)}},methods:{updateValue:function(e){e.isValid&&(this.appState.templateModel=e.value)},changeTemplateModel:function(e){try{this.appState.templateModel=JSON.parse(e.target.value)}catch(e){}},addAsTestCase:function(){"template"===this.appState.canvasState.styleGuide.selection.kind&&(this.appState.canvasState.styleGuide.data.tests||(this.appState.canvasState.styleGuide.data.tests=[]),this.appState.canvasState.styleGuide.data.tests.push({templateId:this.appState.canvasState.styleGuide.selection.template.id,case:JSON.parse(JSON.stringify(this.appState.templateModel))}))}}})},8593:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getVariableObject=t.formatRadian=t.formatPixel=t.nameSize=t.iterateAllNameRegions=t.getPosition=t.rotatePositionByCenter=t.rotatePosition=t.isInRegion=t.iterateAllContentRegions=t.iterateAllTemplateRegions=void 0;var i=n(655),a=n(5812),r=n(1613);function s(e,t){return t.rotate?o(e,{x:t.x+t.width/2,y:t.y+t.height/2},t.rotate):e}function o(e,t,n){if(!n)return e;n=-n*Math.PI/180;var i=e.x-t.x,a=e.y-t.y,r=Math.sin(n),s=Math.cos(n);return{x:s*i-r*a+t.x,y:r*i+s*a+t.y}}function l(e,t,n,a,s,o,p){var d,u,h,y;return i.__generator(this,(function(v){switch(v.label){case 0:return t!==e&&void 0!==e?[3,2]:(d=r.evaluateSizeExpression("width",t,{props:o}),u=r.evaluateSizeExpression("height",t,{props:o}),[4,{x:n.x,y:n.y,z:n.z,width:d,height:u,parent:p,template:t,rotate:s}]);case 1:v.sent(),v.label=2;case 2:if(!e||t===e)return[3,6];h=function(s){var p,d,u,h,y,v;return i.__generator(this,(function(m){switch(m.label){case 0:return"reference"!==(p=t.contents[s]).kind?[3,2]:(d=a.templates.find((function(e){return e.id===p.id})))?(u=c(o,"x",p,t,a),h=c(o,"y",p,t,a),y=c(o,"z",p,t,a),v=r.evaluate(p.props,{props:o}),[5,i.__values(l(e,d,{x:u+n.x,y:h+n.y,z:y+n.z},a,p.rotate||0,v,{content:p,template:t,index:s}))]):[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}}))},y=0,v.label=3;case 3:return y<t.contents.length?[5,h(y)]:[3,6];case 4:v.sent(),v.label=5;case 5:return y++,[3,3];case 6:return[2]}}))}function p(e,t,n,s,l,u,h){var y,v,m,g,f,x,S,b,k,w,_,E,G,C,I,N;return i.__generator(this,(function(z){switch(z.label){case 0:y=0,z.label=1;case 1:if(!(y<t.contents.length))return[3,6];if((v=t.contents[y])!==e&&void 0!==e)return[3,3];if(m=c(h,"x",v,t,l),g=c(h,"y",v,t,l),f=c(h,"z",v,t,l),x="reference"===v.kind?r.evaluate(v.props,{props:h}):void 0,S=a.getContentSize(v,l),b=x?r.evaluateSizeExpression("width",S,{props:x}):S.width,k=x?r.evaluateSizeExpression("height",S,{props:x}):S.height,w=r.evaluateRotateExpression(v,{props:h}),_=s.x+m,E=s.y+g,u.length>0){for(w+=u.reduce((function(e,t){return e+t.rotate}),0),G={x:_+b/2,y:E+k/2},C=u.length-1;C>=0;C--)I=u[C],G=o(G,I,-I.rotate);_=G.x-b/2,E=G.y-k/2}return[4,{x:d(_),y:d(E),z:s.z+f,rotate:w||void 0,width:b,height:k,index:y,contents:t.contents,content:v,parent:t,template:n,rotates:u}];case 2:z.sent(),z.label=3;case 3:return"snapshot"!==v.kind?[3,5]:(N=i.__spreadArray(i.__spreadArray([],i.__read(u)),[{rotate:v.rotate||0,x:s.x+v.x+v.snapshot.width/2,y:s.y+v.y+v.snapshot.height/2}]),[5,i.__values(p(e,v.snapshot,n,{x:s.x+v.x,y:s.y+v.y,z:s.z+(v.z||0)},l,N,void 0))]);case 4:z.sent(),z.label=5;case 5:return y++,[3,1];case 6:return[2]}}))}function c(e,t,n,i,s){return"z"!==t&&i&&"flex"===i.display?a.getFlexPosition(n,t,i,s):r.evaluatePositionExpression(t,n,{props:e})}function d(e){return Math.round(100*e)/100}t.iterateAllTemplateRegions=function(e,t){var n,a,r,s,o,p;return i.__generator(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,7]),n=i.__values(t.templates),a=n.next(),c.label=1;case 1:return a.done?[3,4]:(r=a.value,[5,i.__values(l(e,r,{x:r.x,y:r.y,z:r.z||0},t,0,void 0))]);case 2:c.sent(),c.label=3;case 3:return a=n.next(),[3,1];case 4:return[3,7];case 5:return s=c.sent(),o={error:s},[3,7];case 6:try{a&&!a.done&&(p=n.return)&&p.call(n)}finally{if(o)throw o.error}return[7];case 7:return[2]}}))},t.iterateAllContentRegions=function(e,t,n){var a,r,s,o,l,c;return i.__generator(this,(function(d){switch(d.label){case 0:return n?[5,i.__values(p(e,n,n,{x:n.x,y:n.y,z:n.z||0},t,[],void 0))]:[3,2];case 1:return d.sent(),[2];case 2:d.trys.push([2,7,8,9]),a=i.__values(t.templates),r=a.next(),d.label=3;case 3:return r.done?[3,6]:(s=r.value,[5,i.__values(p(e,s,s,{x:s.x,y:s.y,z:s.z||0},t,[],void 0))]);case 4:d.sent(),d.label=5;case 5:return r=a.next(),[3,3];case 6:return[3,9];case 7:return o=d.sent(),l={error:o},[3,9];case 8:try{r&&!r.done&&(c=a.return)&&c.call(a)}finally{if(l)throw l.error}return[7];case 9:return[2]}}))},t.isInRegion=function e(t,n){return Array.isArray(t)?t.every((function(t){return e(t,n)})):(t=s(t,n)).x>=n.x&&t.y>=n.y&&t.x<=n.x+n.width&&t.y<=n.y+n.height},t.rotatePosition=s,t.rotatePositionByCenter=o,t.getPosition=c,t.iterateAllNameRegions=function(e,n,a){var r,s,o,l,p,c,d;return i.__generator(this,(function(u){switch(u.label){case 0:r=t.nameSize/a,u.label=1;case 1:u.trys.push([1,6,7,8]),s=i.__values(n.templates),o=s.next(),u.label=2;case 2:return o.done?[3,5]:(l=o.value,void 0!==e&&e!==l||!l.name?[3,4]:[4,{x:l.x,y:l.y-r,z:l.z||0,width:r*l.name.length,height:r,template:l,parent:void 0}]);case 3:u.sent(),u.label=4;case 4:return o=s.next(),[3,2];case 5:return[3,8];case 6:return p=u.sent(),c={error:p},[3,8];case 7:try{o&&!o.done&&(d=s.return)&&d.call(s)}finally{if(c)throw c.error}return[7];case 8:return[2]}}))},t.nameSize=14,t.formatPixel=d,t.formatRadian=function(e){return Math.round(1e4*e)/1e4},t.getVariableObject=function(e){var t,n,a={};if(e)try{for(var r=i.__values(e),s=r.next();!s.done;s=r.next()){var o=s.value;a[o.name]=o.value}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return a}},5449:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.templateSchemaJson=t.templateModelEditorTemplateHtml=t.templateEditorTemplateEditorTemplateHtml=t.templateEditorSelectionLayerTemplateHtml=t.templateEditorRenderLayerTemplateHtml=t.templateEditorOperationPanelTemplateHtml=t.templateEditorMaskLayerTemplateHtml=t.templateEditorHoverLayerTemplateHtml=t.templateEditorExpressionEditorTemplateHtml=t.templateEditorDraggingForSelectionLayerTemplateHtml=t.templateEditorContextMenuTemplateHtml=t.templateEditorCommonEditorTemplateHtml=t.templateEditorAlignmentLayerTemplateHtml=t.styleguideSchemaJson=t.indexTemplateHtml=t.imageViewerRenderLayerTemplateHtml=t.imageViewerMaskLayerTemplateHtml=t.imageViewerImageViewerTemplateHtml=t.appPanelTemplateHtml=void 0;var i=n(655),a=n(9812);t.appPanelTemplateHtml=function(e,t){return a.openBlock(),a.createBlock("div",{style:{display:"flex","align-items":"center",height:"50px"}},[a.withDirectives(a.createVNode("input",{type:"text",style:{width:"80px"},"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.styleGuideKey=t})},null,512),[[a.vModelText,e.styleGuideKey]]),a.createVNode("button",{onClick:t[2]||(t[2]=function(t){return e.loadStyleGuide()})},"load style guide"),e.appState.debug?(a.openBlock(),a.createBlock("button",{key:0,onClick:t[3]||(t[3]=function(t){return e.saveStyleGuide()})},"save style guide")):a.createCommentVNode("v-if",!0),a.withDirectives(a.createVNode("input",{type:"text",style:{width:"120px"},"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.templateModelKey=t})},null,512),[[a.vModelText,e.templateModelKey]]),a.createVNode("button",{onClick:t[5]||(t[5]=function(t){return e.loadTemplateModel()})},"load template model"),e.appState.debug?(a.openBlock(),a.createBlock("button",{key:1,onClick:t[6]||(t[6]=function(t){return e.saveTemplateModel()})},"save template model")):a.createCommentVNode("v-if",!0),a.createVNode("button",{onClick:t[7]||(t[7]=function(t){return e.editTemplateModel()})},"edit template model"),a.createVNode("button",{onClick:t[8]||(t[8]=function(t){return e.precompile()})},"precompile"),a.createVNode("button",{onClick:t[9]||(t[9]=function(t){return e.generate()})},a.toDisplayString(e.appState.graphicCanvasState?"back to template":"generate graphic"),1),a.createVNode("button",{onClick:t[10]||(t[10]=function(t){return e.runTests(!1)})},"run tests"),a.createVNode("button",{onClick:t[11]||(t[11]=function(t){return e.runTests(!0)})},"update tests")])},t.imageViewerImageViewerTemplateHtml=function(e,t){var n=a.resolveComponent("render-layer"),i=a.resolveComponent("mask-layer");return e.imageWidth&&e.imageHeight?(a.openBlock(),a.createBlock("div",{key:0,style:e.canvasStyle},[a.createVNode(n,{viewport:e.viewport,width:e.imageWidth,height:e.imageHeight,url:e.url},null,8,["viewport","width","height","url"]),a.createVNode(i,{viewport:e.viewport,width:e.imageWidth,height:e.imageHeight},null,8,["viewport","width","height"])],4)):a.createCommentVNode("v-if",!0)},t.imageViewerMaskLayerTemplateHtml=function(e,t){return a.openBlock(),a.createBlock("div",{style:e.maskStyle,onWheel:t[1]||(t[1]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.wheel&&e.wheel.apply(e,i.__spreadArray([],i.__read(t)))}),tabindex:"0"},null,36)},t.imageViewerRenderLayerTemplateHtml=function(e,t){return a.openBlock(),a.createBlock("div",{style:e.canvasStyle},[a.createVNode("img",{style:e.imageStyle,src:e.url},null,12,["src"])],4)},t.indexTemplateHtml=function(e,t){var n=a.resolveComponent("app-panel"),i=a.resolveComponent("template-model-editor"),r=a.resolveComponent("template-editor");return a.openBlock(),a.createBlock("div",{style:{display:"flex","flex-direction":"column"}},[a.createVNode("div",{style:{height:"50px"}},[a.createVNode(n,{"app-state":e.appState},null,8,["app-state"]),a.createVNode(i,{"app-state":e.appState},null,8,["app-state"])]),e.appState.graphicCanvasState?(a.openBlock(),a.createBlock(r,{key:0,"canvas-state":e.appState.graphicCanvasState},null,8,["canvas-state"])):a.createCommentVNode("v-if",!0),a.withDirectives(a.createVNode(r,{"canvas-state":e.appState.canvasState},null,8,["canvas-state"]),[[a.vShow,!e.appState.graphicCanvasState]])])},t.styleguideSchemaJson={$ref:"#/definitions/StyleGuide",definitions:{StyleGuide:{type:"object",properties:{name:{type:"string"},templates:{type:"array",items:{$ref:"#/definitions/Template"}},variables:{type:"array",items:{type:"array",items:{$ref:"#/definitions/StyleGuideVariable"}}},collections:{type:"array",items:{$ref:"#/definitions/StyleGuideCollection"}},constrains:{type:"array",items:{type:"string"}},tests:{type:"array",items:{$ref:"#/definitions/GenerationTest"}}},required:["name","templates"],additionalProperties:!1},Template:{type:"object",properties:{id:{type:"string"},name:{type:"string"},contents:{type:"array",items:{$ref:"#/definitions/TemplateContent"}},parameters:{type:"array",items:{type:"string"}},x:{type:"number"},y:{type:"number"},z:{type:"integer"},width:{type:"number"},height:{type:"number"},widthExpression:{type:"string"},heightExpression:{type:"string"},widthExpressionId:{type:"string"},heightExpressionId:{type:"string"},display:{type:"string",const:"flex"},flexDirection:{type:"string",enum:["row","column"]},justifyContent:{type:"string",enum:["start","end","center","between"]},alignItems:{type:"string",enum:["start","end","center"]},marginLeft:{type:"number"},marginRight:{type:"number"},marginTop:{type:"number"},marginBottom:{type:"number"}},required:["id","contents","x","y","width","height"],additionalProperties:!1},TemplateContent:{anyOf:[{$ref:"#/definitions/TemplateTextContent"},{$ref:"#/definitions/TemplateImageContent"},{$ref:"#/definitions/TemplateColorContent"},{$ref:"#/definitions/TemplateReferenceContent"},{$ref:"#/definitions/TemplateSnapshotContent"}]},TemplateTextContent:{type:"object",properties:{kind:{type:"string",const:"text"},text:{type:"string"},textExpression:{type:"string"},textExpressionId:{type:"string"},fontFamily:{type:"string"},fontSize:{type:"number"},fontSizeExpression:{type:"string"},fontSizeExpressionId:{type:"string"},color:{type:"string"},colorExpression:{type:"string"},colorExpressionId:{type:"string"},characters:{type:"array",items:{$ref:"#/definitions/TextCharacter"}},x:{type:"number"},y:{type:"number"},z:{type:"integer"},width:{type:"number"},height:{type:"number"},xExpression:{type:"string"},yExpression:{type:"string"},zExpression:{type:"string"},xExpressionId:{type:"string"},yExpressionId:{type:"string"},zExpressionId:{type:"string"},widthExpression:{type:"string"},heightExpression:{type:"string"},widthExpressionId:{type:"string"},heightExpressionId:{type:"string"},if:{type:"string"},ifId:{type:"string"},else:{type:"boolean",default:!1},repeat:{type:"string"},repeatId:{type:"string"},hidden:{type:"boolean"},rotate:{type:"number",default:0},rotateExpression:{type:"string"},rotateExpressionId:{type:"string"}},required:["kind","text","fontFamily","fontSize","color","x","y","width","height"],additionalProperties:!1},TextCharacter:{type:"object",properties:{text:{type:"string"}},required:["text"],additionalProperties:!1},TemplateImageContent:{type:"object",properties:{kind:{type:"string",const:"image"},url:{type:"string"},urlExpression:{type:"string"},urlExpressionId:{type:"string"},opacity:{type:"number"},base64:{type:"string"},blendMode:{type:"string",const:"multiply"},x:{type:"number"},y:{type:"number"},z:{type:"integer"},width:{type:"number"},height:{type:"number"},xExpression:{type:"string"},yExpression:{type:"string"},zExpression:{type:"string"},xExpressionId:{type:"string"},yExpressionId:{type:"string"},zExpressionId:{type:"string"},widthExpression:{type:"string"},heightExpression:{type:"string"},widthExpressionId:{type:"string"},heightExpressionId:{type:"string"},if:{type:"string"},ifId:{type:"string"},else:{type:"boolean",default:!1},repeat:{type:"string"},repeatId:{type:"string"},hidden:{type:"boolean"},rotate:{type:"number",default:0},rotateExpression:{type:"string"},rotateExpressionId:{type:"string"}},required:["kind","url","x","y","width","height"],additionalProperties:!1},TemplateColorContent:{type:"object",properties:{kind:{type:"string",const:"color"},color:{type:"string"},colorExpression:{type:"string"},colorExpressionId:{type:"string"},x:{type:"number"},y:{type:"number"},z:{type:"integer"},width:{type:"number"},height:{type:"number"},xExpression:{type:"string"},yExpression:{type:"string"},zExpression:{type:"string"},xExpressionId:{type:"string"},yExpressionId:{type:"string"},zExpressionId:{type:"string"},widthExpression:{type:"string"},heightExpression:{type:"string"},widthExpressionId:{type:"string"},heightExpressionId:{type:"string"},if:{type:"string"},ifId:{type:"string"},else:{type:"boolean",default:!1},repeat:{type:"string"},repeatId:{type:"string"},hidden:{type:"boolean"},rotate:{type:"number",default:0},rotateExpression:{type:"string"},rotateExpressionId:{type:"string"}},required:["kind","color","x","y","width","height"],additionalProperties:!1},TemplateReferenceContent:{type:"object",properties:{kind:{type:"string",const:"reference"},id:{type:"string"},props:{type:"string"},propsIds:{type:"object",additionalProperties:{type:"string"}},x:{type:"number"},y:{type:"number"},z:{type:"integer"},xExpression:{type:"string"},yExpression:{type:"string"},zExpression:{type:"string"},xExpressionId:{type:"string"},yExpressionId:{type:"string"},zExpressionId:{type:"string"},if:{type:"string"},ifId:{type:"string"},else:{type:"boolean",default:!1},repeat:{type:"string"},repeatId:{type:"string"},hidden:{type:"boolean"},rotate:{type:"number",default:0}},required:["kind","id","x","y"],additionalProperties:!1},TemplateSnapshotContent:{type:"object",properties:{kind:{type:"string",const:"snapshot"},snapshot:{$ref:"#/definitions/Template"},x:{type:"number"},y:{type:"number"},z:{type:"integer"},xExpression:{type:"string"},yExpression:{type:"string"},zExpression:{type:"string"},xExpressionId:{type:"string"},yExpressionId:{type:"string"},zExpressionId:{type:"string"},hidden:{type:"boolean"},rotate:{type:"number",default:0}},required:["kind","snapshot","x","y"],additionalProperties:!1},StyleGuideVariable:{type:"object",properties:{kind:{type:"string"},name:{type:"string"},displayName:{type:"string"},value:{}},required:["name","value"],additionalProperties:!1},StyleGuideCollection:{$ref:"#/definitions/StyleGuideColor"},StyleGuideColor:{type:"object",properties:{kind:{type:"string",const:"color"},color:{type:"string"}},required:["kind","color"],additionalProperties:!1},GenerationTest:{type:"object",properties:{templateId:{type:"string"},case:{},result:{type:"array",items:{$ref:"#/definitions/Template"}}},required:["templateId","case"],additionalProperties:!1}}},t.templateEditorAlignmentLayerTemplateHtml=function(e,t){return a.openBlock(),a.createBlock("div",null,[a.createVNode("div",{style:e.xStyle},null,4),a.createVNode("div",{style:e.yStyle},null,4)])},t.templateEditorCommonEditorTemplateHtml=function(e,t){return e.canvasState.commonEditorVisible?(a.openBlock(),a.createBlock("div",{key:0,style:e.editorStyle},[a.createVNode("textarea",{value:e.value,style:{width:"calc(100% - 40px)",height:"400px","margin-left":"20px","margin-right":"20px"},onBlur:t[1]||(t[1]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.changeValue&&e.changeValue.apply(e,i.__spreadArray([],i.__read(t)))})},null,40,["value"])],4)):a.createCommentVNode("v-if",!0)},t.templateEditorContextMenuTemplateHtml=function(e,t){return e.canvasState.contextMenu.enabled?(a.openBlock(),a.createBlock("div",{key:0,onClick:t[2]||(t[2]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.close&&e.close.apply(e,i.__spreadArray([],i.__read(t)))})},[a.createVNode("div",{style:e.maskStyle},null,4),a.createVNode("div",{style:e.contextMenuStyle},[a.createVNode("button",{onClick:t[1]||(t[1]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.remove&&e.remove.apply(e,i.__spreadArray([],i.__read(t)))})},"remove"),(a.openBlock(!0),a.createBlock(a.Fragment,null,a.renderList(e.targets,(function(t){return a.openBlock(),a.createBlock("button",{onClick:function(n){return e.select(t)}},a.toDisplayString(e.getTargetDisplayName(t)),9,["onClick"])})),256))],4)])):a.createCommentVNode("v-if",!0)},t.templateEditorDraggingForSelectionLayerTemplateHtml=function(e,t){return e.canvasState.isDraggingForSelection?(a.openBlock(),a.createBlock("div",{key:0,style:e.draggingAreaStyle},null,4)):a.createCommentVNode("v-if",!0)},t.templateEditorExpressionEditorTemplateHtml=function(e,t){var n=a.resolveComponent("json-editor");return a.openBlock(),a.createBlock("div",{style:e.editorStyle},[a.createVNode(n,{schema:e.schema,"initial-value":e.ast,onUpdateValue:t[1]||(t[1]=function(t){return e.updateValue(t)})},null,8,["schema","initial-value"])],4)},t.templateEditorHoverLayerTemplateHtml=function(e,t){return a.openBlock(),a.createBlock("div",{style:e.canvasStyle},[a.createVNode("div",{style:e.styleGuideStyle},[e.hoverStyle?(a.openBlock(),a.createBlock("div",{key:0,style:e.hoverStyle},null,4)):a.createCommentVNode("v-if",!0)],4)],4)},t.templateEditorMaskLayerTemplateHtml=function(e,t){return a.openBlock(),a.createBlock("div",{style:e.maskStyle,onWheel:t[1]||(t[1]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.wheel&&e.wheel.apply(e,i.__spreadArray([],i.__read(t)))}),onMousedown:t[2]||(t[2]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.mousedown&&e.mousedown.apply(e,i.__spreadArray([],i.__read(t)))}),onMouseup:t[3]||(t[3]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.mouseup&&e.mouseup.apply(e,i.__spreadArray([],i.__read(t)))}),onMousemove:t[4]||(t[4]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.mousemove&&e.mousemove.apply(e,i.__spreadArray([],i.__read(t)))}),onContextmenu:t[5]||(t[5]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.contextmenu&&e.contextmenu.apply(e,i.__spreadArray([],i.__read(t)))}),onKeydown:t[6]||(t[6]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.keydown&&e.keydown.apply(e,i.__spreadArray([],i.__read(t)))}),tabindex:"0"},null,36)},t.templateEditorOperationPanelTemplateHtml=function(e,t){var n=a.resolveComponent("expression-input");return a.openBlock(),a.createBlock("div",{style:e.panelStyle},["content"===e.canvasState.styleGuide.selection.kind?(a.openBlock(),a.createBlock("div",{key:0},["text"===e.canvasState.styleGuide.selection.content.kind?(a.openBlock(),a.createBlock("div",{key:0},[a.createTextVNode(" text "),a.createVNode(n,{"canvas-state":e.canvasState,literal:e.canvasState.styleGuide.selection.content.text,"literal-type":"text",expression:e.canvasState.styleGuide.selection.content.textExpression,"expression-id":e.canvasState.styleGuide.selection.content.textExpressionId,onChange:e.changeTextExpression},null,8,["canvas-state","literal","expression","expression-id","onChange"]),a.createVNode("br"),a.createTextVNode(" font family "),a.createVNode("input",{type:"text",value:e.canvasState.styleGuide.selection.content.fontFamily,onChange:t[1]||(t[1]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.changeFontFamily&&e.changeFontFamily.apply(e,i.__spreadArray([],i.__read(t)))})},null,40,["value"]),a.createVNode("br"),a.createTextVNode(" font size "),a.createVNode(n,{"canvas-state":e.canvasState,literal:e.canvasState.styleGuide.selection.content.fontSize,"literal-type":"number",expression:e.canvasState.styleGuide.selection.content.fontSizeExpression,"expression-id":e.canvasState.styleGuide.selection.content.fontSizeExpressionId,onChange:e.changeFontSizeExpression},null,8,["canvas-state","literal","expression","expression-id","onChange"]),a.createVNode("br"),a.createTextVNode(" color "),a.createVNode(n,{"canvas-state":e.canvasState,literal:e.canvasState.styleGuide.selection.content.color,"literal-type":"color",expression:e.canvasState.styleGuide.selection.content.colorExpression,"expression-id":e.canvasState.styleGuide.selection.content.colorExpressionId,onChange:e.changeColorExpression},null,8,["canvas-state","literal","expression","expression-id","onChange"])])):a.createCommentVNode("v-if",!0),"image"===e.canvasState.styleGuide.selection.content.kind?(a.openBlock(),a.createBlock("div",{key:1},[a.createVNode("div",null,[a.createVNode("button",{onClick:t[2]||(t[2]=function(t){return e.showImageViewer()})},"show image viewer")]),a.createTextVNode(" url "),a.createVNode(n,{"canvas-state":e.canvasState,literal:e.canvasState.styleGuide.selection.content.url,"literal-type":"text",expression:e.canvasState.styleGuide.selection.content.urlExpression,"expression-id":e.canvasState.styleGuide.selection.content.urlExpressionId,onChange:e.changeImageUrlExpression},null,8,["canvas-state","literal","expression","expression-id","onChange"]),a.createVNode("div",null,[a.createTextVNode(" opacity "),a.createVNode("input",{type:"number",value:e.canvasState.styleGuide.selection.content.opacity,onChange:t[3]||(t[3]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.changeOpacity&&e.changeOpacity.apply(e,i.__spreadArray([],i.__read(t)))})},null,40,["value"])]),a.createVNode("div",null,[a.createTextVNode(" blend mode "),a.createVNode("select",{value:e.canvasState.styleGuide.selection.content.blendMode,onChange:t[4]||(t[4]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.changeBlendMode&&e.changeBlendMode.apply(e,i.__spreadArray([],i.__read(t)))})},[a.createVNode("option",{value:void 0}),a.createVNode("option",{value:"multiply"},"multiply")],40,["value"])])])):a.createCommentVNode("v-if",!0),"color"===e.canvasState.styleGuide.selection.content.kind?(a.openBlock(),a.createBlock("div",{key:2},[a.createTextVNode(" color "),a.createVNode(n,{"canvas-state":e.canvasState,literal:e.canvasState.styleGuide.selection.content.color,"literal-type":"color",expression:e.canvasState.styleGuide.selection.content.colorExpression,"expression-id":e.canvasState.styleGuide.selection.content.colorExpressionId,onChange:e.changeColorExpression},null,8,["canvas-state","literal","expression","expression-id","onChange"])])):a.createCommentVNode("v-if",!0),a.createVNode("div",null,[a.createTextVNode(" x "),a.createVNode(n,{"canvas-state":e.canvasState,literal:e.canvasState.styleGuide.selection.content.x,"literal-type":"number",expression:e.canvasState.styleGuide.selection.content.xExpression,"expression-id":e.canvasState.styleGuide.selection.content.xExpressionId,onChange:t[5]||(t[5]=function(t){return e.changePositionExpression(t,"x")})},null,8,["canvas-state","literal","expression","expression-id"])]),a.createVNode("div",null,[a.createTextVNode(" y "),a.createVNode(n,{"canvas-state":e.canvasState,literal:e.canvasState.styleGuide.selection.content.y,"literal-type":"number",expression:e.canvasState.styleGuide.selection.content.yExpression,"expression-id":e.canvasState.styleGuide.selection.content.yExpressionId,onChange:t[6]||(t[6]=function(t){return e.changePositionExpression(t,"y")})},null,8,["canvas-state","literal","expression","expression-id"])]),a.createVNode("div",null,[a.createTextVNode(" z "),a.createVNode(n,{"canvas-state":e.canvasState,literal:e.canvasState.styleGuide.selection.content.z,"literal-type":"number",expression:e.canvasState.styleGuide.selection.content.zExpression,"expression-id":e.canvasState.styleGuide.selection.content.zExpressionId,onChange:t[7]||(t[7]=function(t){return e.changePositionExpression(t,"z")})},null,8,["canvas-state","literal","expression","expression-id"])]),"text"===e.canvasState.styleGuide.selection.content.kind||"image"===e.canvasState.styleGuide.selection.content.kind||"color"===e.canvasState.styleGuide.selection.content.kind?(a.openBlock(),a.createBlock("div",{key:3},[a.createVNode("div",null,[a.createTextVNode(" width "),a.createVNode(n,{"canvas-state":e.canvasState,literal:e.canvasState.styleGuide.selection.content.width,"literal-type":"number",expression:e.canvasState.styleGuide.selection.content.widthExpression,"expression-id":e.canvasState.styleGuide.selection.content.widthExpressionId,onChange:t[8]||(t[8]=function(t){return e.changeSizeExpression(t,"width")})},null,8,["canvas-state","literal","expression","expression-id"])]),a.createVNode("div",null,[a.createTextVNode(" height "),a.createVNode(n,{"canvas-state":e.canvasState,literal:e.canvasState.styleGuide.selection.content.height,"literal-type":"number",expression:e.canvasState.styleGuide.selection.content.heightExpression,"expression-id":e.canvasState.styleGuide.selection.content.heihtExpressionId,onChange:t[9]||(t[9]=function(t){return e.changeSizeExpression(t,"height")})},null,8,["canvas-state","literal","expression","expression-id"])])])):a.createCommentVNode("v-if",!0),a.createVNode("div",null,[a.createTextVNode(" rotate "),a.createVNode(n,{"canvas-state":e.canvasState,literal:e.canvasState.styleGuide.selection.content.rotate,"literal-type":"number",expression:e.canvasState.styleGuide.selection.content.rotateExpression,"expression-id":e.canvasState.styleGuide.selection.content.rotateExpressionId,onChange:t[10]||(t[10]=function(t){return e.changeRotateExpression(t)})},null,8,["canvas-state","literal","expression","expression-id"])]),a.createVNode("div",null,[a.createTextVNode(" hidden "),a.createVNode("input",{type:"checkbox",checked:e.canvasState.styleGuide.selection.content.hidden,onChange:t[11]||(t[11]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.changeHidden&&e.changeHidden.apply(e,i.__spreadArray([],i.__read(t)))})},null,40,["checked"])]),a.createVNode("div",null,[a.createVNode("select",{value:e.canvasState.styleGuide.selection.content.else?"true":"false",onChange:t[12]||(t[12]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.changeElse&&e.changeElse.apply(e,i.__spreadArray([],i.__read(t)))})},[a.createVNode("option",{value:"false"},"if"),a.createVNode("option",{value:"true"},"else if")],40,["value"]),a.createVNode(n,{"canvas-state":e.canvasState,expression:e.canvasState.styleGuide.selection.content.if,"expression-id":e.canvasState.styleGuide.selection.content.ifId,onChange:e.changeIf},null,8,["canvas-state","expression","expression-id","onChange"])]),a.createVNode("div",null,[a.createTextVNode(" repeat "),a.createVNode(n,{"canvas-state":e.canvasState,expression:e.repeat.expression,"expression-id":e.canvasState.styleGuide.selection.content.repeatId,onChange:e.changeRepeatExpression},null,8,["canvas-state","expression","expression-id","onChange"]),a.createVNode("input",{type:"text",value:e.repeat.itemName,onChange:t[13]||(t[13]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.changeRepeatItemName&&e.changeRepeatItemName.apply(e,i.__spreadArray([],i.__read(t)))}),placeholder:"item name",style:{width:"150px","margin-left":"25px"}},null,40,["value"]),a.createVNode("input",{type:"text",value:e.repeat.indexName,onChange:t[14]||(t[14]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.changeRepeatIndexName&&e.changeRepeatIndexName.apply(e,i.__spreadArray([],i.__read(t)))}),placeholder:"index name",style:{width:"50px"}},null,40,["value"])]),"reference"===e.canvasState.styleGuide.selection.content.kind?(a.openBlock(),a.createBlock("div",{key:4},[a.createTextVNode(" props "),a.createVNode("span",{style:{opacity:"0.5"}},a.toDisplayString(e.canvasState.styleGuide.selection.content.props),1),e.parameters?(a.openBlock(),a.createBlock("div",{key:0,style:{"margin-left":"10px"}},[(a.openBlock(!0),a.createBlock(a.Fragment,null,a.renderList(e.parameters,(function(t){return a.openBlock(),a.createBlock("div",null,[a.createTextVNode(a.toDisplayString(t)+" ",1),a.createVNode(n,{"canvas-state":e.canvasState,expression:e.getParameterValue(t),"expression-id":e.getParameterExpressionId(t),onChange:function(n){return e.changeParameterValue(n,t)}},null,8,["canvas-state","expression","expression-id","onChange"])])})),256))])):a.createCommentVNode("v-if",!0)])):a.createCommentVNode("v-if",!0),"text"===e.canvasState.styleGuide.selection.content.kind||"image"===e.canvasState.styleGuide.selection.content.kind||"color"===e.canvasState.styleGuide.selection.content.kind?(a.openBlock(),a.createBlock("div",{key:5},[a.createVNode("button",{onClick:t[15]||(t[15]=function(t){return e.extractAsComponent()})},"extract as component")])):a.createCommentVNode("v-if",!0)])):a.createCommentVNode("v-if",!0),"template"===e.canvasState.styleGuide.selection.kind?(a.openBlock(),a.createBlock("div",{key:1},[a.createVNode("div",null,[a.createTextVNode(" name "),a.createVNode("input",{type:"text",value:e.canvasState.styleGuide.selection.template.name,onChange:t[16]||(t[16]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.changeName&&e.changeName.apply(e,i.__spreadArray([],i.__read(t)))})},null,40,["value"])]),a.createVNode("div",null,[a.createTextVNode(" x "),a.createVNode("input",{type:"number",value:e.canvasState.styleGuide.selection.template.x,onChange:t[17]||(t[17]=function(t){return e.changePosition(t,"x")})},null,40,["value"])]),a.createVNode("div",null,[a.createTextVNode(" y "),a.createVNode("input",{type:"number",value:e.canvasState.styleGuide.selection.template.y,onChange:t[18]||(t[18]=function(t){return e.changePosition(t,"y")})},null,40,["value"])]),a.createVNode("div",null,[a.createTextVNode(" z "),a.createVNode("input",{type:"number",value:e.canvasState.styleGuide.selection.template.z,onChange:t[19]||(t[19]=function(t){return e.changePosition(t,"z")})},null,40,["value"])]),a.createVNode("div",null,[a.createTextVNode(" width "),a.createVNode(n,{"canvas-state":e.canvasState,literal:e.canvasState.styleGuide.selection.template.width,"literal-type":"number",expression:e.canvasState.styleGuide.selection.template.widthExpression,"expression-id":e.canvasState.styleGuide.selection.template.widthExpressionId,onChange:t[20]||(t[20]=function(t){return e.changeSizeExpression(t,"width")})},null,8,["canvas-state","literal","expression","expression-id"])]),a.createVNode("div",null,[a.createTextVNode(" height "),a.createVNode(n,{"canvas-state":e.canvasState,literal:e.canvasState.styleGuide.selection.template.height,"literal-type":"number",expression:e.canvasState.styleGuide.selection.template.heightExpression,"expression-id":e.canvasState.styleGuide.selection.template.heightExpressionId,onChange:t[21]||(t[21]=function(t){return e.changeSizeExpression(t,"height")})},null,8,["canvas-state","literal","expression","expression-id"])]),a.createVNode("div",null,[a.createTextVNode(" display "),a.createVNode("select",{value:e.canvasState.styleGuide.selection.template.display,onChange:t[22]||(t[22]=function(t){return e.changeFlexDisplay(t.target.value)})},[a.createVNode("option",{value:void 0}),a.createVNode("option",{value:"flex"},"flex")],40,["value"])]),a.createVNode("div",null,[a.createTextVNode(" flex direction "),a.createVNode("select",{value:e.canvasState.styleGuide.selection.template.flexDirection,onChange:t[23]||(t[23]=function(t){return e.changeFlexDirection(t.target.value)})},[a.createVNode("option",{value:"row"},"row"),a.createVNode("option",{value:"column"},"column")],40,["value"])]),a.createVNode("div",null,[a.createTextVNode(" justify content "),a.createVNode("select",{value:e.canvasState.styleGuide.selection.template.justifyContent,onChange:t[24]||(t[24]=function(t){return e.changeFlexJustifyContent(t.target.value)})},[a.createVNode("option",{value:"start"},"start"),a.createVNode("option",{value:"end"},"end"),a.createVNode("option",{value:"center"},"center"),a.createVNode("option",{value:"between"},"between")],40,["value"])]),a.createVNode("div",null,[a.createTextVNode(" align items "),a.createVNode("select",{value:e.canvasState.styleGuide.selection.template.alignItems,onChange:t[25]||(t[25]=function(t){return e.changeFlexAlignItems(t.target.value)})},[a.createVNode("option",{value:"start"},"start"),a.createVNode("option",{value:"end"},"end"),a.createVNode("option",{value:"center"},"center")],40,["value"])]),a.createVNode("div",null,[a.createVNode("button",{onClick:t[26]||(t[26]=function(t){return e.renderToImage()})},"render to image"),e.imageUrl?(a.openBlock(),a.createBlock("img",{key:0,src:e.imageUrl,style:{"object-fit":"contain",width:"100%"}},null,8,["src"])):a.createCommentVNode("v-if",!0)]),a.createVNode("div",null,[(a.openBlock(!0),a.createBlock(a.Fragment,null,a.renderList(e.canvasState.styleGuide.selection.template.parameters||[],(function(t,n){return a.openBlock(),a.createBlock("div",null,[a.createTextVNode(" parameter "+a.toDisplayString(n)+" ",1),a.createVNode("input",{type:"text",value:t,onBlur:function(t){return e.changeParameter(t,n)}},null,40,["value","onBlur"])])})),256)),a.createVNode("button",{onClick:t[27]||(t[27]=function(t){return e.addParameter()})},"add parameter")])])):a.createCommentVNode("v-if",!0),a.createVNode("div",null,[a.createVNode("button",{onClick:t[28]||(t[28]=function(t){return e.debug()})},"debug")]),a.createVNode("div",null,[a.createVNode("button",{onClick:t[29]||(t[29]=function(t){return e.addTemplate()})},"add template"),a.createVNode("button",{onClick:t[30]||(t[30]=function(t){return e.addText()})},"add text"),a.createVNode("button",{onClick:t[31]||(t[31]=function(t){return e.addImage()})},"add image"),a.createVNode("button",{onClick:t[32]||(t[32]=function(t){return e.addColor()})},"add color")]),a.createVNode("div",null,[a.createVNode("button",{onClick:t[33]||(t[33]=function(t){return e.toggleCommonEditor("variables")})},"edit variables"),a.createVNode("button",{onClick:t[34]||(t[34]=function(t){return e.toggleCommonEditor("collections")})},"edit collections"),a.createVNode("button",{onClick:t[35]||(t[35]=function(t){return e.toggleCommonEditor("constrains")})},"edit constrains")]),a.createVNode("div",null,[a.createVNode("button",{onClick:t[36]||(t[36]=function(t){return e.recommand()})},"recommand"),e.selectedVariables.length>0?(a.openBlock(),a.createBlock("button",{key:0,onClick:t[37]||(t[37]=function(t){return e.applyRecommandResult()})},"apply")):a.createCommentVNode("v-if",!0),(a.openBlock(!0),a.createBlock(a.Fragment,null,a.renderList(e.recommandResults,(function(t){return a.openBlock(),a.createBlock("img",{src:t.preview,onClick:function(n){return e.selectVariables(t.variables)},style:e.getPreviewStyle(t.variables)},null,12,["src","onClick"])})),256))])],4)},t.templateEditorRenderLayerTemplateHtml=function(e,t){var n=a.resolveComponent("template-renderer");return a.openBlock(),a.createBlock("div",{style:e.canvasStyle},[a.createVNode("div",{style:e.styleGuideStyle},[(a.openBlock(!0),a.createBlock(a.Fragment,null,a.renderList(e.canvasState.styleGuide.data.templates,(function(t){return a.openBlock(),a.createBlock("div",{style:e.getTemplateStyle(t)},[t.name?(a.openBlock(),a.createBlock("div",{key:0,style:e.getNameStyle(t)},a.toDisplayString(t.name),5)):a.createCommentVNode("v-if",!0),a.createVNode(n,{template:t,"style-guide":e.canvasState.styleGuide.data},null,8,["template","style-guide"])],4)})),256))],4)],4)},t.templateEditorSelectionLayerTemplateHtml=function(e,t){return a.openBlock(),a.createBlock("div",{style:e.canvasStyle},[a.createVNode("div",{style:e.styleGuideStyle},[(a.openBlock(!0),a.createBlock(a.Fragment,null,a.renderList(e.selectionRegions,(function(t){return a.openBlock(),a.createBlock("div",{style:e.getSelectionAreaStyle(t)},null,4)})),256)),(a.openBlock(!0),a.createBlock(a.Fragment,null,a.renderList(e.canResizeRegions,(function(t){return a.openBlock(),a.createBlock("div",{style:e.getResizeStyle(t)},[(a.openBlock(!0),a.createBlock(a.Fragment,null,a.renderList(e.resizeRegions,(function(e){return a.openBlock(),a.createBlock("div",{style:e},null,4)})),256))],4)})),256)),e.canRotateRegion?(a.openBlock(),a.createBlock("div",{key:0,style:e.rotateAreaStyle},[a.createVNode("div",{style:e.rotateRegion},null,4),a.createVNode("div",{style:e.rotateCircleRegion},null,4)],4)):a.createCommentVNode("v-if",!0)],4)],4)},t.templateEditorTemplateEditorTemplateHtml=function(e,t){var n=a.resolveComponent("layer-panel"),i=a.resolveComponent("render-layer"),r=a.resolveComponent("selection-layer"),s=a.resolveComponent("hover-layer"),o=a.resolveComponent("dragging-for-selection-layer"),l=a.resolveComponent("alignment-layer"),p=a.resolveComponent("mask-layer"),c=a.resolveComponent("context-menu"),d=a.resolveComponent("image-viewer"),u=a.resolveComponent("operation-panel"),h=a.resolveComponent("common-editor");return a.openBlock(),a.createBlock("div",{style:{display:"flex"}},[a.createVNode("div",{style:e.layerPanelStyle},[a.createVNode(n,{"canvas-state":e.canvasState},null,8,["canvas-state"])],4),a.createVNode("div",{style:e.canvasStyle},[a.createVNode(i,{"canvas-state":e.canvasState},null,8,["canvas-state"]),a.createVNode(r,{"canvas-state":e.canvasState},null,8,["canvas-state"]),a.createVNode(s,{"canvas-state":e.canvasState},null,8,["canvas-state"]),a.createVNode(o,{"canvas-state":e.canvasState,mask:e.canvasState.mask},null,8,["canvas-state","mask"]),a.createVNode(l,{"style-guide":e.canvasState.styleGuide,viewport:e.canvasState.viewport,alignment:e.canvasState.alignment},null,8,["style-guide","viewport","alignment"]),a.createVNode(p,{"canvas-state":e.canvasState},null,8,["canvas-state"]),a.createVNode(c,{"canvas-state":e.canvasState},null,8,["canvas-state"]),e.canvasState.showImageViewer&&"content"===e.canvasState.styleGuide.selection.kind&&"image"===e.canvasState.styleGuide.selection.content.kind?(a.openBlock(),a.createBlock(d,{key:0,width:e.canvasState.viewport.width,height:e.canvasState.viewport.height,url:e.canvasState.styleGuide.selection.content.url},null,8,["width","height","url"])):a.createCommentVNode("v-if",!0)],4),a.createVNode("div",{style:e.operationPanelStyle},[a.createVNode(u,{"canvas-state":e.canvasState},null,8,["canvas-state"])],4),a.createVNode(h,{"canvas-state":e.canvasState},null,8,["canvas-state"])])},t.templateModelEditorTemplateHtml=function(e,t){var n=a.resolveComponent("json-editor");return e.appState.templateModelEditorVisible?(a.openBlock(),a.createBlock("div",{key:0,style:e.editorStyle},[a.createVNode(n,{schema:e.schema,"initial-value":e.appState.templateModel,onUpdateValue:t[1]||(t[1]=function(t){return e.updateValue(t)})},null,8,["schema","initial-value"]),a.createVNode("textarea",{value:e.templateModel,style:{width:"calc(100% - 40px)",height:"400px","margin-left":"20px","margin-right":"20px"},onBlur:t[2]||(t[2]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.changeTemplateModel&&e.changeTemplateModel.apply(e,i.__spreadArray([],i.__read(t)))})},null,40,["value"]),a.createVNode("button",{onClick:t[3]||(t[3]=function(t){return e.addAsTestCase()})},"add as test case")],4)):a.createCommentVNode("v-if",!0)},t.templateSchemaJson={$ref:"#/definitions/Template",definitions:{Template:{type:"object",properties:{id:{type:"string"},name:{type:"string"},contents:{type:"array",items:{$ref:"#/definitions/TemplateContent"}},parameters:{type:"array",items:{type:"string"}},x:{type:"number"},y:{type:"number"},z:{type:"integer"},width:{type:"number"},height:{type:"number"},widthExpression:{type:"string"},heightExpression:{type:"string"},widthExpressionId:{type:"string"},heightExpressionId:{type:"string"},display:{type:"string",const:"flex"},flexDirection:{type:"string",enum:["row","column"]},justifyContent:{type:"string",enum:["start","end","center","between"]},alignItems:{type:"string",enum:["start","end","center"]},marginLeft:{type:"number"},marginRight:{type:"number"},marginTop:{type:"number"},marginBottom:{type:"number"}},required:["id","contents","x","y","width","height"],additionalProperties:!1},TemplateContent:{anyOf:[{$ref:"#/definitions/TemplateTextContent"},{$ref:"#/definitions/TemplateImageContent"},{$ref:"#/definitions/TemplateColorContent"},{$ref:"#/definitions/TemplateReferenceContent"},{$ref:"#/definitions/TemplateSnapshotContent"}]},TemplateTextContent:{type:"object",properties:{kind:{type:"string",const:"text"},text:{type:"string"},textExpression:{type:"string"},textExpressionId:{type:"string"},fontFamily:{type:"string"},fontSize:{type:"number"},fontSizeExpression:{type:"string"},fontSizeExpressionId:{type:"string"},color:{type:"string"},colorExpression:{type:"string"},colorExpressionId:{type:"string"},characters:{type:"array",items:{$ref:"#/definitions/TextCharacter"}},x:{type:"number"},y:{type:"number"},z:{type:"integer"},width:{type:"number"},height:{type:"number"},xExpression:{type:"string"},yExpression:{type:"string"},zExpression:{type:"string"},xExpressionId:{type:"string"},yExpressionId:{type:"string"},zExpressionId:{type:"string"},widthExpression:{type:"string"},heightExpression:{type:"string"},widthExpressionId:{type:"string"},heightExpressionId:{type:"string"},if:{type:"string"},ifId:{type:"string"},else:{type:"boolean",default:!1},repeat:{type:"string"},repeatId:{type:"string"},hidden:{type:"boolean"},rotate:{type:"number",default:0},rotateExpression:{type:"string"},rotateExpressionId:{type:"string"}},required:["kind","text","fontFamily","fontSize","color","x","y","width","height"],additionalProperties:!1},TextCharacter:{type:"object",properties:{text:{type:"string"}},required:["text"],additionalProperties:!1},TemplateImageContent:{type:"object",properties:{kind:{type:"string",const:"image"},url:{type:"string"},urlExpression:{type:"string"},urlExpressionId:{type:"string"},opacity:{type:"number"},base64:{type:"string"},blendMode:{type:"string",const:"multiply"},x:{type:"number"},y:{type:"number"},z:{type:"integer"},width:{type:"number"},height:{type:"number"},xExpression:{type:"string"},yExpression:{type:"string"},zExpression:{type:"string"},xExpressionId:{type:"string"},yExpressionId:{type:"string"},zExpressionId:{type:"string"},widthExpression:{type:"string"},heightExpression:{type:"string"},widthExpressionId:{type:"string"},heightExpressionId:{type:"string"},if:{type:"string"},ifId:{type:"string"},else:{type:"boolean",default:!1},repeat:{type:"string"},repeatId:{type:"string"},hidden:{type:"boolean"},rotate:{type:"number",default:0},rotateExpression:{type:"string"},rotateExpressionId:{type:"string"}},required:["kind","url","x","y","width","height"],additionalProperties:!1},TemplateColorContent:{type:"object",properties:{kind:{type:"string",const:"color"},color:{type:"string"},colorExpression:{type:"string"},colorExpressionId:{type:"string"},x:{type:"number"},y:{type:"number"},z:{type:"integer"},width:{type:"number"},height:{type:"number"},xExpression:{type:"string"},yExpression:{type:"string"},zExpression:{type:"string"},xExpressionId:{type:"string"},yExpressionId:{type:"string"},zExpressionId:{type:"string"},widthExpression:{type:"string"},heightExpression:{type:"string"},widthExpressionId:{type:"string"},heightExpressionId:{type:"string"},if:{type:"string"},ifId:{type:"string"},else:{type:"boolean",default:!1},repeat:{type:"string"},repeatId:{type:"string"},hidden:{type:"boolean"},rotate:{type:"number",default:0},rotateExpression:{type:"string"},rotateExpressionId:{type:"string"}},required:["kind","color","x","y","width","height"],additionalProperties:!1},TemplateReferenceContent:{type:"object",properties:{kind:{type:"string",const:"reference"},id:{type:"string"},props:{type:"string"},propsIds:{type:"object",additionalProperties:{type:"string"}},x:{type:"number"},y:{type:"number"},z:{type:"integer"},xExpression:{type:"string"},yExpression:{type:"string"},zExpression:{type:"string"},xExpressionId:{type:"string"},yExpressionId:{type:"string"},zExpressionId:{type:"string"},if:{type:"string"},ifId:{type:"string"},else:{type:"boolean",default:!1},repeat:{type:"string"},repeatId:{type:"string"},hidden:{type:"boolean"},rotate:{type:"number",default:0}},required:["kind","id","x","y"],additionalProperties:!1},TemplateSnapshotContent:{type:"object",properties:{kind:{type:"string",const:"snapshot"},snapshot:{$ref:"#/definitions/Template"},x:{type:"number"},y:{type:"number"},z:{type:"integer"},xExpression:{type:"string"},yExpression:{type:"string"},zExpression:{type:"string"},xExpressionId:{type:"string"},yExpressionId:{type:"string"},zExpressionId:{type:"string"},hidden:{type:"boolean"},rotate:{type:"number",default:0}},required:["kind","snapshot","x","y"],additionalProperties:!1}}}}},n={};function i(e){var a=n[e];if(void 0!==a)return a.exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,i),r.exports}i.m=t,e=[],i.O=(t,n,a,r)=>{if(!n){var s=1/0;for(p=0;p<e.length;p++){for(var[n,a,r]=e[p],o=!0,l=0;l<n.length;l++)(!1&r||s>=r)&&Object.keys(i.O).every((e=>i.O[e](n[l])))?n.splice(l--,1):(o=!1,r<s&&(s=r));o&&(e.splice(p--,1),t=a())}return t}r=r||0;for(var p=e.length;p>0&&e[p-1][2]>r;p--)e[p]=e[p-1];e[p]=[n,a,r]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={826:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var a,r,[s,o,l]=n,p=0;for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(l)var c=l(i);for(t&&t(n);p<s.length;p++)r=s[p],i.o(e,r)&&e[r]&&e[r][0](),e[s[p]]=0;return i.O(c)},n=globalThis.webpackChunktemplate_editor_demo=globalThis.webpackChunktemplate_editor_demo||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=i.O(void 0,[736],(()=>i(3607)));a=i.O(a)})();
</script>
